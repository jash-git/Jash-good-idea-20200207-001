(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{1035:function(e,t,a){e.exports={controllerViews:{Featured:a(3726),MegaItem:a(2879),SimpleItem:a(3730),Storyline:a(3731),Stream:a(3732),StreamAd:a(2577)},stores:{ContentStore:a(184),StreamStore:a(2153),VEModuleStore:a(1909),VideoCapabilitiesStore:a(1188),VideoLocationStore:a(1627)},meta:{dependencies:["react-share-buttons","tdv2-applet-userintent","tdv2-applet-video-modal"]}}},1188:function(e,t,a){"use strict";var n=a(13),i=a(1260),s=n({storeName:"VideoCapabilitiesStore",statics:{handlers:{SET_USER_CONNECTION:"_setUserConnection"}},initialize:function(){this._data={connectionType:null},this._setMobileAutoplaySupport(),this._isUserConnectionChecksEnabled=!0},getConnectionType:function(){return this._data.connectionType},isAutoplayEnabledConnection:function(){var e=this.getConnectionType();return"unknown"===e||i.isAutoplayAllowed(e)},isMobileAutoplayDevice:function(){return this._data.isMobileAutoplaySupported},isUserConnectionChecksEnabled:function(){return this._isUserConnectionChecksEnabled},disableUserConnectionChecks:function(){return this._isUserConnectionChecksEnabled=!1},_setMobileAutoplaySupport:function(){"undefined"!=typeof window&&(this._data.isMobileAutoplaySupported=i.isAutoplaySupported())},_setUserConnection:function(e){e&&e.type&&(this._data.connectionType=e.type,this.emitChange())}});e.exports=s},1260:function(e,t,a){"use strict";var n=a(1853),i={wifi:!0,broadband:!0,dsl:!0,cable:!0};function s(){if("undefined"!=typeof navigator)return(navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)||{}).type}function r(){return!n.mobile||(n.android&&n.chrome>=50||n.ios&&!n.iosWebView&&n.safari>=10)}e.exports={getConnectionType:s,isAutoplaySupported:r,isAutoplayAllowed:function(e){return!n.mobile||!(!(e=(s()||e||"").replace(/^cs_/i,"").toLowerCase())||!i[e])&&r()}}},1270:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var n=o(a(1)),i=o(a(327)),s=o(a(350)),r=o(a(17));function o(e){return e&&e.__esModule?e:{"default":e}}function l(e,t,a){var o=(0,n["default"])(t,["componentConfig","bundleName"],"tdv2-applet-stream"),l={},d=[],u=t.componentConfig,c=u&&u.ui||{};t.components.forEach((function(e){e.bundleName&&"tdv2-applet-stream"!==e.bundleName||(e.bundleName=o);var t=e.bundleName+"."+e.name;if(!l[t]){var a=(0,n["default"])(u,["components",e.name]);if(a){var s=(0,n["default"])(e,["props","componentConfig"],{});s=(0,r["default"])({},s,a),(0,i["default"])(e,["props","componentConfig"],s)}l[t]=!0,d.push(e)}})),c.share_buttons&&c.share_buttons.enable&&d.push({bundleName:"react-share-buttons",name:"FollowButtonGroup"}),(0,s["default"])(e,d,a)}l.displayName="loadStreamComponents",e.exports=t["default"]},1286:function(e,t,a){"use strict";var n=a(86),i=a(1566),s=a(4),r=a(1188);e.exports={contextTypes:{session:s.object.isRequired},componentDidMount:function(){var e=this.context,t=n(e,"session.dimensions.device","desktop"),a=e.getStore(r);if("undefined"!=typeof window&&"desktop"!==t&&a.isMobileAutoplayDevice()){var s=this._deviceSupportsVideoAutoplay();a.isUserConnectionChecksEnabled()?(a.addChangeListener(this.onVideoCapabilitiesChange),e.executeAction(i)):this.state.supportsVideoAutoplay!==s&&this.setState({supportsVideoAutoplay:s})}},getInitialState:function(){return{supportsVideoAutoplay:"desktop"===n(this.context,"session.dimensions.device","desktop")}},_deviceSupportsVideoAutoplay:function(){var e=this.context;if("desktop"===n(e,"session.dimensions.device","desktop"))return!0;var t=e.getStore(r);return t&&t.isMobileAutoplayDevice()&&t.isAutoplayEnabledConnection()},onVideoCapabilitiesChange:function(){this.setState({supportsVideoAutoplay:this._deviceSupportsVideoAutoplay()})}}},1304:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSrcSet=function(e){if(!e)return"";var t=Object.keys(e).reduce((function(t,a){var n=e[a];return n&&t.push(n.get("url")+" "+a),t}),[]);return t.length>1?t.join():""},t.getBaseI13n=function(e,t,a,i){var s,o,l=e.get("i13n")||n["default"].Map(),d=e.get("clusterInfo")||n["default"].Map(),u=e.get("isTodayItem"),c=e.get("storyline"),f=e.get("type"),g=t&&"function"==typeof t.get&&t.get("fallback"),h=t&&!g,v={ct:r[f]||f,g:e.get("id")},b=_(e.get("link")||e.get("url")||"");b&&(v.tar=b.host,v.tar_uri=b.pathname);e.get("off_network")&&(v.tar_uri="offnet");var y=e.get("title");y&&(v.slk=y);u&&(v.aid=e.get("aid",""),v.g=v.aid?v.g:-1,v.expb=0);var x=e.get("mabLogString");x&&(v.mab_test=x);if(!i){v.refcnt=c?c.size:0,v.bpos=l.get("bpos"),v.cpos=l.get("cpos"),v.cposy=l.get("cposy"),v.ss_cid=d.get("id")||u&&e.get("id")||"",v.grpt=d.get("type")||"",v.cpos!==a+1&&(v.cpos=v.cposy=a+1),c&&(s=!!c.getIn([0,"images"]),o=!!c.getIn([1,"images"])),p(e)?(v.pkgt="need_to_know",v.subsec="needtoknow"):v.pkgt=c?s&&!o?"cluster_first_img":o&&!s?"cluster_second_img":!h||s||o?g&&c?"cluster_ph_img":h?"cluster_all_img":"cluster_no_img":"cluster_no_child_imgs":h?"orphan_img":g?"orphan_ph_img":"orphan_no_img";var S=m(e);S&&(v.cnt_tpc=S)}return v},t.getSharingMetadata=d,t.getSharingGroupMetadata=function(e,t){var a=d(e,t);return{metaData:{description:a.description,link:a.url,picture:a.imageUrl,title:a.title}}},t.getTypeIcon=u,t.isAd=function(e){var t=e.get("type");return"ad"===t||"cm"===t},t.isEditorsPick=function(e){var t=e.get("listIdMixin")||e.get("editorsPick");return"true"===t||!0===t},t.isInlineVideo=function(e,t){var a=(0,i["default"])(t,["video","enable_video_enrichment"]),n=e.get("video_enrichment");return"video"===e.get("type")&&(0,i["default"])(t,["video","use_inline_video"])||n&&a&&n.get("uuid")},t.getItemThumbSize=function(e,t){return(0,i["default"])(t,["ui","thumbnail_sizes",e.get("type")],"small")},t.getButtonsToShow=c,t.isLazyLoad=f,t.isNeedToKnow=p,t.getBaseItemState=function(e){var t=e.config,a=e.data,n=(0,i["default"])(t,["ui","storyline_navparam_enabled"]);return{buttons:!f(e)&&v(e),relatedItems:g(e),storylineIds:n?h(a):[],typeIcon:u(a,t)}},t.getContentLabel=m,t.getNavParams=function(e,t){var a=e.get("clusterInfo")||n["default"].Map(),i=e.get("id"),s=t.render_targets&&t.render_targets[e.get("type")],r={category:t.persist_category?t.category:"",i13n:{ss_cid:a.get("id")||e.get("isTodayItem")&&i||""},originalSite:t.content_site,pageTitle:e.get("title"),url:e.get("url"),uuid:i};s&&(r.renderTarget=s);return r},t.getRelatedItems=g,t.getStorylineIds=h,t.getVideoManagedPlayerConfig=function(e){var t,a,n,i,s;if(e){a=e.videoId||undefined,t=e.clickParams||undefined,s=e.playlist||undefined,i=e.rid||undefined,(t||i)&&(n={},t&&(n.clickParams=t),i&&(n.pageParams={_rid:i}));var r={cover:e.cover,enableAd:!!e.enableAd,enableSharedMediaStore:!0,energySaverMode:e.energySaverMode,key:a,navToUrlOnClick:e.navToUrlOnClick,yvpConfig:{autoplay:!!e.autoplay,ccode:e.ccode,cpos:e.cpos,expName:e.expName||"advance",expType:e.expType||"strm-inline",html5:!0,loop:!!e.loop,mute:"boolean"!=typeof e.mute||e.mute,playlist:s||{mediaItems:[{id:a}]},preload:!0,rapidConfig:n,replayonlyendscreen:"boolean"!=typeof e.replayonlyendscreen||e.replayonlyendscreen,sec:e.sec,showTitleOnHover:!!e.showTitleOnHover,startscreen:{showDesc:!1,showProvider:!1,showTitle:!1},stopBufferingOnPause:!!e.stopBufferingOnPause}};return e.continuousPlay!==undefined&&(r.yvpConfig.continuousPlay=!!e.continuousPlay),e.ccOnMute!==undefined&&(r.yvpConfig.ccOnMute=!!e.ccOnMute),e.mediaItem!==undefined&&(r.yvpConfig.mediaItem=e.mediaItem),e.showTitleOnStart!==undefined&&(r.yvpConfig.showTitleOnStart=!!e.showTitleOnStart),e.showControls!==undefined&&(r.yvpConfig.showControls=!!e.showControls),e.displayMarkers!==undefined&&(r.yvpConfig.displayMarkers=!!e.displayMarkers),e.hidePlaylist!==undefined&&(r.yvpConfig.hidePlaylist=!!e.hidePlaylist),e.video_reel!==undefined&&(r.yvpConfig.video_reel=!!e.video_reel),e.YVAP!==undefined&&(r.yvpConfig.YVAP=e.YVAP),r}return{}},t.parseUrl=_,t.shouldFollowLink=function(e,t){return t.ui&&!t.ui.relative_links||"/"!==e.get("link","").charAt(0)},t.shouldRenderButtons=v,t.shouldRenderComment=b,t.shouldRenderUserintent=function(e){return!!(0,i["default"])(e,["ui","user_intent","enable"])},t.shouldRenderShareButtonMenu=y,t.filterStoryId=function(e,t){return e.filter((function(e){return e!==t}))};var n=s(a(182)),i=s(a(1));function s(e){return e&&e.__esModule?e:{"default":e}}var r={article:"story"},o=/\./g,l="undefined"!=typeof window;function d(e,t){var a=t&&t.getPageData();return{description:e.get("summary")||e.get("description"),imageUrl:e.getIn(["images","original","url"])||(0,i["default"])(a,["image"],""),title:e.get("title")||"",url:e.get("link")||"",uuid:e.get("id")||""}}function u(e,t){var a=e.get("subtype")||e.get("type"),n=t.ui?t.ui.show_type_icon:null;return["video","slideshow"].indexOf(a)>=0&&n?a:""}function c(e,t){var a;return e.get("off_network")&&(a=(0,i["default"])(t,["offnet","share_buttons","buttons_to_show"])),a||(a=(0,i["default"])(t,["ui","share_buttons","buttons_to_show"],[])),a}function f(e){var t=e.config.pageload_image_count;return t>=0&&e.index>=t}function p(e){return"roundup"===e.getIn(["clusterInfo","type"])}function m(e,t){var a=p(e),n=e.get("categoryLabel")||"",i=n.replace(o,""),s=e.get("property")||"";return t=t||{},a?t.THE_ROUNDUP||"Need To Know":t["STREAM_CATEGORY_"+i.toUpperCase()]||t["STREAM_CATEGORY_"+s.toUpperCase()]||n||s||""}function g(e){var t=e.relatedItems,a=(0,i["default"])(e.config,["ui","related_min"])||3;return t&&t.size>=a?t:null}function h(e){var t=e.get("id"),a=e.get("storyline")||n["default"].List(),i=[t];return a.forEach((function(e){i.push(e.get("id"))})),i}function _(e){if(e=e.split("?")[0]){if("/"===e.charAt(0))return{host:l?window.location.host:"",pathname:e,protocol:l?window.location.protocol:""};var t=e.split("/");return{host:t[2],pathname:"/"+t.slice(3).join("/"),protocol:t[0]}}return null}function v(e){var t=e.config,a=e.data;return y(a,t)||b(a,t)}function b(e,t){var a="false"!==e.get("comments_allowed"),n=e.get("off_network")||!1,s=n&&(0,i["default"])(t,["ui","comments_offnet"])||!1;return!(!a||n&&!s||!(0,i["default"])(t,["ui","comments"]))}function y(e,t){var a=(0,i["default"])(t,["ui","share_buttons","enable"],!1),n=c(e,t);return a&&n.length>0}},1566:function(e,t,a){"use strict";var n=a(1260),i=a(1188);e.exports=function(e,t,a){var s=e.getStore(i),r=s.getConnectionType();return r?a(null,{type:r}):(r=n.getConnectionType())?(e.dispatch("SET_USER_CONNECTION",{type:r}),a(null,{type:r})):s.isUserConnectionChecksEnabled()?(s.disableUserConnectionChecks(),void e.service.read("UserConnectionService.read",{},{},(function(t,n){var i={type:t?"err":n&&n.speed||"unknown"};e.dispatch("SET_USER_CONNECTION",i),a(null,i)}))):a&&a()}},1581:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var n=s(a(1111)),i=s(a(1270));function s(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,a){var s={ads:t.ads,category:t.category,ui:{image_quality_override:t.ui.image_quality_override,storyline_count:t.ui.storyline_count,summary:t.ui.summary,view:t.ui.view}};if(!s.ads.frequency)return a&&a(n["default"].http.badRequest("Stream loadAds action: No ads requested"));e.service.read("StreamService.ads",s,{},(function(n,s){!n&&s?(0,i["default"])(e,{componentConfig:t,components:s.components||[]},(function(){e.dispatch("STREAM_ADS",{data:s,id:t.instanceId,category:t.category}),a&&a(null)})):(e.dispatch("STREAM_ADS_FAILURE",{id:t.instanceId,category:t.category}),a&&a(n||new Error("Ads not returned from StreamService.ads")))}))}r.displayName="loadAds",e.exports=t["default"]},1598:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(1084)),i=(d(a(4)),d(a(2))),s=a(321),r=a(85),o=d(a(1810)),l=a(322);function d(e){return e&&e.__esModule?e:{"default":e}}t["default"]=function(e){var t=e.promotions,a=e.link,d=e.isMobile,u=e.isDesktop,c=e.intl,f=e.isGridLayout,p=e.i13nModel;p&&(p.slk="promotions");var m=void 0,g=t[0].value,h=void 0;return g.CUSTOM?m=g.CUSTOM:g.STRIKE_PRICE?(m="$"+g.STRIKE_PRICE.split("|")[1],h="$"+g.STRIKE_PRICE.split("|")[0]):g.MONEY_OFF?m=c?c.formatMessage({id:"OFF"},{off:"$"+g.MONEY_OFF}):i["default"].createElement(r.FormattedMessage,{id:"OFF",values:{off:"$"+g.MONEY_OFF}}):g.PERCENT_OFF&&(m=c?c.formatMessage({id:"OFF"},{off:""+g.PERCENT_OFF}):i["default"].createElement(r.FormattedMessage,{id:"OFF",values:{off:""+g.PERCENT_OFF}})),m?d?function(e,t,a,r,d){var u=(0,n["default"])("",{"Fz(16px) Va(t) Fw(600)":e.STRIKE_PRICE,"Fz(12px) Fw(600) Mend(2px) Va(m)":!e.STRIKE_PRICE});return i["default"].createElement(l.I13nAnchor,{className:"Lh(2.5em) Fw(b) C($c-fuji-blue-1-a) Td(n) Pos(r) B(3px)",href:t,target:"_blank",rel:"noopener noreferrer",i13nModel:d},i["default"].createElement(s.Icon,{className:"Mend(4px) Pos(r) B(7px) H(16px) W(16px)",color:"#188fff",asset:o["default"]}),i["default"].createElement("span",{className:u}," ",a," "),r&&i["default"].createElement("strike",{className:"C(#828c93) Fw(600) Fz(14px) Mx(2px) Op(0.8)"}," ",r," "))}(g,a,m,h,p):u?function(e,t,a,d,u,c,f){var p=(0,n["default"])("Fw(b) C($c-fuji-blue-1-a) Td(n) D(ib)",{"Lh(1.35em)":!c}),m=(0,n["default"])("C(#828c93) Fw(600) Mx(2px) Pos(r) T(2px) Op(0.8)",{"Fz(14px)":!c,"Fz(12px)":c}),g=(0,n["default"])("Mend(4px)",{"H(13px) W(13px)":!c,"H(12px) W(12px)":c}),h=(0,n["default"])("Fw(600) Pos(r) T(2px)",{"Mend(2px) Fz(13px)":!e.STRIKE_PRICE&&!c,"Mend(2px) Fz(12px)":!e.STRIKE_PRICE&&c,"Fz(16px)":e.STRIKE_PRICE&&!c,"Fz(14px)":e.STRIKE_PRICE&&c}),_=(0,n["default"])("",{"My(4px)":!c,"Lh(1.1em)":c});return i["default"].createElement("div",{className:_},i["default"].createElement(l.I13nAnchor,{className:"Td(n) O(n)",href:t,target:"_blank",rel:"noopener noreferrer",i13nModel:f},i["default"].createElement("div",{className:p},i["default"].createElement(s.Icon,{className:g,color:"#188fff",asset:o["default"]}),i["default"].createElement("span",{className:h}," ",a," "),d&&i["default"].createElement("strike",{className:m}," ",d," ")),e.FREE_SHIPPING&&i["default"].createElement("span",{className:"Fz(14px) Pos(r) T(2px) C(#959595) Mx(6px)"}," ",u?u.formatMessage({id:"FREE_SHIPPING"}):i["default"].createElement(r.FormattedMessage,{id:"FREE_SHIPPING"})," ")))}(g,a,m,h,c,f,p):void 0:null},e.exports=t["default"]},1622:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=(f(a(4)),a(2)),s=f(i),r=a(321),o=f(a(1447)),l=f(a(1670)),d=f(a(323)),u=f(a(1084)),c=a(85);function f(e){return e&&e.__esModule?e:{"default":e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.count;return a.state={commentCount:n,commentString:a.getCommentString(n),hover:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"getCommentString",value:function(e){var t=this.props,a=t.intl,n=t.showDescription;if(!e)return n?a.formatMessage({id:"APPLET_COMMENT_START_CONVERSATION"}):"";var i=void 0;return i=e>=1e6?parseFloat((e/1e6).toFixed(2))+"m":e>=1e5?parseFloat((e/1e3).toFixed(0))+"k":e>=1e4?parseFloat((e/1e3).toFixed(1))+"k":a.formatNumber(e),n&&(i+=" "+a.formatMessage({id:"APPLET_COMMENT_COUNT_DESCRIPTION"},{count:e})),i}},{key:"componentWillMount",value:function(){var e=this.constructor.prototype;(this.props.enableHoverColor||this.props.enableTooltip)&&(this.onMouseEnter=e.onMouseEnter.bind(this),this.onMouseLeave=e.onMouseLeave.bind(this))}},{key:"onMouseEnter",value:function(){this.setState({hover:!0})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1})}},{key:"renderTooltip",value:function(e){if(this.props.enableTooltip&&this.state.hover){var t=(0,u["default"])("comment-btn-tooltip Bdc($c-fuji-grey-c) Bds(s) Bdw(1px)","Bdrs(3px) Bgc(#fff) Bxsh(commentTooltipBxsh) C($c-fuji-blue-1-a)","Fz(13px) Lh(14px) Pos(a) Px(14px) Py(8px) Whs(nw) Z(3)",{"Start(0) T(22px)":"down"===e,"B(-3px) End(36px)":"left"===e}),a=this.props.intl.formatMessage({id:"APPLET_COMMENT_COMMENTS"});return s["default"].createElement("b",{className:t},this.props.intl.formatMessage({id:this.state.commentCount?"APPLET_COMMENT_COMMENTS":"APPLET_COMMENT_START_CONVERSATION",defaultMessage:a}))}}},{key:"render",value:function(){var e=this.props,t=e.showDescription,a=e.deepLinkQueryParams,n=e.display,i=e.iconSize,c=e.iconClassName,f=e.textAlign,p=e.useFujiIcon,m=this.state,g=m.commentCount,h=m.commentString,_=e.openDirection||(["block","inline-block"].indexOf(n)>=0?"left":"down"),v=this.state.hover?e.hoverIconColor:e.iconColor,b=e.url;if(!b)return null;var y="/"!==b.charAt(0);y&&a&&(b+=(-1===b.indexOf("?")?"?":"&")+a);var x=(0,u["default"])("comment-btn-count",e.stringClassName,"Pos(r)",{"D(b)":"block"===n||"inline-block"===n,"Fz(11px)":"block"===n||"inline-block"===n,"Mend(4px)":"inline"===n&&"left"===f,"Mstart(4px)":"inline"===n&&"right"===f,"Fz(13px)":"inline"===n&&!t,"Fw(b) Fz(11px)":t}),S={className:(0,u["default"])("comment-btn-link Pos(r) Cur(p) Va(m) Td(n)",e.className,{"Pb(6px) D(b)":"block"===n,"D(ib)":"inline"===n,"D(ib) Pb(6px)":"inline-block"===n,"desktop_W(100%)":"left"===_}),followLink:y,href:b,i13nModel:Object.assign({},e.i13nModel||e.model,{elm:"cmmt_open",itc:0,pos:1,slk:"comments"}),navParams:Object.assign({},e.navParams,{collapseContent:!0,uuid:e.uuid||""}),target:e.target},C=void 0;return h?(C=s["default"].createElement("span",{style:{color:v},className:x},h),S["aria-label"]=(g?h+" ":"")+e.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"})):S["aria-label"]=e.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"}),(e.enableHoverColor||e.enableTooltip)&&(S.onMouseEnter=this.onMouseEnter,S.onMouseLeave=this.onMouseLeave),s["default"].createElement(d["default"],S,"left"===f||"top"===f?C:null,s["default"].createElement(r.Icon,{className:c,asset:p?l["default"]:o["default"],height:i,color:v,style:{position:"relative",top:"1px",margin:"auto",verticalAlign:"middle"}}),"right"===f||"bottom"===f?C:null,this.renderTooltip(_))}}]),t}(i.PureComponent);p.defaultProps={className:"",deepLinkQueryParams:"bcmt=1",display:"inline",enableHoverColor:!1,enableTooltip:!1,hoverIconColor:"#188fff",iconClassName:"",iconColor:"#ccc",iconSize:20,showDescription:!1,textAlign:"left",stringClassName:"Fw(b)"},t["default"]=(0,c.injectIntl)(p),e.exports=t["default"]},1678:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,a){var l=function(e,t){var a=d;t&&"StreamService"!==t||(a=a.concat(u));for(var n={ui:{}},s=0,o=a.length;s<o;s++){var l=a[s],c=(0,i["default"])(e,l);(c||"number"==typeof c)&&(0,r["default"])(n,l,c)}return n}(t,a),c=e.getStore("StreamStore"),f=e.getStore("ContentStore"),p=e.getStore("PageStore"),m=f.getCurrentContent();"failsafe"===(0,i["default"])(e,["session","dimensions","mode"])?(0,s["default"])(l,n.getFailsafeConfigs(t)):(0,i["default"])(e,["session","isLightWeightBrowser"])&&(0,s["default"])(l,n.getLightWeightConfigs(t));if(l.category=l.category||"",l=Object.assign(l,n.getCategoryOverrides(c,t)),t.ui&&!0===t.ui.list_id_for_hero){var g=(c.getHeroCategory()||"").split(":");2===g.length&&"LISTID"===g[0]?l.ui.list_id_for_hero=g[1]:(delete l.ui.editorial_content_count,delete l.ui.list_id_for_hero)}if(t.use_yct_wikiids&&("sidekick"===t.ui.view||"discussion"===t.ui.view)){var h=m&&(0,o.get)(m,"entities");if(h){var _=n.getYctWikiids(h);_&&(_.ycts&&_.ycts.length>0&&(l.ycts=_.ycts),_.wikiids&&_.wikiids.length>0&&(l.wikiids=_.wikiids))}}m&&(l.content_type=(0,o.get)(m,"contentType"),l.site_attribute=(0,o.getIn)(m,["adMeta","site_attribute"])||(0,o.getIn)(m,["ad_meta","site_attribute"]));l.ads&&(c.getAdsFrequency()!==undefined&&(l.ads.frequency=c.getAdsFrequency()),l.ads.se=c.getSectionId(l.ui&&l.ui.view)||l.ads.se,l.ads.spaceid=p.getSpaceid()||l.ads.spaceid);t.use_content_id&&(l.content_id=c.getPageUuid());var v=e.getStore("RouteStore").getCurrentRoute();if(void 0!==v&&v){var b=function(e){return(0,i["default"])(e,["params","contentSite"])||(0,i["default"])(e,["contentSite"])}(v=v||{});void 0!==b&&(l.content_site=b)}if(t.max_exclude>0){var y=e.localStorage,x=y&&y.getItem("strm-read")||{};l.exclude_uuids=[];var S=Object.keys(x).sort((function(e,t){return parseInt(x[t])-parseInt(x[e])}));l.exclude_uuids=S.slice(0,t.max_exclude)}return l.pageContext=(0,i["default"])(p.getPageConfig(),["_context"],{}),l};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1828)),i=l(a(1)),s=l(a(17)),r=l(a(327)),o=a(116);function l(e){return e&&e.__esModule?e:{"default":e}}var d=[["additional_subsite"],["batches","ss_endpoint"],["bypassmodal_enabled"],["category"],["dedupe_ntk_items_from_stream"],["flyout_enabled"],["forceJpg"],["image"],["imageResizer"],["link_params"],["releasesParams"],["ncpParams","query"],["ncpParams","resource"],["ncpRequests"],["offnet","include_lcp"],["offnet","use_preview"],["offnet","url_scheme"],["parentCategory"],["redisCompress"],["sentiment_comments_enabled"],["ss_endpoint"],["ss_timeout"],["subtype_enabled"],["ui","ad_image_fit"],["ui","comments"],["ui","comments_offnet"],["ui","dispatch_content_store"],["ui","editorial_featured_count"],["ui","featured_count"],["ui","image_quality_override"],["ui","link_out_allowed"],["ui","mega_image_height"],["ui","needtoknow_roundup_only"],["ui","needtoknow_template"],["ui","ntk_bypassA3c"],["ui","pubtime_maxage"],["ui","relative_links"],["ui","render_video_featured"],["ui","require_resized_image"],["ui","show_comment_count"],["ui","smart_crop"],["ui","storyline_count"],["ui","storyline_enabled"],["ui","storyline_min"],["ui","summary"],["ui","thumbnail_size"],["ui","thumbnail_specs"],["ui","tiles"],["ui","user_intent"],["ui","view"],["use_canonical"],["use_content_site"],["use_mags_nydc"],["useNCP"],["video","enable_video_enrichment"]],u=[["ads","enableSmadVideo"],["ads","ad_polices"],["ads","carousel"],["ads","cluster"],["ads","contentType"],["ads","count"],["ads","ctx_signals_enabled"],["ads","enableFlashSale"],["ads","enableGeminiDealsWithoutBackground"],["ads","fallback"],["ads","frequency"],["ads","geminiep"],["ads","geminiPromotionsEnabled"],["ads","generic_viewability"],["ads","inline_video"],["ads","partial_viewability"],["ads","pu"],["ads","se"],["ads","showCTA"],["ads","showCTAThumbnail"],["ads","spaceid"],["ads","start_index"],["ads","timeout"],["ads","type"],["ads","useHqImg"],["ads","useOrigImg"],["ads","useResizedImages"],["ads","video_ads_count"],["ads","formats"],["author_content_indexing_enabled"],["batches","pagination"],["batches","size"],["batches","timeout"],["batches","total"],["blending_enabled"],["editors_picks"],["enableAuthorBio"],["comments_enabled"],["offnet","exclude_offnet_content"],["override_enabled"],["use_page_subsite"],["max_exclude"],["min_count"],["min_count_error"],["newsyness_level"],["no_ss_pnr_ntk"],["pnr_override_base_url"],["pnr_package_enabled"],["pnr_package_dest_excl_enabled"],["promoAds","asyncBeacon"],["promoAds","count"],["promoAds","enableAppReviews"],["promoAds","enablePromoService"],["promoAds","enableStarRating"],["promoAds","frequency"],["promoAds","imageTag"],["promoAds","noClickRedirect"],["promoAds","se"],["promoAds","start_index"],["promoAds","timeout"],["qsp_views"],["service","specRetry"],["sidekick_sectionid_enabled"],["subsite"],["sponsored_ads","backfill_enabled"],["sponsored_ads","total_cnt"],["sponsored_ads","pu"],["sponsored_ads","se"],["sponsored_ads","type"],["sponsored_ads","image_tags"],["sponsored_ads","content_type"],["sponsored_ads","timeout"],["sponsored_ads","floor_price"],["sponsoredMomentsAd","moreParams"],["sponsoredMomentsAd","queryParams"],["sponsoredMomentsAd","where"],["ui","editorial_content_count"],["ui","editorial_content_min"],["ui","enable_lead_fallback_image"],["ui","lead_fallback_image"],["ui","list_id_for_hero"],["ui","list_id_start_index"],["ui","roundup"],["ui","sports_morelink_enabled"]];e.exports=t["default"]},1737:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I13nButton=undefined,t.getI13nModel=function(e,t){if(!i[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},i[e],t):i[e]};var n=a(322),i={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};t.I13nButton=(0,n.createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1})},1808:function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(4),s=a(2),r=a(10),o=a(1285),l=a(1907),d=a(186),u=r({displayName:"VideoManagedPlayer",contextTypes:{executeAction:i.func.isRequired,getStore:i.func,renderTarget:i.object},propTypes:{className:i.string,context:i.object,enableLazy:i.bool,playerGroups:i.array,viewport:i.object,yvpConfig:i.object.isRequired},componentDidMount:function(){this.context.getStore(d).addChangeListener(this._videoStoreChangeHandler)},shouldComponentUpdate:function(e,t){return!this.state.resetLazy&&!!t.resetLazy},fireInitAction:function(e,t,a,n){if(t){var i=this.context,s=this.getGroups();i&&i.executeAction&&i.executeAction(l,{groups:s,id:this.getModuleId(),player:t,customConfig:n})}},getDefaultProps:function(){return{className:"H(100%)",enableLazy:!0,playerGroups:[],viewport:{allIn:!0,bottomBoundary:null,margins:{usePercent:!1,bottom:0,top:0}}}},getGroups:function(){var e=this.context,t=e.renderTarget&&"render-target-"+e.renderTarget.id,a=this.props.playerGroups||[];return t&&a.push(t),this.props.enableLazy&&a.push("lazy-support-enabled"),a},getInitialState:function(){return{resetLazy:!1}},getModuleId:function(e){var t=this.moduleId;return t||(t=e||"VideoManaged-"+Date.now(),this.moduleId=t),t},render:function(){var e=this.props,t=this.getModuleId(e.playerKey);return s.createElement(o,n({},e,{onPlayerReady:this.fireInitAction,playerKey:t,playlist:[],resetLazyState:e.enableLazy&&this.state.resetLazy,vpConfigOverrides:e.yvpConfig}))},_videoStoreChangeHandler:function(){if(this.props.enableLazy){var e=(this.props.context||this.context).getStore(d),t=e.getDestroyedVideoPlayers(),a=this.getModuleId();if(t&&t[a]&&!this.state.resetLazy)return void this.setState({resetLazy:!0});this.state.resetLazy&&e.getVideoPlayer(a)&&this.setState({resetLazy:!1})}}});e.exports=u},1810:function(e,t,a){if(void 0===n)var n={};n.GeminiLabel={name:"GeminiLabel",height:48,width:48,path:"M24.848 42.645L4.445 22.598V4.448H22.59l20.05 20.415-17.796 17.782zm22.51-19.325L25.11.664C24.692.238 24.12 0 23.52 0H2.22C.99.004 0 1 0 2.227v21.3c0 .602.238 1.172.664 1.59L23.3 47.36c.42.413.98.648 1.567.644.586-.004 1.15-.238 1.563-.656l20.918-20.895c.86-.863.867-2.258.01-3.133zM13.64 9.82c-1.392-.04-2.693.68-3.4 1.875-.707 1.2-.707 2.684 0 3.883.707 1.195 2.008 1.914 3.4 1.875 2.065-.058 3.71-1.75 3.71-3.816 0-2.067-1.645-3.762-3.71-3.817"},e.exports&&(e.exports=n.GeminiLabel)},1827:function(e,t,a){if(void 0===n)var n={};n["dislike-heart"]={name:"dislike-heart",height:14,width:16,path:"M1.253 3.196l9.054 9.053L8 14.666 1.774 8.142c-1.276-1.34-1.45-3.408-.52-4.946zm.874-1.01c.672-.553 1.494-.853 2.363-.853 2.125 0 3.117 1.694 3.51 2.016.406-.332 1.375-2.017 3.51-2.017 1.028 0 1.994.42 2.717 1.18 1.475 1.552 1.475 4.077 0 5.628l-3 3.144-9.1-9.1z"},e.exports&&(e.exports=n["dislike-heart"])},1828:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryOverrides=function(e,t){var a,n={};t.use_page_category&&((a=e.getPageCategory())&&(n.category=a),(a=e.getParentCategory())&&(n.parentCategory=a));t.use_article_category&&(a=e.getArticleCategory())&&(n.category=a);if(t.use_page_subsite){var i=e.getPageSubsite();i&&(n.subsite=i)}return n},t.getItemNavParams=function(e,t,a,s){var r,o=(0,n.get)(a,"type");if("ad"===o||"cm"===o)return;var l=e.ui||{},d=l.stream_navparam_count||0;if(l.storyline_navparam_enabled){var u=(0,n.get)(a,"storyline");if(u)r=i(u,0,u.size);else if(d&&"ad"!==o&&"cm"!==o&&(r=i((0,n.get)(t,"stream_items"),s+1,d)).length<d){var c=d-r.length;r=r.concat(i((0,n.get)(t,"more_items"),0,c))}}return{itemI13n:{ccode:(0,n.get)(t,"ccode")||"",cpos:s+1,sec:e.i13n&&e.i13n.sec||"strm"},relatedUuids:r}},t.getItemUuids=i,t.getFailsafeConfigs=function(e){var t=s(e);return t.ads.frequency=0,t},t.getLightWeightConfigs=s,t.getYctWikiids=function(e){if(!e)return null;var t={ycts:[],wikiids:[]};return e.forEach((function(e){var a=(0,n.get)(e,"term"),i=a&&a.split(":");i&&i[0]&&("YCT"===i[0]?t.ycts.push(i[1]):"WIKIID"===i[0]&&t.wikiids.push(i[1]))})),t},t.shouldUseSlingstoneLcp=function(e){return-1===(e&&e.category||"").indexOf("YTOPIC")};var n=a(116);function i(e,t,a){for(var i=[],s=e?e.count():0,r=t;i.length<a&&r<s;r++){var o=e.get(r),l=(0,n.get)(o,"type");"ad"!==l&&"cm"!==l&&i.push((0,n.get)(o,"id"))}return i}function s(e){var t=e&&e.batches&&e.batches.size||20;return{ads:{enableGeminiAdFeedback:!1,inline_video:!1},batches:{pagination:!1,total:t},pageload_image_count:2*t,pageload_item_count:-1,perf_beacon:!1,ui:{comments:!1,dispatch_content_store:!1,prerender:!1,share_buttons:{enable:!1},show_summary:!0},use_prefetch:!1,video:{use_inline_video:!1}}}},1829:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(1084)),i=a(1100),s=u(a(1)),r=a(322),o=a(321),l=(u(a(4)),u(a(2))),d=u(a(1137));function u(e){return e&&e.__esModule?e:{"default":e}}function c(e){var t,a=e.config||{},u=a.ui||{},c=u.sponsoredLabelAd||!1,f="headlines"===u.view,p=a.ads||{},m=e.data.get("adChoicesUrl")||p.adchoices_url,g=f?"#959595":e.sponsoredColor.split(/\(([^)]+)\)/)[1],h=e.data.get("isPromoAd"),_=e.sponsorContainerClass,v={elm:"itm",outcm:"advertiser"};c?t=e.intl.formatMessage({id:"AD"}):p.sponsored_label_support&&(t=e.data.get("sponsoredByLabel")),t||(t=e.intl.formatMessage({id:"SPONSORED"}));var b,y=f?"C(#959595)":e.sponsoredColor,x="tiles"!==(0,s["default"])(a,["ui","view"]),S=(0,n["default"])("Mend(6px)",y,{"Td(n)":x,"Fz(11px) Pos(r) Td(n)":f}),C=(0,n["default"])(e.publisherColor,{"Td(n)":x,"Whs(nw) Mend(6px) Lh(1.6)":!f,"Fz(12px) Ell D(b)":f,"Va(m) D(ib) Ell":e.showCTA});return!x&&!e.sponsored_only||e.publisher_only||h||(b=l["default"].createElement("span",{className:_},l["default"].createElement(r.I13nAnchor,{className:S,href:p.sponsored_url,i13nModel:{elm:"icon",outcm:"sponsor"},rel:"noopener noreferrer",target:"_blank"},t),l["default"].createElement(r.I13nAnchor,{href:m,i13nModel:{elm:"icon",outcm:"info"},target:"_blank",rel:"noopener noreferrer"},l["default"].createElement("i",{className:"Pos(r) T(3px)"},l["default"].createElement(o.Icon,{asset:d["default"],color:g,height:15,style:{verticalAlign:"baseline"}})))),!e.sponsored_only)?e.imageComponent?l["default"].createElement("div",{className:e.className},e.imageComponent,l["default"].createElement("div",{className:"Mstart(4px) D(ib)"},l["default"].createElement(i.Controls.Publisher,{className:C,data:e.data,i13nModel:v,rel:"noopener noreferrer",target:"_blank"}),b),e.ctaComponent):e.showCTA?l["default"].createElement("div",{className:e.className},l["default"].createElement("div",{className:"D(ib)"},l["default"].createElement(i.Controls.Publisher,{className:C,data:e.data,i13nModel:v,rel:"noopener noreferrer",target:"_blank"}),b),e.ctaComponent):l["default"].createElement("div",{className:e.className},l["default"].createElement(i.Controls.Publisher,{className:C,data:e.data,i13nModel:v,rel:"noopener noreferrer",target:"_blank"}),b,e.ctaComponent):b}c.displayName="AdAttribution",c.defaultProps={className:"Fz(13px) Pos(r) Z(2) Ell",publisherColor:"C(#959595)",sponsoredColor:"C(#b9bdc5)"},t["default"]=c,e.exports=t["default"]},1830:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=r(a(1084)),s=(r(a(4)),r(a(2)));function r(e){return e&&e.__esModule?e:{"default":e}}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.renderTime=function(){var e=a.props,t=e.hideAd,n=(e.countDownTime-a.getCurrentTime())/1e3;n<=0?(clearInterval(a.countdown),t?t():a.setState({remainingTime:n})):a.setState({remainingTime:n})},a.state={remainingTime:e.timeDifference},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.countdown=setInterval(this.renderTime,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.countdown)}},{key:"getCurrentTime",value:function(){return Date.now&&Date.now()||(new Date).getTime()}},{key:"render",value:function(){var e=this.props,t=e.flashSalePrefixText,a=e.isFlashSaleEnding,n=e.intl,r=e.hideAd,o=e.promotions,l=this.state.remainingTime,d=l,u=Math.floor(d/86400);d-=86400*u;var c=Math.floor(d/3600);d-=3600*c;var f=Math.floor(d/60),p=Math.floor(d%60);if(o&&u>30)return null;o&&u<7&&(o=!1),u<1?u=null:u<10&&(u="0"+u.toString()),f=f<10?"0"+f.toString():f,c=c<10?"0"+c.toString():c,p=p<10?"0"+p.toString():p;var m=t||n.formatMessage({id:"SALE_ENDS_IN"}),g=(0,i["default"])("",{"H(25px) Bgc(#828c93) Opacity(0.9) C(white) Ta(c)":!a&&r,"H(25px) Bgc(#ff333a) Opacity(0.9) C(white) Ta(c)":r&&(a||!u&&c<24&&r),"H(20px) C(#ff333a) Ta(s)":!r&&(a||!u&&c<24),"H(20px) C(#828c93) Ta(s)":!a&&!r});return s["default"].createElement("div",{className:"W(100%) Lh(25px)"},l>0&&s["default"].createElement("div",{className:g},s["default"].createElement("div",{className:"Mend(4px) Fz(13px)"},m,o?s["default"].createElement("span",{className:"Fz(12px)"},"  "+u+" "+n.formatMessage({id:"DAYS"})):s["default"].createElement("span",{className:"Fz(12px)"},u?"  "+u+n.formatMessage({id:"FLASHSALE_DAYS"}):null," ",c,":",f,":",p))),l<0&&!r&&s["default"].createElement("p",{className:"C(#828c93)"},n.formatMessage({id:"AD_EXPIRED"})))}}]),t}(s["default"].Component);t["default"]=o,e.exports=t["default"]},2153:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=c(a(67)),r=a(1092),o=c(a(0)),l=c(a(1)),d=c(a(182)),u=c(a(327));function c(e){return e&&e.__esModule?e:{"default":e}}var f=(0,o["default"])("StreamStore"),p="streams",m={CUSTOM:!0,LISTID:!0,MAGTOPICTAG:!0,WIKIID:!0,YCT:!0,YFINANCE:!0,YMAG:!0,YMEDIA:!0,YPROP:!0,YTOPIC:!0,YUMBLR:!0};function g(e){var t=e&&e.get("type");return"ad"===t||"cm"===t}function h(e,t,a){return e.withMutations((function(n){var i=t?t.get("cpos"):0,s=t?t.get("cposy"):0;i&&(n.set("beacon",e.get("beacon").replace("$(AD_POSN)",i)),n.setIn(["i13n","cpos"],i),n.setIn(["i13n","cposy"],s),n.setIn(["i13n","bpos"],t.get("bpos"))),a&&n.set("_component",a)}))}var _=(0,r.createImmutableStore)({storeName:"StreamStore",statics:{handlers:{NEW_PAGE_START:"newPageStart",STREAM_ADS:"updateAds",STREAM_ADS_FAILURE:"updateAdsFailure",STREAM_FETCH:"appendStream",STREAM_FETCH_ERROR:"batchError",STREAM_LOAD:"populateStream",STREAM_LOAD_CACHE:"loadCachedStream",STREAM_UPDATE_ADS_CONFIG:"setAdsConfig",STREAM_UPDATE_CATEGORY:"setPageCategory",STREAM_UPDATE_RELATED:"updateRelatedData",STREAM_UPDATE_RELATED_AD:"updateRelatedDataAds",STREAM_UPDATE_SECTIONID:"setSectionId",STREAM_UPDATE_UUID:"setPageUuid",UPDATE_STREAM_HERO_CATEGORY:"setHeroCategory",USERINTENT_CHANGE:"handleUserintentChange"}},initialize:function(){this._state=d["default"].Map()},setConfig:function(e){f("setConfig",e),e&&!this._state.has("config")&&(this._state=this._state.set("config",d["default"].fromJS(e)),this._restoreFromLocalStorage())},getInstance:function(e,t){void 0===t&&console.warn("StreamStore.getInstance requires two parameters: instanceId and category.");var a=this.dispatcher.getStore(s["default"]).getConfig(e);return this._state.getIn(this._getInstancePath(e,t,a))||d["default"].fromJS({data:{}})},getSnippetIds:function(e,t){var a=this,n=a.getInstance(e,t).getIn(["data","stream_items"])||d["default"].List(),i={},s={};return n.forEach((function(e){var t,n=e.get("id");n&&(g(e)?i[n]=!0:(s[n]=!0,(t=(t=e.get("storyline")||d["default"].List()).concat(a.getRelatedItemsByUuid(n)||d["default"].List())).size&&t.forEach((function(e){var t=e.get("id");g(e)?i[t]=!0:s[t]=!0}))))})),{adIds:Object.keys(i),uuids:Object.keys(s)}},removeInstance:function(e,t){if(void 0!==t){var a=this.dispatcher.getStore(s["default"]).getConfig(e);this.setState(this._state.removeIn(this._getInstancePath(e,t,a)),null,{id:e})}else console.warn("StreamStore.removeInstance requires two parameters: instanceId and category.")},newPageStart:function(e){var t=this,a=this._state.getIn([p])||d["default"].Map(),n=this._state;a.forEach((function(e,a){var i=e.get("clear_on_navigate"),s=(e.getIn(["data","stream_items"])||d["default"].List()).size;i&&s>0&&(n=t._state.setIn([p,a],d["default"].fromJS({data:{category:e.getIn(["data","category"]),components:[],stream_items:[]}})))})),n!==t._state&&t.setState(n,null,{type:"STREAM_RESET"})},populateStream:function(e){f("populateStream",e);var t=e.data||{},a=t.category||"",n=e.id,i=1;try{if(n&&t.stream_items){var r={bpos:1,data:t,ts:+new Date/1e3};t.stream_items.forEach((function(e,t){e.i13n=Object.assign({},e.i13n,{bpos:1,cpos:t+1,cposy:i}),i++,e.storyline&&e.storyline.forEach((function(e){e.cposy=i,i++}))})),r.cposy=i;var o=this.dispatcher.getStore(s["default"]).getConfig(n);o&&o.clear_on_navigate&&(r.clear_on_navigate=o.clear_on_navigate);var l=this._getInstancePath(n,a,o),u=this._state.setIn(l,d["default"].fromJS(r));this.setState(u,null,{type:"STREAM_INIT",id:n,category:a})}}catch(c){console.log(c)}},loadCachedStream:function(e){f("loadCachedStream",e);var t=e.id,a=e.category,n=this.dispatcher.getStore(s["default"]).getConfig(t),i=this._getInstancePath(t,a,n),r=this._state.setIn(i.concat("fromLS"),!1);this.setState(r,null,{type:"STREAM_INIT",id:t,cached:!0,category:a,fromLS:e.fromLS})},isCacheable:function(e){return!!e&&!(!e.cache_ttl||e.use_content_id)},appendStream:function(e){if(f("appendStream",e),e&&e.id){var t=e.data||{},a=e.id,n=this.dispatcher.getStore(s["default"]).getConfig(a);try{var i=t.category||"",r=this._getInstancePath(a,i,n),o=this._getDataPath(a,i,n),l=this._state.getIn(o);if(l){var u=e.batchSize,c=this._state.getIn(r.concat("bpos")),p=this._state.getIn(r.concat("cposy")),m=l.get("stream_items").size,g=(t.stream_items||[]).map((function(e,t){return e.i13n=e.i13n||{},e.i13n.bpos=c+1,e.i13n.cpos=m+t+1,e.i13n.cposy=p++,e.storyline&&e.storyline.forEach((function(e){e.cposy=p++})),e})),h=d["default"].fromJS(t.components||[]),_=d["default"].fromJS(t.more_items||[]),v=d["default"].fromJS(g),b=t.stream_pagination?d["default"].fromJS(t.stream_pagination):null,y=l.withMutations((function(e){e.set("more_items",e.get("more_items").concat(_).splice(0,u)),e.set("stream_items",e.get("stream_items").concat(v)),e.set("stream_pagination",b),e.set("components",e.get("components").concat(h))})),x=this._state.mergeIn(r,{data:y,bpos:c+1,cposy:p});this.setState(x,null,{type:"STREAM_BATCH",id:a})}}catch(S){console.log(S)}}},batchError:function(e){if(e){var t=e.data||{},a=e.id,n=this.dispatcher.getStore(s["default"]).getConfig(a);if(a&&n){var i=t.category||"",r=this._getInstancePath(a,i,n),o=this._getDataPath(a,i,n),l=this._state.getIn(o);if(l&&r){var d=e.batchSize,u=this._state.getIn(r.concat("bpos")),c=l.withMutations((function(e){e.set("more_items",e.get("more_items").slice(d))})),f=this._state.mergeIn(r,{data:c,bpos:u+1});this.setState(f,null,{type:"STREAM_BATCH",id:a})}}}},updateAds:function(e){if(f("updateAds",e),e){var t=d["default"].fromJS(e.data||{}),a=t.get("stream_ads")||d["default"].List(),n=t.get("components"),i=e.id,r=e.category,o=this.dispatcher.getStore(s["default"]).getConfig(i);try{if(i){var l=this._getDataPath(i,r,o),u=this._state.getIn(l);if(u){var c=0,p=a.size;if(p){var m=u.withMutations((function(e){var t=e.get("stream_items");t.forEach((function(t,i){g(t)&&c<p&&(e.setIn(["stream_items",i],h(a.get(c),t.get("i13n"))),e.setIn(["components",i],n.get(c)),c++)})),(t=e.get("more_items")||d["default"].List()).forEach((function(t,i){if(g(t)&&c<p){var s=h(a.get(c),null,n.get(c));e.setIn(["more_items",i],s),c++}}))})),_=this._state.setIn(l,m);this.setState(_,null,{type:"STREAM_ADS",id:i})}}}}catch(v){console.log(v)}}},updateAdsFailure:function(e){f("updateAdsFailure",e)},updateRelatedData:function(e){f("updateRelatedData",e);e&&e.items&&e.items.length&&this.setState(this._state.withMutations((function(t){e.items.forEach((function(e){t.setIn(["relatedData",e.uuid],d["default"].fromJS(e.relatedItems))}))})),null,{type:"STREAM_RELATED",id:e.id})},getRelatedItemsByUuid:function(e){return this._state.getIn(["relatedData",e])},updateRelatedDataAds:function(e){f("updateRelatedDataAds",e);e&&e.ads&&this.setState(this._state.withMutations((function(t){t.set("relatedDataAds",e.ads),e.adsToken&&t.set("relatedDataAdsToken",e.adsToken)})),null,{type:"STREAM_RELATED_AD",id:e.id})},getRelatedItemsAd:function(){return this._state.get("relatedDataAds")},getRelatedItemsAdToken:function(){return this._state.get("relatedDataAdsToken")},isStreamItem:function(e,t,a){return(this.getInstance(e,t).getIn(["data","stream_items"])||d["default"].List()).some((function(e){var t=e.get("id");return t&&t===a}))},handleUserintentChange:function(e){e&&this.setState(this._state.set("userIntentData",e),null,i({type:"USERINTENT_CHANGE"},e))},setHeroCategory:function(e){f("setHeroCategory",e),this.setState(this._state.set("heroCategory",e&&e.category||""),null,{type:"STREAM_HERO_CATEGORY"})},getHeroCategory:function(){return this._state.get("heroCategory")||""},setAdsConfig:function(e){f("setAdsConfig",e),this.setState(this._state.merge({adsFrequency:e.frequency}),null,{type:"STREAM_ADS_CONFIG"})},getAdsFrequency:function(){return this._state.get("adsFrequency")},setPageCategory:function(e){f("setPageCategory",e),"object"!==(void 0===e?"undefined":n(e))&&(e={category:e});var t=e.category||"",a=e.parentCategory,i=e.articleCategory||{term:"",label:""},s=t.split(":")[0],r={articleCategory:i};""===s||m[s]?e.category!==undefined&&(r.pageCategory=t,r.fallbackCategory=e.fallbackCategory||t,r.parentCategory=a,r.pageSubsite=e.subsite||""):console.warn("StreamStore.setPageCategory received an invalid category: "+t),this.setState(this._state.merge(r),null,{type:"STREAM_PAGE_CATEGORY"})},getPageCategory:function(){return this._state.get("pageCategory")},getFallbackCategory:function(){return this._state.get("fallbackCategory")},getPageSubsite:function(){return this._state.get("pageSubsite")},getParentCategory:function(){return this._state.get("parentCategory")},getArticleCategory:function(){return this._state.getIn(["articleCategory","term"])},getArticleCategoryLabel:function(){return this._state.getIn(["articleCategory","label"])},setSectionId:function(e){f("setSectionId",e);var t=void 0===e?"undefined":n(e);"undefined"!==t&&this.setState(this._state.set("sectionIds","object"===t?e:{stream:e}))},setPageUuid:function(e){if(f("setPageUuid",e),void 0!==e){this.setState(this._state.set("pageUuid",e),null,{type:"STREAM_UPDATE_UUID",uuid:e});var t=this.getLocalStorage();if(t){var a=((new Date).getTime()+1728e5).toString();t.setItemIn("strm-read",[e],a),this.purgeOldReadsPeriodically();var n=this._state.getIn(["config","ls_delay"]);n&&setTimeout(this._saveToLocalStorage.bind(this),n)}}},getPageUuid:function(){return this._state.get("pageUuid")},getSectionId:function(e){var t=this._state.get("sectionIds")||{};return e&&t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("stream")?t.stream:""},getLocalStorage:function(){var e=this.getContext();return e&&e.localStorage||null},_saveToLocalStorage:function(){f("saveToLocalStorage");var e=this.getLocalStorage();if(e){var t=this._state.getIn(["config","ls_ttl"]);if(!t)return f("Clearing out stream local storage"),void e.setItem("strm",null);var a={streams:{}},n=+new Date,i=n/1e3,s=e.getItem("strm"),r=this._state.get(p)||d["default"].Map(),o=!1;r.forEach((function(e,n){var r=(e.getIn(["data","stream_items"])||d["default"].List()).size,u=e.get("ts"),c=u<i-t;if(r>0&&-1!==n.indexOf(".c")&&!c){var f=(0,l["default"])(s,[p,n]);!f||f.ts!==u||f.data.stream_items.length<r?(a.streams[n]=e.toJS(),o=!0):a.streams[n]=f}})),o&&(e.setItem("strm",a),f("Saving stream data to local storage took "+(new Date-n)+" ms",a))}},_restoreFromLocalStorage:function(){var e=this,t=e._state.getIn(["config","ls_delay"]);t&&!e._restoredFromLocalStorage&&(f("restoreFromLocalStorage"),e._restoredFromLocalStorage=!0,setTimeout((function(){var t=e.getLocalStorage();if(t){var a,n=t.getItem("strm"),i=+new Date/1e3,s=e._state.getIn(["config","ls_ttl"]);n&&n.streams&&s&&Object.keys(n.streams).forEach((function(t){var r=n.streams[t].ts<i-s;e._state.hasIn([p,t])||r||((a=(0,u["default"])(a||{},[t],n.streams[t]))[t].fromLS=!0)})),a&&(f("read stream data from local storage",a),e._state=e._state.mergeIn([p],a))}}),t))},purgeOldReadsPeriodically:function(){var e,t=this.getLocalStorage();if(t){var a=(new Date).getTime(),n=t.getItem("strm-read")||{};if(!isNaN(n.nextPurge)&&parseInt(n.nextPurge)>a)return;for(var i in n.nextPurge=a+1728e5,n)n.hasOwnProperty(i)&&(e=n[i],(isNaN(e)||a>parseInt(e))&&delete n[i]);t.setItem("strm-read",n),f("purged read items from local storage",n)}},rehydrate:function(e){f("rehydrate",e);var t=+new Date/1e3;e&&e.streams&&Object.keys(e.streams).forEach((function(a){e.streams[a].ts=t})),this._state=d["default"].fromJS(e),this._restoreFromLocalStorage()},_getInstancePath:function(e,t,a){var n=(0,l["default"])(a,["ui","view"]),i=[].concat(t||[],n||[],this.isCacheable(a)?"c":[]);return[p,i.join(".")]},_getDataPath:function(e,t,a){return this._getInstancePath(e,t,a).concat("data")}});t["default"]=_,e.exports=t["default"]},2154:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f;var n=u(a(0)),i=u(a(1)),s=u(a(1270)),r=u(a(189)),o=u(a(2155)),l=u(a(87)),d=u(a(47));function u(e){return e&&e.__esModule?e:{"default":e}}var c=(0,n["default"])("Stream:processStreamAction");function f(e,t,a){var n=t.instanceId,u=t.data;if(c("processing stream data:",n,u),u){var f=t.componentConfig||{},p={componentConfig:f,components:u.components};if(f.use_page_category&&t.isFallbackData){var m=e.getStore("StreamStore").getPageCategory();m&&(u.category=m)}(0,o["default"])(e,u),(0,s["default"])(e,p,(function(t){if(t)a&&a(t);else{if(f.use_pagetags_info&&u.pagetags_info){var s=u.pagetags_info;if("REDIRECT"===s.alias_type&&s.primary_tag_info_tag){var o=e.getStore("RouteStore").getCurrentRoute()||{},c=(0,i["default"])(o,["params","contentSite"])||o.contentSite;if(c)return void function(e,t,a,n){var i=e.session,s=l["default"].format({host:i.host,pathname:"/"+t+"/tagged/"+a,protocol:i.protocol,query:i.query});e.executeAction(r["default"],{code:301,redirect:{url:s}},n)}(e,c,s.primary_tag_info_tag,a)}e.dispatch("UPDATE_NAV_SECTIONS",s)}"undefined"!=typeof window&&f.perf_beacon&&f.perf_label&&window.performance&&(d["default"].mark(f.perf_label+"_DISPATCH_STREAM_LOAD"),function(e,t){var a=d["default"].getEntriesByName("NAVIGATE_START"),n=d["default"].getEntriesByName(e+"_LOAD_STREAM"),i=d["default"].getEntriesByName(e+"_LOAD_STREAM_RESP"),s=d["default"].getEntriesByName(e+"_DISPATCH_STREAM_LOAD");t.beacon("perf","td-app-yahoo",{code:"stream_latency",time:Math.round(s[s.length-1].startTime-a[a.length-1].startTime),label:e,loadStream:Math.round(n[n.length-1].startTime-a[a.length-1].startTime),loadStreamResponse:Math.round(i[i.length-1].startTime-n[n.length-1].startTime),dataDispatch:Math.round(s[s.length-1].startTime-i[i.length-1].startTime)})}(f.perf_label,e)),e.dispatch("STREAM_LOAD",{data:u,id:n}),a&&a(null)}}))}else a&&a()}f.displayName="processStream",e.exports=t["default"]},2155:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var a=e.getStore("I13nStore");if(t&&a){if(-1===(t.category||"").indexOf("SIDEKICK")&&"row"!==t.view){var n=a.runtimeConfig;(0,s["default"])(n,["rapid","keys","ccode_st"],t.ccode),e.dispatch("UPDATE_I13N_CONFIG",n)}}};var n,i=a(327),s=(n=i)&&n.__esModule?n:{"default":n};e.exports=t["default"]},2156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(321),i=(o(a(4)),o(a(2))),s=o(a(1998)),r=o(a(1084));function o(e){return e&&e.__esModule?e:{"default":e}}t["default"]=function(e){var t,a,o,l,d=e.config||{},u=e.data||{},c=e.userAgent,f=d.promoAds||{},p=d.ui&&"headlines"===d.ui.view,m=p?12:14,g=e.intl||{},h=u.get("ratingsNum")||5,_=u.get("appReviews"),v=u.get("cpi"),b=[],y=h%1;for(l=1;l<=h;l++)b.push(i["default"].createElement(n.Icon,{key:l,className:"Pos(r) T(3px) Mend(1px) Fl(start)",asset:s["default"],color:"#ffc208",height:m}));return y&&b.push(i["default"].createElement("span",{className:(0,r["default"])("Pos(r) Mend(1px) Fl(start) Ov(h)",{"T(-1px) W(6px)":p},{"T(1px) W(7px)":!p})},i["default"].createElement(n.Icon,{key:l,asset:s["default"],color:"#ffc208",height:m}))),t=i["default"].createElement("div",{className:"C(#ffc208) Pos(r) Fl(start) Mt(5px) H(100%)","aria-label":g.formatMessage({id:"PROMO_ARIA_RATINGS"},{ratings:h})},b),_&&(a=i["default"].createElement("div",{className:(0,r["default"])("C(#959595) Pos(r) Mt(5px) Fl(start) D(n)--maw370",{"Fz(12px) Mstart(2px)":p},{"Fz(14px) Mstart(10px)":!p})},"(",g.formatNumber(_),")")),v&&(o=i["default"].createElement("button",{className:(0,r["default"])("D(b) Va(t) Bdrs(2px) Py(6px) Ta(c) Fz(14px) Mstart(5px) P(8px) Fl(end)",{"C(#298cda) Bdc(#298cda) Bdw(2px) Bds(s)":"ios"===c},{"C(#fff) Bgc(#689f38)":"android"===c},{"C(#fff) Bgc(#188fdc)":!c})},f.cta||g.formatMessage({id:"CALL_TO_ACTION"}))),i["default"].createElement("div",{className:"H(30px)"},t,a,o)},e.exports=t["default"]},2157:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(346)),i=g(a(1)),s=g(a(182)),r=g(a(1562)),o=g(a(2580)),l=g(a(4)),d=g(a(2)),u=g(a(34)),c=g(a(1808)),f=g(a(1454)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(2581)),m=g(a(17));function g(e){return e&&e.__esModule?e:{"default":e}}t["default"]={contextTypes:{beacon:l["default"].func,session:l["default"].object},isVideoplayer:function(e){return(e=e||this.state).videoPlayer},componentDidMount:function(){var e=this.props.data,t=e.get("isVideo"),a=u["default"].findDOMNode(this).getBoundingClientRect(),n=e.getIn(["video_ad_assets","mediaInfo","xml"]),s=this._isFlashInstalled((0,i["default"])(this.context,["session","userAgent"],{})),r=a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth),o=this.state.supportsVideoAutoplay;!t||n&&!s||this.setState({autoplay:r&&o,videoPlayer:o})},componentWillReceiveProps:function(e){var t=!!(e.data||s["default"].Map()).get("isVideo");t!==this.state.videoPlayer&&this.setState({videoPlayer:t})},handlePlaybackComplete:function(e){this.fireBeacon("VIDEO_QUARTILE_100"),this.props.config.ads.enableEndCard&&this.setState({endCard:!0})},handlePlaybackStart:function(e){this.fireBeacon("VIDEO_START")},handleAdPlaybackStart:function(e){this.props.config.ads.enableEndCard&&this.setState({endCard:!1})},handlePlaybackUpdate:function(e,t,a){t>((this.props.config.ads||{}).videoViewBeaconTime||3)&&this.fireBeacon("VIDEO_VIEW"),t>30&&this.fireBeacon("VIDEO_30_SEC"),t>.25*a&&this.fireBeacon("VIDEO_QUARTILE_25"),t>.5*a&&this.fireBeacon("VIDEO_QUARTILE_50"),t>.75*a&&this.fireBeacon("VIDEO_QUARTILE_75")},handlePlayerReady:function(e,t){this.refs.videoplayer.enableViewportDetection()},fireBeacon:function(e){if(!this.props.config.ads.videoBeaconDisabled&&!this.state.firedBeacons[e]){var t=this.state.firedBeacons,a=new n["default"],i=this.props.data.getIn(["video_ad_beacons",e]);i&&(a.image(i),t[e]=!0,this.setState({firedBeacons:t}))}},_isFlashInstalled:function(e){var t=(0,i["default"])(e,["browserName"],"");return(0,o["default"])("ie"===t)},buildVideoPlayer:function(e){var t=this.props.config.ads||{},a=e.getIn(["video_ad_assets","mediaInfo","url"]),n=e.getIn(["video_ad_assets","mediaInfo","xml"]),s=e.getIn(["image","url"]),o=(0,i["default"])(this.context,["session","dimensions"],{}),l=t.videoExpName||"y20stream",u=t.videoExpType||"strm-inline",g=t.videoSec||"strm",h=this.getStore("PageStore").getSpaceid(),_=p.formatVideoBeacons(this.props.data.get("video_ad_beacons")),v=p.convertImmutableToJSRecur(this.props.data.get("video_ad_assets")),b=p.convertImmutableToJSRecur(this.props.data.get("video_ad_rules")),y=(0,r["default"])((0,i["default"])(this.context,["session"])),x=(0,i["default"])(this.props,["config","content_site"],o.site),S={},C=null,E=t.vpaidTimeout||5,M={conviva:!1,disableCasting:!0,fullscreenBtn:!0,pausescreen:!1,sec:g,settingscreen:!1,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1},unMuteOnClick:!0};if(v&&Array.isArray(v.mediaInfo))for(var P=0;P<v.mediaInfo.length;P++){var I=v.mediaInfo[P];"video/mp4"===I.contentType&&I.url&&(a=I.url),I.xml&&(n=I.xml)}a?t.videoBeaconDisabled?(v.mediaInfo=[].concat(v.mediaInfo),S={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:s}}]},v.clickUrl=e.get("link"),C={standaloneAd:{gemini:v,rules:b,beacons:_}}):S={mediaItems:[{streams:[{url:a}],images:{thumbnail:s}}]}:n&&(l="GeminiBRX",C={standaloneAd:{beacons:_,xml:n},vpaidTimeout:E},S={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:s}}]});var w={autoplay:this.state.autoplay,CMS:{env:"prod",suppressAdContext:!0},comscoreC4:o.region+" "+o.site,continuousPlay:!1,conviva:!1,disableCasting:!0,docking:{},expBucket:o.bucket,expName:l,expType:u,fullscreenBtn:!0,lang:o.lang,loop:!1,mute:!0,pageSpaceId:h,pausescreen:0,playlist:S,preload:!0,region:o.region,replayonlyendscreen:!1,stopBufferingOnPause:!0,sec:g,settingscreen:!1,site:"fp"===x?"frontpage":x,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1}};return C&&(w.YVAP=C,M.YVAP=C),t.videoAdCCOnMute&&a&&(w.ccOnMute=!0,w.html5=!0),t.enableVideoManagerGemini?(M.playlist=S,w=(0,m["default"])({},w,M),d["default"].createElement(c["default"],{enableSharedMediaStore:!1,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,vpClassName:"H(0) Pb(56.25%)",yvpConfig:w})):d["default"].createElement(f["default"],{addViewportHandler:!0,height:null,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,onPlayerReady:this.handlePlayerReady,playerJs:y,ref:"videoplayer",width:null,className:"Pb(56.25%)",yvpConfig:w})}},e.exports=t["default"]},2280:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1090),i=d(a(182)),s=d(a(323)),r=(d(a(4)),d(a(2))),o=d(a(1084)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1304));function d(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t,a,d,u,c=e.includeBreakPoints,f=e.storyline||i["default"].List(),p=f.count(),m=e.storylineIds||i["default"].List(),g=!l.isLazyLoad(e),h=e.config.ui||{},_=e.isAd||!1;if((h.storyline_min||1)>p)return null;var v=(0,o["default"])("Td(n) D(ib) Va(t) W(90%) Mend(10%) C(#0078ff)!:h",e.titleClassName,{"C(#959595):vi":h.show_read}),b=f.map((function(f,b){var y,x=f.get("id"),S=f.get("link")||"";if(_)a=f.get("image"),d=e.i13nModel;else{var C=f.get("images")||i["default"].Map();a=C.get("img:72x72")||C.get("img:178x100")||C.get("img:100x100"),d=l.getBaseI13n(f,a,b,!0),u={relatedUuids:l.filterStoryId(m,x),url:f.get("url")}}t=Object.assign({},d,{elm:"rhdln",pos:b+2,cposy:f.get("cposy")});var E={className:v,followLink:l.shouldFollowLink(f,e.config),href:S,i13nModel:t,navParams:u};if(_&&(E.target="_blank",E.rel="noopener noreferrer"),a){var M=(0,o["default"])("Fl(start) W(29%) Miw(65px) Maw(72px) Mend(10px) Trsdu(0s)!",{"D(n)--sm1024":c},e.imageClassName);y=r["default"].createElement(n.Img,{url:a.get("url"),checkPosition:!1,className:M,forceLoad:g,alt:f.get("title")})}return r["default"].createElement("li",{className:(0,o["default"])("Fl(start) W(50%)",{"W(100%)--sm1024":c,"Mb(8px)--sm1024":c&&b<p-1}),key:b},r["default"].createElement(s["default"],E,y,r["default"].createElement("div",{className:"Ov(h)"},r["default"].createElement("div",{className:(0,o["default"])(h.titleInnerClassName,{"D(i)--sm1024 Pend(10px)--sm1024":c})},f.get("title")),r["default"].createElement("div",{className:(0,o["default"])("C(#959595) Fz(11px) Mt(2px) Va(b)",{"D(ib)--sm1024":c})},f.get("publisher")))))}));return r["default"].createElement("ul",{className:(0,o["default"])(e.className,{"Mt(8px)--sm1024":c})},b)}u.displayName="StorylineList",u.defaultProps={className:"Cf Mt(12px) Fz(12px) Pos(r)",includeBreakPoints:!1,titleClassName:"C(#000)"},t["default"]=u,e.exports=t["default"]},2281:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(2),s=u(i),r=(u(a(4)),a(1737)),o=u(a(1312)),l=(a(85),u(a(1827))),d=a(321);function u(e){return e&&e.__esModule?e:{"default":e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"handleClickOutside",value:function(e){var t=this.props;t.showPanel&&(0,t.hidePanelAction)()}},{key:"render",value:function(){var e=this.props,t=e.uuid,a=e.intl,n=e.isMuted,i=e.publisher,o=e.userPreferenceAction,u=n?"#ff6368":"#ccc",c=(n?a.formatMessage({id:"UNDO"}):"")+" "+a.formatMessage({id:"SHOW_LESS_OF"},{publisher:i});return s["default"].createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+t},s["default"].createElement(r.I13nButton,{onClick:o,i13nModel:(0,r.getI13nModel)("panelClick",{slk:i,elm:n?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},s["default"].createElement(d.Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:l["default"],color:u,height:22,width:22}),c,s["default"].createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},a.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}]),t}(i.PureComponent);t["default"]=(0,o["default"])(c),e.exports=t["default"]},2568:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(4)),i=h(a(2)),s=h(a(10)),r=a(322),o=a(1737),l=a(85),d=h(a(329)),u=a(321),c=h(a(2281)),f=h(a(16)),p=h(a(340)),m=a(1874),g=h(a(1795));function h(e){return e&&e.__esModule?e:{"default":e}}var _=(0,s["default"])({mixins:[f["default"],p["default"]],displayName:"Userintent",statics:{storeListeners:[g["default"]],componentConfig:{name:"componentUserintent"}},propTypes:{className:n["default"].string,index:n["default"].number,intl:l.intlShape,config:n["default"].object,uuid:n["default"].string,publisher:n["default"].string,publisherId:n["default"].string,componentConfig:n["default"].object},getDefaultProps:function(){return{className:"",index:1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){var e=this.props.config,t=(e=e===undefined?{}:e).discoverIndex,a=t===undefined?1:t;this.state.inViewport||this.props.index!==a||this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillUnmount:function(){this.stopListeningToViewport()},stopListeningToViewport:function(){this.onEnterViewport(null)},handleEnterViewport:function(){this.executeAction(m.setTooltipViews,{componentConfig:this.props.config}),this.setState({inViewport:!0}),this.stopListeningToViewport()},getData:function(){var e=this.props.publisher,t=this.stores.userintent,a=t&&t.getStateJson()||{},n=a.mutedPublishers,i=n===undefined?{}:n;return a.isMuted=(i[e]||{}).muted||!1,a},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(g["default"]),this.executeAction(m.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},shouldRenderDiscover:function(){var e=this.props.config,t=(e=e===undefined?{}:e).discoverIndex,a=t===undefined?1:t;return this.props.index===a&&this.state&&this.state.showTooltip},shouldRenderPanel:function(){var e=this.state;return this.state&&e.showPanel&&e.target===this.props.uuid},handleDimissTooltip:function(e){this.executeAction(m.setTooltipSeen,{componentConfig:this.props.config}),e.preventDefault()},handleShowPanel:function(e){var t=this.props;this.executeAction(m.getMutedPublishers,{target:t.uuid,showPanel:!0,publisher:t.publisherId}),e.preventDefault()},handleHidePanel:function(){this.executeAction(m.getMutedPublishers)},handleUserPreference:function(){var e=this.props;this.executeAction(m.managePreference,{target:e.uuid,isMuted:this.state.isMuted,publisher:e.publisher,publisherId:e.publisherId})},renderDiscover:function(){var e=this.props,t=e.uuid,a=e.intl;return this.shouldRenderDiscover()?i["default"].createElement("div",{className:"userintent-tooltip Pos(a) P(12px) W(183px) End(0) Fw(200) Ta(start) H(a) Fz(12px) T(30px) Lh(1.5) Z(1) C(#fff) Bgc(#188fff) Bdrs(2px) Bxsh(userintentBoxshadow) Pos(a)::b End(6%)::b B(100%)::b W(0)::b H(0)::b Bd(userintentBorderTransparent)::b Bdbc(#188fff)::b Cnt(userintentEmpty)::b"},i["default"].createElement("div",{className:"Fw(500)"},a.formatMessage({id:"DONT_LIKE_THIS_SOURCE"})),i["default"].createElement("div",null,a.formatMessage({id:"CUSTOMIZE_HERE"})),i["default"].createElement(r.I13nAnchor,{key:"userintent-close-"+t,className:"userintent-dimiss-tooltip D(b) O(n) Pos(a) T(30%) End(5%) Bdrs(10px) Mt(-10px)",style:{background:"rgba(0,0,0,.3)"},href:"#",onTouchStart:this.handleDimissTooltip,onClick:this.handleDimissTooltip,i13nModel:(0,o.getI13nModel)("discoverClose")},i["default"].createElement(u.Icon,{className:"",asset:d["default"],color:"#188fff",height:20,width:20}))):undefined},renderPanel:function(){var e=this.props,t=this.state,a={index:e.index,intl:e.intl,showPanel:t.showPanel,isMuted:t.isMuted,uuid:e.uuid,publisher:e.publisher,publisherId:e.publisherId,hidePanelAction:this.handleHidePanel,userPreferenceAction:this.handleUserPreference};return this.shouldRenderPanel()?i["default"].createElement(c["default"],a):undefined},render:function(){var e=this.props,t=e.className,a=t===undefined?"":t,n=this.handleShowPanel,s={key:"userintent-"+e.uuid,className:"userintent-btn-link Va(m) Td(n) Fz(21px) Lh(17px) C(#959595) C(#188fff):h D(ib) desktop_W(100%) Cnt(userintentEllipsis)::b "+a,href:"#",onTouchStart:n,onClick:n,i13nModel:(0,o.getI13nModel)("userintentBtn",{slk:e.publisher})};return i["default"].createElement("div",{className:"userintent-wrapper Mt(6px) Pos(r)"},i["default"].createElement(r.I13nAnchor,s),this.renderDiscover(),this.renderPanel())}});t["default"]=(0,l.injectIntl)(_),e.exports=t["default"]},2569:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(4)),i=f(a(2)),s=f(a(10)),r=a(322),o=a(1737),l=a(85),d=f(a(16)),u=a(1874),c=f(a(1795));function f(e){return e&&e.__esModule?e:{"default":e}}var p=(0,s["default"])({mixins:[d["default"]],displayName:"UserintentConfirm",statics:{storeListeners:[c["default"]],componentConfig:{name:"componentUserintent"}},propTypes:{className:n["default"].string,index:n["default"].number,intl:l.intlShape,uuid:n["default"].string,publisher:n["default"].string,publisherId:n["default"].string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent;return e&&e.getStateJson()||{}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(c["default"]),this.executeAction(u.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},handleShowManagement:function(e){var t=this.props;this.executeAction(u.getMutedPublishers,{target:t.uuid,showManagement:!0,publisher:t.publisherId}),e.preventDefault()},handleUserPreference:function(e){var t=this.props;this.executeAction(u.managePreference,{target:t.uuid,isMuted:!0,publisher:t.publisher,publisherId:t.publisherId}),e.preventDefault()},render:function(){var e=this.props,t=e.uuid,a=e.intl,n=e.className,s=n===undefined?"":n,l=e.action,d=l===undefined?"":l,u=e.publisher,c=this.context.getStore("UserStore"),f=c.isSignedIn()||c.isRecognized(),p=a.formatMessage({id:"show_more"===d?"YOU_WILL_SEE_MORE":"YOU_WILL_SEE_LESS"},{publisher:u}),m=f?i["default"].createElement(r.I13nAnchor,{key:"userintent-manage-"+t,className:"Fl(end) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleShowManagement,onClick:this.handleShowManagement,i13nModel:(0,o.getI13nModel)("confirmManage")},a.formatMessage({id:"MANAGE_PUBLISHERS_SHORT"})):i["default"].createElement("div",null,a.formatMessage({id:"SIGN_IN_TO_MANAGE_PUBLISHERS"}),i["default"].createElement(r.I13nAnchor,{key:"userintent-signin-"+t,className:"Fz(14px) C($c-fuji-blue-1-a)",href:"https://login.yahoo.com/",i13nModel:(0,o.getI13nModel)("confirmSignin")},a.formatMessage({id:"SIGN_IN"})));return i["default"].createElement("div",{className:"Pos(r) userintent-confirm Bgc($c-fuji-grey-a) ($c-fuji-grey-c) Bds(s) Bdc($c-fuji-grey-c) Bdw(1px) Bdrs(2px) Px(14px) Py(12px) "+s,key:"userintent-confirm-"+t},i["default"].createElement("h4",{className:"Fw(n) Fz(15px) Lh(24px)"},p,i["default"].createElement(r.I13nAnchor,{key:"userintent-undo-"+t,className:"Mstart(5px) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleUserPreference,onClick:this.handleUserPreference,i13nModel:(0,o.getI13nModel)("confirmUndo",{slk:u})},a.formatMessage({id:"UNDO"})),m))}});t["default"]=(0,l.injectIntl)(p),e.exports=t["default"]},2570:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(10)),i=a(85),s=l(a(1)),r=(l(a(4)),l(a(2))),o=a(321);function l(e){return e&&e.__esModule?e:{"default":e}}t["default"]=(0,n["default"])({displayName:"ErrorItem",autobind:!1,propTypes:{},getDefaultProps:function(){return{itemCount:0}},render:function(){var e=this.props.config,t=(0,s["default"])(e,["ui","view"]),a=(0,s["default"])(e,["ui","error_id"])||"CONTENT_ERROR";return r["default"].createElement("tiles"===t?"div":"li",{className:"Pos(r) P(20px) Ta(c) C(#9ea2af)"},r["default"].createElement(o.Icon,{color:"#b9bdc5",cursorClass:"Cur(d)",height:40,name:"nav-news"}),r["default"].createElement("h3",{className:"Mt(4px) Fw(500) Fz(16px) Lh(23px)"},r["default"].createElement(i.FormattedMessage,{id:a,values:{hasItems:this.props.itemCount>0}})))}}),e.exports=t["default"]},2571:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(a(4));var n=i(a(2));function i(e){return e&&e.__esModule?e:{"default":e}}var s=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.title,a=e.titleKey,i=e.titleValues,s=e.className,r=e.intl;return(!t||t.length<=0)&&(t=r.formatMessage({id:a},i)),n["default"].createElement("h2",{className:s},t)};s.displayName="Title",s.defaultProps={className:"C($c-fuji-grey-l) Fw(500) Fz(16px) Lh(23px)"},t["default"]=s,e.exports=t["default"]},2572:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d;var n=l(a(1256)),i=l(a(1)),s=l(a(1175)),r=l(a(8)),o=a(1171);function l(e){return e&&e.__esModule?e:{"default":e}}function d(e,t,a){var l=t.config,d=l.ads||{},u=l.ui||{},c=l.max_dedupe_UUID_size||250,f=e.getStore(r["default"]),p=d.related_start_index,m={ads:{ad_polices:d.ad_polices,adchoices_url:d.adchoices_url,spaceid:f.getSpaceid(),pu:d.pu,related_ct_ads_count:d.related_ct_ads_count,related_ct_se:d.related_ct_se,related_start_index:p,useResizedImages:d.useResizedImages},content_site:l.content_site,ncpRequests:l.ncpRequests,offnet:{use_preview:(0,i["default"])(l,["offnet","use_preview"]),url_scheme:(0,i["default"])(l,["offnet","url_scheme"])},ui:{image_quality_override:u.image_quality_override,related_count:u.related_count,related_endpoint:u.related_endpoint,relative_links:u.relative_links,smart_crop:u.smart_crop},useNCP:l.useNCP,uuids:[]},g=e.getStore("StreamStore"),h=null,_=[],v=function(){if(h&&h.length){var a=[],n=0;_.forEach((function(e){var t=g.getRelatedItemsByUuid(e);t&&((t=t.toJS()).splice(p,1,h[n]),n++,a.push({relatedItems:t,uuid:e}))})),a.length&&(e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:h.slice(n),id:t.instanceId}),e.dispatch("STREAM_UPDATE_RELATED",{items:a,id:t.instanceId}))}};if(t&&t.uuids)if(t.uuids.forEach((function(e){g.getRelatedItemsByUuid(e)?_.push(e):m.uuids.push(e)})),p&&(h=g.getRelatedItemsAd(),m.ads.dedup_token=g.getRelatedItemsAdToken(),h&&h.length>_.length?delete m.ads:h=null),m.uuids.length>0||m.ads){var b=g.getSnippetIds(t.instanceId,l.category);m.dedupeUUIDs=b.uuids,m.dedupeUUIDs&&m.dedupeUUIDs.length>c&&(m.dedupeUUIDs=m.dedupeUUIDs.slice(m.dedupeUUIDs.length-c)),e.service.read("StreamRelatedService",m,{},(function(i,r){if(!i&&r){var d=r.related||r,c=0;if(!h&&r.ads&&r.ads.stream_ads&&r.ads.stream_ads.length&&(h=r.ads.stream_ads),p&&h&&d?(d.forEach((function(e){h[c]&&e.relatedItems.splice(p,0,h[c]),e.relatedItems=e.relatedItems.slice(0,u.related_count),c++})),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:h.slice(c),adsToken:r.ads&&r.ads.ads_dedup_token,id:t.instanceId})):p&&r.ads&&r.ads.stream_ads&&(_.length>0&&v(),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:r.ads.stream_ads,adsToken:r.ads.ads_dedup_token,id:t.instanceId})),e.dispatch("STREAM_UPDATE_RELATED",{items:d,id:t.instanceId}),u.dispatch_content_store){var f=[];if(d.forEach((function(e){e&&e.relatedItems&&(f=f.concat(e.relatedItems))})),f.length){var m=!!(0,o.getAppIdFromPageConfig)(e);e.executeAction(n["default"],{loadContentAction:m?s["default"]:undefined,items:f,prefetch:l.use_prefetch,snippets:!0,sourceId:t.instanceId})}}a&&a()}else a&&a(i)}))}else _.length>0?(v(),a&&a()):a&&a()}d.displayName="fetchRelated",e.exports=t["default"]},2573:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,a){var n=Object.assign({},t,{use_content_id:!1}),i=(0,s["default"])(e,n,a);i.ads&&(i.ads.frequency=0);if(t.use_page_category){var r=t.fallbackCategory||e.getStore("StreamStore").getFallbackCategory();r&&(i.category=r)}return i};var n,i=a(1678),s=(n=i)&&n.__esModule?n:{"default":n};e.exports=t["default"]},2574:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=m;var n=f(a(1256)),i=f(a(351)),s=f(a(182)),r=f(a(1175)),o=f(a(1270)),l=f(a(1678)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1828)),u=f(a(1)),c=a(1171);function f(e){return e&&e.__esModule?e:{"default":e}}var p="undefined"!=typeof document?document:null;function m(e,t,a){var f=[],m=(t.componentProps||{}).id,g=e.getStore("StreamStore"),h=t.config||{},_=t.resource||"StreamService.items",v=(0,l["default"])(e,h,_),b=h.batches.size;if(!m)return a(new Error("Instance id not set for fetchMore"));var y=g.getInstance(m,v.category).get("data"),x=(y.get("more_items")||s["default"].List()).slice(0,b),S=y.get("stream_pagination");if(x.forEach((function(e,t){var a=e.get("type");void 0!==a&&"unknown"!==a||f.push((e.get("idPrefix")||"")+e.get("id"))})),0===f.length&&!S)return a();S?(v.ncpParams=v.ncpParams||{},v.ncpParams.body=S.toJS()):v.uuids=f;var C={};h.post_for_more&&(C.post_for_read=!0),e.service.read(_,v,C,(function(t,s){if(!t&&s){var l=0,f=[];x.forEach((function(e){var t=e.get("type");if(void 0===t||"unknown"===t){var a=s.stream_items[l],n=e.get("id");!a||a.id!==n&&(a&&a.clusterInfo&&a.clusterInfo.id)!==n||(Object.assign(a,e.toJS(),{type:a.type,id:a.id}),f.push(a.id),l++)}else s.stream_items.splice(l,0,e.toJS()),s.components.splice(l,0,s.stream_items[l]._component),l++})),(0,o["default"])(e,{componentConfig:h,components:s.components},(function(t){if(t)return a(t);if(e.dispatch("STREAM_FETCH",{data:s,id:m,batchSize:b}),function(e){var t=e.i13n&&e.i13n.executeEvent;if(t){var a=e.getStore("I13nStore"),n=e.getStore("PageStore"),s=e.getStore("UserStore"),r=a&&a.getI13nConfig();p&&s&&n&&r&&r.initComscore&&t("comscore_beacons",{c14:s.getComscoreC14(),currentUrl:p.location.href,getConsentData:r.enableConsentData?i["default"]:null,keyword:a.getComscoreC7Keyword(),spaceid:n.getSpaceid()})}}(e),v.ui&&v.ui.dispatch_content_store){var o=!!(0,c.getAppIdFromPageConfig)(e);e.executeAction(n["default"],{items:s.stream_items,loadContentAction:o?r["default"]:undefined,prefetch:v.use_prefetch,snippets:!0,sourceId:m,ssEP:(0,u["default"])(h,["batches","ss_endpoint"],""),useSlingstoneLcp:d.shouldUseSlingstoneLcp(h)})}a()}))}else{if(e.dispatch("STREAM_FETCH_ERROR",{data:{category:v.category},id:m,batchSize:b}),e.beacon){var g={code:"strbatch",remainingItems:y.get("more_items").length-b};e.beacon("error","tdv2-applet-stream",g)}a(t)}}))}m.displayName="fetchMore",e.exports=t["default"]},2575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=p;var n=c(a(18)),i=c(a(0)),s=c(a(1581)),r=c(a(1270)),o=c(a(1678)),l=c(a(2154)),d=c(a(47)),u=c(a(2155));function c(e){return e&&e.__esModule?e:{"default":e}}var f=(0,i["default"])("loadStream");function p(e,t,a){var i=t.componentProps||{},c=i.id,p=i.componentConfig||{},m=(0,o["default"])(e,p);if(p.simulateError)return a(new Error("Simulated error"));if(!c)return a(new Error("Instance id not set for loadStream"));if("undefined"!=typeof window&&p.perf_beacon&&p.perf_label&&d["default"].mark(p.perf_label+"_LOAD_STREAM"),p.batches&&p.batches.start_index&&p.batches.start_index>0)return f("Extended stream instance - skipping the service call"),a();var g=e.getStore("StreamStore");if(g.setConfig(p.store),g.isCacheable(p)){var h=g.getInstance(c,m.category),_=h.get("data"),v=+new Date/1e3,b=e.getStore("RouteStore").getCurrentNavigate(),y=b&&b.type;if(_.size&&_.get("view")===m.ui.view&&(v-h.get("ts")<p.cache_ttl||"popstate"===y)){f("Reusing a cached stream",y,m.category),(0,u["default"])(e,{category:_.get("category"),ccode:_.get("ccode"),view:_.get("view")});var x=h.get("fromLS");return void n["default"].auto({components:function(t){if(x){f("Fetching resources for a local storage stream");var a={componentConfig:p,components:_.get("components").toJS()};(0,r["default"])(e,a,t)}else t()},ads:["components",function(t){m.ads&&m.ads.frequency&&(!p.cache_ads||x)?(f("Fetching ads for a cached stream"),m.instanceId=c,(0,s["default"])(e,m,t)):t()}]},(function(){e.dispatch("STREAM_LOAD_CACHE",{id:c,category:m.category,fromLS:x}),a&&a()}))}}var S={};p.post_for_stream&&(S.post_for_read=!0),p.retry&&(S.retry=p.retry);var C=t.resource||"StreamService";e.service.read(C,m,S,(function(t,n){f(C+" response",t,n),!t&&n?("undefined"!=typeof window&&p.perf_beacon&&p.perf_label&&d["default"].mark(p.perf_label+"_LOAD_STREAM_RESP"),(0,l["default"])(e,{componentConfig:p,data:n,instanceId:c},a)):a(t)}))}p.displayName="loadStream",e.exports=t["default"]},2576:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1084)),i=r(a(0)),s=(r(a(4)),r(a(2)));function r(e){return e&&e.__esModule?e:{"default":e}}var o=(0,i["default"])("StreamContainer"),l=function(e){o("render");var t=e.config,a=t===undefined?{}:t,i=e.appletTitle,r=e.children,l=e.id,d=a.ui||{},u={maxWidth:d.max_width||"none"},c=(0,n["default"])(e.className,d.container_classnames),f=void 0;return"tiles"===d.view&&e.errorItem&&(f=e.errorItem),s["default"].createElement("div",{id:l,className:c,style:u},i,r,f)};l.displayName="StreamContainer",l.defaultProps={className:"tdv2-applet-stream Bdc(#e2e2e6)"},t["default"]=l,e.exports=t["default"]},2577:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=h(a(2578)),s=h(a(2579)),r=h(a(2582)),o=h(a(2583)),l=h(a(16)),d=a(1100),u=h(a(10)),c=h(a(1)),f=h(a(59)),p=h(a(8)),m=(h(a(4)),h(a(2))),g=h(a(1555));function h(e){return e&&e.__esModule?e:{"default":e}}var _=(0,u["default"])({displayName:"Ad",autobind:!1,mixins:[l["default"],g["default"]],propTypes:{},getInitialState:function(){var e=this.getStore(p["default"]).getPageConfig();return{adsMessages:this.getStore(f["default"]).getStrings("tdv2-applet-stream"),enableFeedback:e&&e.enableGeminiFeedback||!1}},render:function(){var e=this.props.data,t=(0,c["default"])(this.props.config,["ui","view"])||"",a=(0,c["default"])(this.props.config,["ads","partial_viewability"])||!1,l={enableFeedback:this.state.enableFeedback,adsMessages:this.state.adsMessages,scrollHandler:a};return this.props.tile?m["default"].createElement(d.Controller,n({},this.props,l,{type:"tile",component:i["default"]})):"featured"===e.get("format")||"featured"===t||"discussion"===t?m["default"].createElement(d.Controller,n({},this.props,l,{type:"featured",component:s["default"]})):m["default"].createElement(d.Controller,n({},this.props,l,"row"===t||"headlines"===t?{type:"megastream",component:o["default"]}:{type:"megastream",component:r["default"]}))}});t["default"]=_,e.exports=t["default"]},2578:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(1829)),i=g(a(1084)),s=a(1100),r=g(a(10)),o=g(a(1)),l=a(322),d=a(321),u=a(1090),c=g(a(182)),f=g(a(4)),p=g(a(2)),m=g(a(1137));function g(e){return e&&e.__esModule?e:{"default":e}}var h=(0,r["default"])({displayName:"AdTile",autobind:!1,mixins:[s.DataMixin],contextTypes:{intl:f["default"].object},propTypes:{},render:function(){var e,t=this.props,a=t.data,r=a.get("i13n")||c["default"].Map(),f=this.context.intl,g=t.tile,h=t.config,_=h.ads,v=this.getHQImage(),b={},y=((0,o["default"])(h,["ui","tiles"])||{}).gradient;v&&v.height>=.7*g.height&&v.width>=.7*g.width?(e=u.Img,b.nodeName="div",b.checkPosition=!1,b.className="Bgr(nr) Bgz(cv) Bgp(c) Trsdu(0s)!",b.url=v.url):(e="div",b.className="Bgc($general)"),b.className=(0,i["default"])("StretchedBox","js-stream-ad",b.className);var x,S={bpos:r.get("bpos"),cpos:r.get("cpos"),cposy:r.get("cposy"),ad:1,aid:a.get("id"),pkgt:v?"sponsored_img":"sponsored_noimg",slk:a.get("title"),ct:"ad"},C=a.get("adChoicesUrl")||_.adchoices_url;return _.sponsored_label_support&&(x=a.get("sponsoredByLabel")),x||(x=f.formatMessage({id:"SPONSORED"})),p["default"].createElement(e,b,p["default"].createElement("div",{className:(0,i["default"])("Pos(a) B(0) Start(0) End(0) P(10px) C(#fff)",{"Bgi($linear-grad-dark) Fil($linear-grad-dark-fallback)":y,"Bgc($bg-dark)":!y})},p["default"].createElement(l.I13nAnchor,{className:"Mend(6px) C(#fff) Tt(u) Fw(b) Fz(11px) Pos(r) Z(2)",href:_.sponsored_url,i13nModel:Object.assign({},S,{elm:"icon",outcm:"sponsor"}),rel:"noopener noreferrer",target:"_blank"},x),p["default"].createElement(l.I13nAnchor,{className:"C(#fff) Pos(r) Z(2) ie-7_Pos(a) ie-7_Mt(-5px)",href:C,i13nModel:{elm:"icon",outcm:"info"},rel:"noopener noreferrer",target:"_blank"},p["default"].createElement("i",{className:"Pos(r) T(3px)"},p["default"].createElement(d.Icon,{asset:m["default"],color:"#fff",height:15,style:{verticalAlign:"baseline"}}))),p["default"].createElement("h3",{className:"M(0) Pt(2px) Pb(4px) C(#fff) LineClamp(2,47px)"},p["default"].createElement(s.Controls.Headline,{data:this.props.data,className:"Ff($ff-primary) Fw($fweight) Lh($lheight) Lts($lspacing-sm) Fsm($fsmoothing) Fsmw($fsmoothing) Fsmm($fsmoothing) Fz($fz-m)"})),p["default"].createElement(n["default"],{config:h,data:a,intl:f,publisherColor:"C(#fff)",sponsoredColor:"C(#fff)"})),p["default"].createElement(s.Controls.PrimaryLink,{data:a,i13nModel:Object.assign({},S,{elm:"hdln",outcm:"ad"})},p["default"].createElement("u",{className:"StretchedBox Z(1)"})))}});t["default"]=h,e.exports=t["default"]},2579:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=x(a(1829)),s=x(a(2156)),r=x(a(1)),o=x(a(1084)),l=x(a(10)),d=x(a(1830)),u=x(a(16)),c=x(a(1598)),f=a(1100),p=a(322),m=a(1090),g=x(a(182)),h=x(a(323)),_=x(a(4)),v=x(a(2)),b=x(a(2157)),y=x(a(1286));function x(e){return e&&e.__esModule?e:{"default":e}}var S=(0,l["default"])({displayName:"FeaturedAd",autobind:!1,mixins:[u["default"],y["default"],b["default"]],contextTypes:{beacon:_["default"].func,intl:_["default"].object,session:_["default"].object},propTypes:{},getInitialState:function(){return{adExpired:!1,autoplay:!1,firedBeacons:{},videoPlayer:!1}},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)||this.state.adExpired!==t.adExpired},render:function(){var e,t,a,l,u=this,_=this.props,b=_.config,y=b.ui||{},x=y.use_img,S=_.data,C=S.get("isPromoAd"),E=b.promoAds||{},M=S.get("i13n")||g["default"].Map(),P=this.context.intl,I=this.isVideoplayer(),w=y.adprovider_classnames,T=(0,o["default"])(y.adlink_classnames||"C(#0078ff):h Td(n) smartphone_C(#000)",{"Fz(13px) LineClamp(4,96px) C($c-fuji-blue-4-b)":"discussion"!==y.view,"Fw(600) Fz(14px) Lh(16px) LineClamp(4,64px) C(#000)":"discussion"===y.view,"smartphone_Fz(19px)":"thingrid"!==y.layout}),N=S.get("image")||g["default"].Map(),k=N.get("width")||0,A=N.get("height")||0,O=b.pageload_image_count||3,D=void 0,R=S.get("smadFlashSaleCountDown"),L=S.get("countDownPrefixText"),F=S.get("timeDifference"),B=b.ads.enableGeminiDealsWithoutBackground,j=null,z={bpos:M.get("bpos"),cpos:_.index+1,ad:1,aid:S.get("id"),pkgt:e?"sponsored_img":"sponsored_noimg",slk:S.get("title"),ct:"ad"},U=function(){u.setState({adExpired:!0})};if(this.state.adExpired)return null;if(b.ads&&b.ads.enableFlashSale&&R&&(j=v["default"].createElement(d["default"],{countDownTime:R,isFlashSaleEnding:S.get("smadFlashSaleEnding"),flashSalePrefixText:L,timeDifference:F,intl:P,hideAd:U})),B&&S.get("promotions")){var V=S.get("promotions").toJS();if(V&&V[0]&&V[0].value){var H=Date.now(),W=R?Math.floor((Number(R)-Number(H))/864e5):undefined;j&&W>7&&W<30?j=v["default"].createElement(d["default"],{countDownTime:R,isFlashSaleEnding:S.get("smadFlashSaleEnding"),flashSalePrefixText:L,timeDifference:F,intl:this.context.intl,hideAd:U,promotions:V}):j&&W>30&&(j=null),D=v["default"].createElement(c["default"],{promotions:V,link:S.get("link"),isMobile:!0,intl:P,i13nModel:z})}}if(k&&A&&S.get("hasHqImg")){var $=Math.round(A/k*100),G=x?"img":"div",Y={checkPosition:!1,className:(0,o["default"])({"Bdrs(2px)":"sidekick"===y.view||"discussion"===y.view,"W(100%) H(100%) Pos(a)":x},"Bgz(cv) smartphone_Mx(0) Mb(6px) smartphone_Mb(12px) Trsdu(0s)!"),url:N.get("url"),nodeName:G,forceLoad:_.index<O},q={};x?q.paddingBottom=$+"%":Y.style={paddingBottom:$+"%"};var J=v["default"].createElement(m.Img,Y);if(x&&(J=v["default"].createElement("div",{style:q},v["default"].createElement(m.Img,Y))),I){var K={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:S.get("link")},Z=this.state.endCard?v["default"].createElement("div",{className:"Pos(a) T(45%) V(h) H(100%) W(100%) Ta(c)"},v["default"].createElement(h["default"],n({},K,{target:"_blank",rel:"noopener noreferrer"}),P.formatMessage({id:"LEARN_MORE"}))):undefined;e=v["default"].createElement("div",{className:(0,o["default"])("Mx(a) Pb(6px)",{"Pos(r)":x})},v["default"].createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(S),Z))}else e=v["default"].createElement("div",{className:(0,o["default"])("Mx(a) Maw(500px)",{"Pos(r)":x})},J)}var X={config:b,data:S,intl:P},Q=null;if("thingrid"===y.layout&&(Q="D(b)"),b.ads&&(b.ads.showCTA||b.ads.showCTAThumbnail)){var ee=S.get("callToAction");if(ee){var te="D(ib) Va(t) Bdrs(2px) Px(8px) Py(4px) Fz(12px) Bdc($c-fuji-blue-1-a) C($c-fuji-blue-1-a) Bds(s) Bdw(2px) Fl(end) Td(n)",ae={ad:1,aid:S.get("id"),bpos:M.get("bpos"),cpos:_.index+1,ct:"ad",elm:"hdln",outcm:"ad",pkgt:"sponsored_img",slk:ee};if(b.ads.showCTA)Q="D(b)",X.ctaComponent=v["default"].createElement(p.I13nAnchor,{href:S.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:te},ee),X.showCTA=!0;else{var ne=S.get("thumbnailImage");Q="",ne?(Q="D(b)",X.imageComponent=v["default"].createElement(p.I13nAnchor,{href:S.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:"Fl(start) D(ib)"},v["default"].createElement(m.Img,{url:ne.get("url"),className:"D(ib) Bdrs(50%)",width:"35",height:"35",forceLoad:_.index<O})),X.ctaComponent=v["default"].createElement(p.I13nAnchor,{href:S.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:te},ee)):ee&&(Q="D(b)",X.ctaComponent=v["default"].createElement(p.I13nAnchor,{href:S.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:ae,className:te},ee),X.showCTA=!0)}}}"top"===y.attribution_pos?t=v["default"].createElement(i["default"],n({className:(0,o["default"])(w||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell Mb(2px)"),publisherColor:"C(#96989f)"},X)):a=v["default"].createElement(i["default"],n({className:(0,o["default"])(w||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell",{"Mt(8px)":"sidekick"!==y.view&&"discussion"!==y.view,"Va(m) Mt(4px)":!!X.ctaComponent}),publisherColor:"C(#96989f)",sponsorContainerClass:Q},X));var ie={className:T,data:S,i13nModel:Object.assign(z,{elm:"hdln",outcm:"ad"})};C&&(l=v["default"].createElement(s["default"],{userAgent:(0,r["default"])(this.context,["session","userAgent","osName"]),config:b,data:S,intl:P}),ie.promoConfig=E,ie.onpromoclick=!0);var se=(0,o["default"])({"Py(20px)":"sidekick"!==y.view&&"discussion"!==y.view,"Py(14px)":"sidekick"===y.view&&"thingrid"!==y.layout||"discussion"===y.view,"Py(10px) Px(10px)":"thingrid"===y.layout,"H(190px) ":"thingrid"===y.layout&&!C,"smartphone_Px(20px)":"thingrid"!==y.layout},"Pos(r) Ov(h) smartphone_Bxsh(streamBoxShadow)",_.className),re=y.title_pos||"bottom",oe=v["default"].createElement("h3",{className:D?"":(0,o["default"])("M(0) Py(1px)",{"Mb(12px)":"top"===re,"Pos(r)":I})},v["default"].createElement(f.Controls.PrimaryLink,ie,v["default"].createElement(f.Controls.Headline,{data:S,className:"Fw(600) smartphone_Fw(500)"}),v["default"].createElement("u",{className:"StretchedBox Z(1)"})));return v["default"].createElement("div",{className:se},t,"top"===re?oe:null,D,j,e,"bottom"===re?oe:null,a,l)}});t["default"]=S,e.exports=t["default"]},2580:function(e,t){e.exports=function(e){var t=null,a=navigator||{};if(e)try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(",")}catch(s){}else{var n=a.mimeTypes&&a.mimeTypes["application/x-shockwave-flash"];if(n){var i=n.enabledPlugin;i&&(t=i.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."))}}return!!t&&"0"!==t[0]}},2581:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.convertImmutableToJSRecur=function o(e){var t={};return(e||[]).forEach((function(e,a){if("object"===(void 0===e?"undefined":n(e)))if(r["default"].List.isList(e)){for(var i=[],s=0;s<e.size;s++)i[s]=o(e.get(s));t[a]=i}else t[a]=o(e);else t[a]=e,t[a]=isNaN(parseInt(t[a]))?t[a]:parseInt(t[a])})),t},t.formatVideoBeacons=function(e){var t={};return(e||[]).forEach((function(e,a){if(r["default"].List.isList(e)){for(var n=[],i=0;i<e.size;i++)n[i]=e.get(i);t[a]=n}else t[a]=[e]})),t};var i,s=a(182),r=(i=s)&&i.__esModule?i:{"default":i}},2582:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=y(a(1084)),s=y(a(10)),r=y(a(1830)),o=y(a(16)),l=y(a(1598)),d=a(1100),u=a(322),c=a(321),f=y(a(182)),p=y(a(4)),m=y(a(2)),g=y(a(2280)),h=y(a(1137)),_=y(a(2157)),v=y(a(1286)),b=y(a(323));function y(e){return e&&e.__esModule?e:{"default":e}}var x=(0,s["default"])({displayName:"MegaItemAd",autobind:!1,mixins:[o["default"],d.DataMixin,v["default"],_["default"]],contextTypes:{beacon:p["default"].func,intl:p["default"].object,session:p["default"].object},propTypes:{},getInitialState:function(){return{autoplay:!1,firedBeacons:{},videoPlayer:!1}},componentWillMount:function(){this.props.config.ui.hover_on_image&&(this.onMouseEnterImg=this.onMouseEnterImg.bind(this),this.onMouseLeaveImg=this.onMouseLeaveImg.bind(this))},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)},onMouseEnterImg:function(){this.setState({imgHover:!0})},onMouseLeaveImg:function(){this.setState({imgHover:!1})},render:function(){var e,t=this.props,a=t.data,s=a.get("i13n")||f["default"].Map(),o=this.context.intl,p=t.config,_=p.ui||{},v=p.ads||{},y=a.get("adChoicesUrl")||v.adchoices_url,x=v.enableTripleDot,S=_.attribution_pos,C=_.button_pos||"bottom",E=(a.get("hasHqImg")||a.get("hasLargeSquareImg"))&&this.getImage(),M=t.index+1>(p.pageload_image_count||3),P=a.get("summary"),I=this.isVideoplayer(),w=_.summary_classnames,T=_.adattribution_classnames,N=_.adpublisher_classnames||_.adattribution_classnames,k=_.link_classnames,A=_.h3_classnames,O=a.get("cluster"),D=v.enableGeminiDealsWithoutBackground,R=a.get("smadFlashSaleEnding"),L=a.get("countDownPrefixText"),F=a.get("timeDifference"),B=a.get("smadFlashSaleCountDown"),j={bpos:s.get("bpos"),cpos:s.get("cpos"),cposy:s.get("cposy"),ad:1,aid:a.get("id"),pkgt:E?"sponsored_img":"sponsored_noimg",slk:a.get("title"),ct:"ad"},z=null,U=null;if(v&&v.enableFlashSale&&a.get("smadFlashSaleCountDown")&&(U=m["default"].createElement(r["default"],{countDownTime:a.get("smadFlashSaleCountDown"),isFlashSaleEnding:R,flashSalePrefixText:a.get("countDownPrefixText"),timeDifference:F,intl:o})),D&&a.get("promotions")){var V=a.get("promotions").toJS();if(V&&V[0]&&V[0].value){var H=Date.now(),W=B?Math.floor((Number(B)-Number(H))/864e5):undefined;if(U&&W>7&&W<30){var $=L?L+" "+W+" "+this.context.intl.formatMessage({id:"DAYS"}):this.context.intl.formatMessage({id:"SALE_ENDS_IN"})+" "+W+" "+this.context.intl.formatMessage({id:"DAYS"});U=m["default"].createElement("div",{className:"Mt(7px) C(#828c93) Fz(13px)"}," ",$," ")}else U&&W>30&&(U=null);z=m["default"].createElement(l["default"],{promotions:V,link:a.get("link"),isDesktop:!0,intl:o,i13nModel:j})}}if(E&&!I){var G={};_.hover_on_image&&(G.onMouseEnter=this.onMouseEnterImg,G.onMouseLeave=this.onMouseLeaveImg),E=m["default"].createElement("div",G,m["default"].createElement(d.Controls.PrimaryImage,{checkPosition:!1,className:"D(b) Trsdu(0s)! Bdrs(2px) Mx(a)",data:a,lazyLoad:M}))}O&&(e="sponsored_cluster"),a.get("sponsored_suppress")&&(e="sponsored_suppress"),j.pkgt=e||j.pkgt;var Y,q=(0,i["default"])("Cf Ov(h) Pos(r) Py(14px)",{"Mt(-3px)":!!E},t.className);if(P){var J=(0,i["default"])(w||"Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024 LineClamp(2,38px) LineClamp(2,34px)--sm1024 Mt(5px)","M(0)");Y=m["default"].createElement(d.Controls.Summary,{className:J,data:a})}var K;if(E){var Z=(0,i["default"])("Fl(start) Mt(3px) Mend(25px)",{"W(30%) Maw(255px)":!_.image_classes},_.image_classes);if(I){var X={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:a.get("link")},Q=this.state.endCard?m["default"].createElement("div",{className:"Pos(a) T(50%) V(h) H(100%) W(100%) Ta(c)"},m["default"].createElement(b["default"],n({},X,{target:"_blank",rel:"noopener noreferrer"}),o.formatMessage({id:"LEARN_MORE"}))):undefined;K=m["default"].createElement("div",{className:Z},m["default"].createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(a),Q))}else K=m["default"].createElement(d.Controls.PrimaryLink,{className:Z,data:a,tabIndex:"-1",i13nModel:Object.assign({},j,{elm:"img",outcm:"ad"})},E)}var ee,te=null;if(O)ee=m["default"].createElement(g["default"],{config:p,imageClassName:"Bdrs(2px)",includeBreakPoints:!_.touch_device,index:t.index,storyline:O,i13nModel:j,isAd:!0}),S="top";else if(v.showCTA){var ae=a.get("callToAction");if(ae){te=m["default"].createElement("span",{className:"D(ib) Va(t) Bdrs(2px) Px(8px) Py(4px) Mt(5px) Fz(12px) Bdc($c-fuji-blue-1-a) C($c-fuji-blue-1-a) Bds(s) Bdw(2px)"},ae)}}var ne,ie=m["default"].createElement(d.Controls.Publisher,{className:(0,i["default"])(N||"Fz(11px)","Td(n) Fw(n) D(ib) C(#959595)",{"Mt(4px)":"top"!==S,"Mstart(9px)":"top"===S}),data:a,i13nModel:{elm:"itm",outcm:"advertiser"},rel:"noopener noreferrer",target:"_blank"}),se=(0,i["default"])("Ov(h)",{"Pend(44px)":!!K&&"right"===C,"Pend(14%)":!K,"Pend(0)--sm1024":!K&&"bottom"===C,"Pend(44px)--sm1024":!K&&"right"===C}),re=this.state.imgHover,oe=(0,i["default"])(k||"Fw(b) Fz(20px) Lh(23px) LineClamp(2,46px) Fz(17px)--sm1024 Lh(19px)--sm1024 LineClamp(2,38px)--sm1024","Td(n) C(#0078ff):h",{"C(#0078ff)":re,"C(#000)":!re}),le=(0,i["default"])(A||"M(0)",{"Pos(r)":I});v.sponsored_label_support&&(ne=a.get("sponsoredByLabel")),ne||(ne=o.formatMessage({id:"SPONSORED"}));var de=(0,i["default"])(T||"Fz(12px)","D(ib) Td(n) C(#959595) Mend(3px) Mb(6px)",{"Mend(0px)!":x});return m["default"].createElement("div",{className:q},K,m["default"].createElement("div",{className:se},m["default"].createElement("div",{className:"Pos(r) Z(2) Fw(b)"},m["default"].createElement(u.I13nAnchor,{className:de,href:v.sponsored_url,i13nModel:{elm:"icon",outcm:"sponsor"},target:"_blank",rel:"noopener noreferrer"},ne),!x&&m["default"].createElement(u.I13nAnchor,{href:y,i13nModel:{elm:"icon",outcm:"info"},target:"_blank",rel:"noopener noreferrer"},m["default"].createElement("i",{className:"Pos(r) T(2px)"},m["default"].createElement(c.Icon,{asset:h["default"],color:"#959595",height:12,style:{verticalAlign:"baseline"}}))),"top"===S?ie:undefined),m["default"].createElement("h3",{className:le},m["default"].createElement(d.Controls.PrimaryLink,{className:oe,data:a,i13nModel:Object.assign({},j,{elm:"hdln",outcm:"ad"})},m["default"].createElement("u",{className:"StretchedBox"}),m["default"].createElement(d.Controls.Headline,{data:a}))),z,U,Y,"top"!==S?ie:undefined,te,ee))}});t["default"]=x,e.exports=t["default"]},2583:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(1829)),i=v(a(1084)),s=v(a(1)),r=v(a(2156)),o=v(a(1830)),l=v(a(16)),d=v(a(1598)),u=a(1100),c=v(a(10)),f=a(1090),p=v(a(182)),m=v(a(4)),g=v(a(2)),h=v(a(1555)),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1304));function v(e){return e&&e.__esModule?e:{"default":e}}t["default"]=(0,c["default"])({displayName:"SimpleItemAd",autobind:!1,mixins:[l["default"],h["default"]],contextTypes:{intl:m["default"].object},propTypes:{},getInitialState:function(){return{adExpired:!1}},render:function(){var e,t=this,a=this.props,l=a.config,c=l.ui||{},m=a.data,h="headlines"===(c.view||{}),v=m.get("isPromoAd"),b=l.promoAds||{},y=m.get("image")||m.getIn(["images","original"]),x=m.get("link")||"",S=m.get("i13n")||p["default"].Map(),C=c.adattribution_pos||"bottom",E=c.adattribution_color||"C($c-fuji-grey-e)",M=c.adpublisher_color||"C(#959595)",P=c.attributionClass||"",I=void 0,w=m.get("smadFlashSaleCountDown"),T=m.get("countDownPrefixText"),N=m.get("timeDifference"),k=l.ads.enableGeminiDealsWithoutBackground,A=null,O={bpos:S.get("bpos"),cpos:S.get("cpos"),cposy:S.get("cposy"),ad:1,aid:m.get("id"),pkgt:y?"sponsored_img":"sponsored_noimg",slk:m.get("title"),elm:"hdln",ct:"ad"},D=function(){t.setState({adExpired:!0})};if(this.state.adExpired)return null;if(l.ads&&l.ads.enableFlashSale&&w&&(A=g["default"].createElement(o["default"],{countDownTime:w,isFlashSaleEnding:m.get("smadFlashSaleEnding"),flashSalePrefixText:T,timeDifference:N,intl:this.context.intl,hideAd:D})),k&&m.get("promotions")){var R=m.get("promotions").toJS();if(R&&R[0]&&R[0].value){var L=Date.now(),F=w?Math.floor((Number(w)-Number(L))/864e5):undefined;A&&F>7&&F<30?A=g["default"].createElement(o["default"],{countDownTime:w,isFlashSaleEnding:m.get("smadFlashSaleEnding"),flashSalePrefixText:T,timeDifference:N,intl:this.context.intl,hideAd:D,promotions:R}):A&&F>30&&(A=null),I=g["default"].createElement(d["default"],{promotions:R,link:x,isMobile:!0,intl:this.context.intl,i13nModel:O})}}var B={className:"Td(n) C(#0078ff):h C($c-fuji-blue-4-b)",href:x,i13nModel:O,data:m};v&&h&&(e=g["default"].createElement(r["default"],{userAgent:(0,s["default"])(this.context,["session","userAgent","osName"]),config:l,data:m,intl:this.context.intl}),B.promoConfig=b,B.onpromoclick=!0);var j=(0,i["default"])("Lts(n) Whs(n) D(b) Pos(r)",{"D(tb) Td(n) C(#0078ff):h Pstart(20px) Pb(20px) Pend(13px)":h,"Px(9px)":!h}),z=(0,i["default"])({"D(tbr)":h}),U=(0,i["default"])("Maw(100%) Pos(r) H(0) Cur(p) Bdrs(2px)",{"D(tbc) W(120px) W(100px)--maw370":h,"Pb(58.1%) Bgc(#ddd)":!h}),V=(0,i["default"])("Tdrsu(0s)! Bdrs(2px)",{"Mend(20px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":h,"StretchedBox W(100%) H(100%) ie-7_H(a)":!h}),H=(0,i["default"])("W(100%)",{"D(ib)":"top"===C,"D(tbc) Va(t)":h,"D(ib) Mt(6px)":!h&&"top"!==C}),W=(0,i["default"])({"M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px) Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)":h,"Mend(20px)":(v&&b.enableGeminiAdFeedback||!v&&l.ads&&l.ads.enableGeminiAdFeedback)&&h,"Fz(13px) Fw(700) LineClamp(3,48px)":!h}),$=(0,i["default"])({"Fz(11px) C(#96989f) Z(2) Pos(r)":!h,"Mt(-3px)":I},P),G=(0,i["default"])(M,{"D(ib) Ell W(50%) Va(m)":!h});return g["default"].createElement("div",{className:j},g["default"].createElement("div",{className:z},A,g["default"].createElement("div",{className:U},g["default"].createElement(f.Img,{checkPosition:!1,className:V,forceLoad:!_.isLazyLoad(a),url:y&&y.get("url")})),g["default"].createElement("div",{className:H},"bottom"===C?g["default"].createElement(u.Controls.PrimaryLink,B,g["default"].createElement(u.Controls.Headline,{className:W,data:m}),g["default"].createElement("u",{className:"StretchedBox Z(1)"})):null,I,g["default"].createElement(n["default"],{className:$,config:l,data:m,intl:this.context.intl,sponsoredColor:E,publisherColor:G}),e,"top"===C?g["default"].createElement(u.Controls.PrimaryLink,B,g["default"].createElement(u.Controls.Headline,{className:W,data:m}),g["default"].createElement("u",{className:"StretchedBox Z(1)"})):null)))}}),e.exports=t["default"]},2876:function(e,t,a){e.exports=a(3727)},2877:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(1084)),i=l(a(4)),s=l(a(2)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1304)),o=l(a(3728));function l(e){return e&&e.__esModule?e:{"default":e}}var d={beauty:"C($c-fuji-beauty)",business:"C($c-fuji-blue-1-a)",celebrity:"C($c-fuji-punch-a)",entertainment:"C($c-fuji-entertainment)",finance:"C($c-fuji-blue-1-a)",health:"C($c-fuji-teal-1-a)",hkfood:"C($c-fuji-style)",hkstylemen:"C($c-fuji-style)",hktravelnow:"C($c-fuji-style)",lifestyle:"C($c-fuji-lifestyle)",movies:"C($c-fuji-movies)",music:"C($c-fuji-music)",news:"C($c-fuji-blue-1-a)",politics:"C($c-fuji-blue-3-a)",popculture:"C($c-fuji-ruby-a)",science:"C($c-fuji-blue-3-a)",sports:"C($c-fuji-orange-c)",style:"C($c-fuji-ruby-a)",technology:"C($c-fuji-orange-b)",tv:"C($c-fuji-tv)",trending:"C($c-fuji-purple-1-b)",us:"C($c-fuji-blue-1-a)",wellness:"C($c-fuji-ruby-a)",world:"C($c-fuji-blue-1-a)"},u=/\./g,c=function(e,t){var a=e.data,i=e.className,l=t.intl,c=t.session,f=a.get("categoryLabel"),p=f&&f.replace(u,"").toLowerCase(),m=a.get("property"),g=r.isEditorsPick(a),h=r.isNeedToKnow(a),_=r.getContentLabel(a,l.messages),v="C(#0078ff)";if(!_&&!g)return null;p&&d[p]&&!h?v=d[p]:m&&!h&&(v="C($c-fuji-"+m+")");var b={className:(0,n["default"])(i,v,{"Mend(9px)":!!_,"Mt(-2px)":c.userAgent&&"internet explorer"!==c.userAgent.browserName}),"data-test-locator":"catlabel",key:"catlabel"};return g?s["default"].createElement("div",b,s["default"].createElement(o["default"],{intl:l}),_):s["default"].createElement("div",b,_)};c.displayName="CategoryLabel",c.contextTypes={intl:i["default"].object.isRequired,session:i["default"].object},c.defaultProps={className:"Fw(b) Mb(2px) smartphone_Mb(8px) Tt(c) Ell"},t["default"]=c,e.exports=t["default"]},2878:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=_(a(1084)),s=a(1100),r=_(a(10)),o=_(a(1)),l=a(321),d=_(a(182)),u=a(1092),c=_(a(323)),f=_(a(1251)),p=_(a(4)),m=_(a(2)),g=_(a(1137)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1304));function _(e){return e&&e.__esModule?e:{"default":e}}function v(e){if(e){var t=e.get("width"),a=e.get("height");if(t&&a)return m["default"].createElement("div",{className:"H(0) Mb(5px)",style:{paddingBottom:Math.round(a/t*100)+"%"}},m["default"].createElement("img",{className:"W(100%) H(a) Bdrs(2px)",src:e.get("url"),width:t,height:a}))}}var b=(0,r["default"])({displayName:"RelatedAd",autobind:!1,mixins:[s.DataMixin],contextTypes:{intl:p["default"].object.isRequired},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},render:function(){var e,t=this.props,a=t.data,n=t.idx+1,s=a.get("link")||a.get("url")||"",r=a.get("image"),o=t.cposy?t.cposy+"."+n:0,d=h.parseUrl(a.get("link"))||a.get("url")||"",u={className:(0,i["default"])("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",t.titleClassName),followLink:!0,href:s,i13nModel:{ad:1,cposy:o,ct:1,g:a.get("id"),pkgt:"youmaylike",pos:n,tar:d.host,tar_uri:d.pathname},navParams:{url:a.get("url")},rel:"nofollow noopener noreferrer",target:"_blank"};return t.sponsoredByLabel&&(e=a.get("sponsoredByLabel")),e||(e=this.context.intl.formatMessage({id:"SPONSORED"})),m["default"].createElement(c["default"],u,v(r),m["default"].createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},a.get("title")),m["default"].createElement("div",{className:"C(#959595) Mt(2px) Fz(11px)"},m["default"].createElement("span",{className:"Mend(6px)"},a.get("publisher")),m["default"].createElement("div",{className:"Whs(nw) D(ib) Va(t) C($c-fuji-grey-j)"},e,m["default"].createElement(l.Icon,{asset:g["default"],className:"Mstart(4px)",height:11,color:"#464e56",style:{verticalAlign:"text-top"}}))))}});t["default"]=(0,r["default"])({displayName:"RelatedItemsList",autobind:!1,mixins:[u.ComponentMixin],contextTypes:{i13n:p["default"].object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE"}}},propTypes:{},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},componentDidMount:function(){var e=this.context.i13n,t=e.getI13nNode().getMergedModel();t.elm="rhdln",t.pkgt="youmaylike",delete t.itc,delete t.ct,e.executeEvent("beacon",{beaconType:"beaconClick",arguments:["strm",t.slk,1,t]})},getRelatedItemComponents:function(){var e=this.props,t=e.relatedItems||d["default"].List(),a=e.config.ui||{},r=a.related_item_width||Math.floor(100/a.related_count)+"%",l=a.prerender||{},u=a.show_read,p=[],g=(0,o["default"])(e.config,["ads","partial_viewability"])||!1;a.storyline_navparam_enabled&&t.forEach((function(e){e&&!h.isAd(e)&&p.push(e.get("id"))}));var _=(0,i["default"])("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",e.titleClassName,{"C(#959595):vi":u}),y={width:r},x="stream-related-item D(ib) Bxz(bb) Pend(12px) Whs(n) Va(t)";return t.map((function(t,a){var i=t.get("link")||t.get("url")||"",r=v(t.get("image")),o=a+1,d=e.cposy?e.cposy+"."+o:0,u=h.getBaseI13n(t,null,a,!0),S={className:_,followLink:h.shouldFollowLink(t,e.config),href:i,i13nModel:Object.assign({},u,{cposy:d,elm:"rhdln",pkgt:"youmaylike",pos:o}),navParams:{relatedUuids:h.filterStoryId(p,t.get("id")),url:t.get("url")}};return h.isAd(t)?m["default"].createElement("li",{className:x,style:y,key:a},m["default"].createElement(s.Controller,{component:b,cposy:e.cposy,data:t,scrollHandler:g,idx:a,sponsoredByLabel:e.config.ads.sponsored_label_support,titleClassName:e.titleClassName})):m["default"].createElement(f["default"],n({className:x,key:a,nodeName:"li",payload:{url:i},style:y},l),m["default"].createElement(c["default"],S,r,m["default"].createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},t.get("title")),m["default"].createElement("div",{className:"C(#959595) Mt(2px)"},t.get("publisher"))))}))},render:function(){if(!this.props.relatedItems)return null;var e=(0,i["default"])("Mt(12px) Fz(11px) C(#7200ff) Whs(nw) Pos(r) Z(1) Lh(18px)",this.props.className);return m["default"].createElement("ul",{className:e},this.getRelatedItemComponents())}}),e.exports=t["default"]},2879:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=T(a(1084)),s=a(322),r=T(a(10)),o=T(a(334)),l=T(a(1)),d=T(a(42)),u=T(a(4)),c=T(a(2)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1304)),p=T(a(8)),m=T(a(16)),g=T(a(1555)),h=T(a(2877)),_=T(a(1622)),v=a(1090),b=T(a(323)),y=T(a(1251)),x=T(a(2878)),S=T(a(2280)),C=a(1276),E=T(a(1808)),M=T(a(1286)),P=T(a(2568)),I=T(a(2569)),w=a(1275);function T(e){return e&&e.__esModule?e:{"default":e}}var N=(0,s.createI13nNode)(w.ShareButtonMenu),k=(0,s.createI13nNode)(w.ShareButtonGroup);t["default"]=(0,r["default"])({displayName:"MegaItem",autobind:!1,mixins:[m["default"],g["default"],M["default"]],contextTypes:{intl:u["default"].object.isRequired,session:u["default"].object},propTypes:{},getInitialState:function(){return this.pageStore=this.context.getStore(p["default"]),this._getState(this.props)},componentWillMount:function(){var e=this.props.config.ui;e&&e.related_enabled&&(this._hideRelatedContent=this._hideRelatedContent.bind(this))},componentDidMount:function(){var e=(this.props.config.video||{}).deleteYvapCookie;if(e){var t=new Date;t.setDate(t.getDate()-30),o["default"].set(e,"",{expires:t})}this.setState({buttons:f.shouldRenderButtons(this.props)})},componentWillReceiveProps:function(e){var t=this.props,a=t.config,n=t.data,i=n.get("id"),s=(e.userIntentData||{}).target,r=!f.shouldRenderUserintent(a)||!s||s!==i;if(e.data!==n||!r||e.relatedItems!==this.props.relatedItems){var o=this._getState(e);o.buttons=this.state.buttons,this.setState(o)}},_getState:function(e){var t=f.getBaseItemState(e);return t.images=this._getImages(e.data),t.image=t.images["1x"]||t.images["2x"],t.model=f.getBaseI13n(e.data,t.image,e.index),t},_getImages:function(e){var t=!!e.get("storyline"),a=e.get("images");return a?t?{"1x":a.get("img:220x193")||a.get("img:100x100"),"2x":a.get("img:440x386")||a.get("img:200x200")}:{"1x":a.get("img:220x123")||a.get("img:255x162")||a.get("img:100x100"),"2x":a.get("img:440x246")||a.get("img:510x324")||a.get("img:200x200")}:{}},_generateButtons:function(e,t){if(this.state.buttons){var a=this.renderComment(e),n=(0,l["default"])(this.props.config,["ui","share_buttons"],{}),s=n.inline?this.renderShareButtonGroup():this.renderShareButtonMenu(e),r=this.renderUserintent(),o=n.shareButtonExtraClasses||"";if("bottom"===e)return c["default"].createElement("div",{className:(0,i["default"])("Mt(8px) Mt(2px)--sm1024 Pos(a) NoJs_D(n)",o)},s,a);if("right"===e)return c["default"].createElement("div",{className:(0,i["default"])("Pos(a) T(14px) End(0) W(36px) Ta(c) NoJs_D(n)",o,{"Mt(20px)":t})},a,s,r)}},renderShareButtonGroup:function(){var e=this.props,t=e.config,a=e.data;if(!f.shouldRenderShareButtonMenu(a,t))return undefined;var i={borderColorOverride:"transparent",buttonsToShow:f.getButtonsToShow(a,t),className:"D(tbc) Va(b)",hoverBorderColorOverride:"transparent",iconSize:"18",roundButtonDiameter:20,buttonSpacingPixels:21,sharingConfig:{twitterId:t.twitter_id},useButtonColorForBackgroundOnHover:!1,hoverColors:(0,l["default"])(t,["ui","share_buttons","hoverColors"]),colorOverride:"#babec8",model:{slk:null,tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)};return c["default"].createElement(k,n({},i,f.getSharingGroupMetadata(a,this.pageStore)))},renderShareButtonMenu:function(e){var t=this.props.config,a=this.props.data;if(!f.shouldRenderShareButtonMenu(a,t))return undefined;var n="right"===e?"left":"down",s=(0,l["default"])(t,["ui","share_buttons","openDirection"],null);s&&(n=s);var r=(0,l["default"])(t,["ui","share_button_class"],"Mend(30px) Va(m)");"bottom"!==e&&(r="");var o=t.ui||{},d=Object.assign({ariaLabel:this.context.intl.formatMessage({id:"SHARE_MENU"}),buttonsToShow:f.getButtonsToShow(a,t),className:(0,i["default"])(r),isTouchDevice:o.touch_device,openButtonColor:"#959595",openButtonIconName:"share",openButtonIconSize:20,openDirection:n,twitterId:t.twitter_id,model:{elm:"share",elmt:"btn",itc:1,slk:"share",tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)},f.getSharingMetadata(a,this.pageStore));return c["default"].createElement(N,d)},_getShareYlkData:function(e){return{sec:"strm",g:e.g,cpos:e.cpos,bpos:e.bpos,pkgt:e.pkgt,cnt_tpc:e.cnt_tpc,ct:e.ct}},_generateCategoryLabel:function(e){var t=(0,l["default"])(this.props.config,["ui","attribution_classnames"])||"";return h["default"].call(this,{className:(0,i["default"])(t||"Fz(12px)","Fw(b) Tt(c) D(ib) Mb(6px)"),data:e,key:"catlabel"},this.context)},_generateHeader:function(e,t){var a=this.props,s=a.data,r=a.read,o=a.config.ui||{},l=o.link_classnames,d=o.h3_classnames;d=this._shouldRenderHeaderAndAttrAboveAll()?"Mb(15px)":d||"Mb(5px)";var u={className:(0,i["default"])(l||"Fw(b) Fz(20px) Lh(23px) Fz(17px)--sm1024 Lh(19px)--sm1024","mega-item-header-link Td(n) C(#0078ff):h",{"C(#000)":!r,"C(#959595)":r,"LineClamp(2,46px) LineClamp(2,38px)--sm1024 not-isInStreamVideoEnabled":!t,"LineClamp(4,92px) LineClamp(4,76px)--sm1024 isInStreamVideoEnabled":t}),i13nModel:{elm:"hdln",pos:1}};return c["default"].createElement("h3",{className:d,key:"header"},c["default"].createElement(b["default"],n({},e,u),c["default"].createElement("u",{className:"StretchedBox"}),s.get("title")))},_shouldRenderHeaderAndAttrAboveAll:function(){var e=this.props,t=f.getItemThumbSize(e.data,e.config);return this._isInlineVideo()&&"large"===t},_isInlineVideo:function(){var e=this.props;return this.state.supportsVideoAutoplay&&f.isInlineVideo(e.data,e.config)},_hideRelatedContent:function(){this.setState({relatedItems:null})},_generateRelatedContent:function(e){var t=this.props,a=this.state,n=a.relatedItems;if(n)return c["default"].createElement(C.Drawer,{className:(0,i["default"])("stream-related-content Cl(b) Mt(12px)",{"D(n)":e}),closeButtonModel:{pkgt:"youmaylike"},onClose:this._hideRelatedContent},c["default"].createElement("p",{className:"Fz(13px) Fw(b) C(#111) Px(12px) Mx(-12px)"},this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"})),c["default"].createElement(x["default"],{className:"Mend(-8px)",config:t.config,cposy:a.model.cposy,relatedItems:n,titleClassName:"C(#000)"}))},renderComment:function(e){var t=this.props,a=t.config,n=t.data,s=t.navParams;if(!f.shouldRenderComment(n,a))return undefined;var r=n.get("id"),o=n.get("commentCount"),d={className:(0,l["default"])(a,["ui","comment_button_class"],""),count:o,display:"bottom"===e?"inline":"inline-block",enableHoverColor:!0,enableTooltip:"right"===e,iconColor:"#959595",iconSize:20,navParams:Object.assign(f.getNavParams(n,a),s),openDirection:"right"===e?"left":"down",stringClassName:(0,i["default"])("Fw(b)",{"Mt(-14px)":"right"===e&&o>0}),textAlign:"bottom"===e?"right":"top",url:n.get("link"),useFujiIcon:(0,l["default"])(a,["ui","useFujiIcon"],!1),uuid:r};return n.get("off_network")&&(d.target=(0,l["default"])(a,["offnet","target"])||undefined),c["default"].createElement(_["default"],d)},renderUserintent:function(){var e=this.props,t=e.config,a=e.data,n=a.get("id"),i=a.get("publisher"),s=a.get("publisher_id");return f.shouldRenderUserintent(t)&&s?c["default"].createElement(P["default"],{index:e.index,config:(0,l["default"])(t,["ui","user_intent"]),uuid:n,publisher:i,publisherId:s,viewport:{margins:{usePercent:!0,top:-.2,bottom:-.2}}}):undefined},renderUserintentConfirm:function(){var e=this.props,t=e.config,a=e.data,n=a.get("id"),i=a.get("publisher"),s=a.get("publisher_id");return f.shouldRenderUserintent(t)?c["default"].createElement(I["default"],{index:e.index,uuid:n,publisher:i,publisherId:s}):undefined},render:function(){var e,t,a=this.props,r=this.state,o=a.data,u=a.config,p=u.ui||{},m=p.prerender||{},g=o.get("publisher"),h=o.get("storyline"),_=f.shouldRenderUserintent(u),b=_&&(a.userIntentData||{})[g],x=r.storylineIds,M=o.get("link")||"",P=o.get("id"),I=this._isInlineVideo(),w=I&&p.inStreamVideo&&p.inStreamVideo.enabled,T=Object.assign(f.getNavParams(o,u),a.navParams),N=o.get("video_enrichment"),k=I&&N?N.get("uuid"):P,A={followLink:f.shouldFollowLink(o,u),href:M,target:o.get("off_network")?(0,l["default"])(u,["offnet","target"]):undefined,navParams:T},O=a.header||this._generateHeader(A,w),D=p.attribution_pos?c["default"].createElement(C.Attribution,{className:(0,i["default"])(p.attribution_classnames||"Fz(11px)","D(ib) Mb(6px)"),data:o,key:"attribution"}):null;p.show_label&&(e=a.categoryLabel||this._generateCategoryLabel(o));var R,L=this._generateRelatedContent(b),F=f.getItemThumbSize(o,u),B=this._shouldRenderHeaderAndAttrAboveAll(),j=r.image,z=p.button_pos||"bottom",U="right"===z,V=this._generateButtons(z,!(!g&&!e)),H=p.summary_classnames,W=p.extra_summary_class||"",$=p.full_width_text_only||!1;if(j){var G,Y=!f.isLazyLoad(a),q=(0,i["default"])("Fl(start) Pos(r) Mt(2px)",w&&p.inStreamVideo.image_classes||p.image_classes||{small:"W(30%) Maw(255px)",medium:"W(50%) Maw(400px)",large:"W(100%) Maw(880px) Fl(n)!"}[F]),J=Math.round(j.get("height")/j.get("width")*100);if(r.typeIcon){var K=p.magazine_icon;G=c["default"].createElement(C.TypeIcon,{iconSize:K?16:20,lazyLoad:!Y,magazineFormat:K,orbSize:50,type:r.typeIcon})}if(I){var Z={},X=(0,i["default"])(q,{"Mb(15px)!":B}),Q=u.video||{},ee={autoplay:Q.autoplay,ccOnMute:Q.ccOnMute,continuousPlay:Q.continuous_play,clickParams:Object.assign({},r.model),cpos:r.model.cpos,enableAd:Q.enable_ads,energySaverMode:Q.energy_saver_mode,mute:Q.mute,navToUrlOnClick:Q.navigate_on_click&&M,replayonlyendscreen:Q.replayonlyendscreen,showTitleOnHover:!Q.disable_title_on_hover,stopBufferingOnPause:Q.disable_buffer_on_pause,videoId:k};if(Q.exp_type&&(ee.expType=Q.exp_type),Q.exp_name&&(ee.expName=Q.exp_name),Q.YVAP&&(ee.YVAP=Q.YVAP),a.i13n){var te=a.i13n.getI13nNode().getMergedModel();ee.ccode=te.ccode,ee.sec=te.sec;var ae=this.getStore(d["default"]).getI13nConfig();ee.rid=(0,l["default"])(ae,["rapid","keys","_rid"])}var ne=h&&!w?"Pb(87.45%)":"Pb(56.25%)";(Z=f.getVideoManagedPlayerConfig(ee)).vpClassName="H(0) "+ne,Q.enable_cc_on_mute&&(Z.ccOnMute=!0),R=c["default"].createElement("div",{className:X},c["default"].createElement(E["default"],Z))}R||(R=c["default"].createElement("div",{className:q},c["default"].createElement("div",{className:"H(0) Ov(h) Bdrs(2px)",style:{paddingBottom:J+"%"}},c["default"].createElement(v.Img,{url:j.get("url"),srcSet:f.createSrcSet(r.images),forceLoad:Y,checkPosition:!1,className:"W(100%) Trsdu(0s)! Bdrs(2px)",alt:o.get("title")}),G))),h&&!w&&(t=c["default"].createElement(S["default"],{config:u,imageClassName:"Bdrs(2px)",includeBreakPoints:!p.touch_device,index:a.index,storyline:h,storylineIds:x}))}var ie=(0,i["default"])("Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024",{"LineClamp(2,38px) LineClamp(2,34px)--sm1024":R&&!B&&!w,"LineClamp(3,57px) LineClamp(3,51px)--sm1024":!R,"LineClamp(5,95px) LineClamp(4,68px)--sm1024":B||w}),se=(0,i["default"])(H||ie,"M(0)",{"D(n)--sm1024 Bxz(bb) Pb(2px)":!!t,"C(#959595)":a.read},W),re=(0,i["default"])("Ov(h)",{"Pend(14%)":!R&&!$,"Pend(0)--sm1024":!R&&!U,"Pend(44px)--sm1024":!R&&U,"Pend(44px)":!!R&&U,"Pstart(25px)":!!R&&"large"!==F,"Pos(r)":I,"JsEnabled_Mb(32px)":(V||f.shouldRenderButtons(a))&&!U,"W(100%)":!!R&&"large"===F}),oe=[e,D,O],le=b&&this.renderUserintentConfirm();return c["default"].createElement(s.I13nDiv,{className:(0,i["default"])("Py(14px) Pos(r)",{"Trs(streamItemTransition)":_,"Mih(100px)":_&&!b,"Mih(44px)":b}),"data-test-locator":"mega",i13nModel:r.model},c["default"].createElement(y["default"],n({className:(0,i["default"])("Cf",{"D(n)":b}),nodeName:"div",payload:{url:M,itemI13n:T.itemI13n}},m),B?oe:undefined,R,c["default"].createElement("div",{className:re},B?undefined:oe,c["default"].createElement("p",{className:se},o.get("summary")),t,U?undefined:V),U?V:undefined),L,le)}}),e.exports=t["default"]},3726:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=L(a(1084)),s=L(a(10)),r=L(a(1)),o=L(a(42)),l=L(a(182)),d=L(a(4)),u=L(a(2)),c=L(a(2876)),f=R(a(1304)),p=R(a(1736)),m=a(1276),g=L(a(16)),h=L(a(1555)),_=L(a(1286)),v=L(a(1629)),b=L(a(1308)),y=L(a(1307)),x=L(a(2877)),S=L(a(1622)),C=L(a(118)),E=a(322),M=a(321),P=a(1090),I=L(a(323)),w=L(a(8)),T=L(a(2878)),N=L(a(2815)),k=a(1275),A=L(a(3729)),O=L(a(1808)),D=L(a(1449));function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function L(e){return e&&e.__esModule?e:{"default":e}}t["default"]=(0,s["default"])({displayName:"Featured",autobind:!1,mixins:[g["default"],h["default"],_["default"],v["default"]],contextTypes:{intl:d["default"].object.isRequired},propTypes:{},getInitialState:function(){return this.reelStore=this.getStore(D["default"]),this._getState(this.props)},componentWillMount:function(){this.onClickToggle=this.onClickToggle.bind(this)},componentDidMount:function(){this.setState({buttons:f.shouldRenderButtons(this.props)})},componentWillReceiveProps:function(e){if(e.data!==this.props.data||e.relatedItems!==this.props.relatedItems){var t=this._getState(e);t.buttons=this.state.buttons,this.setState(t)}},_getState:function(e){var t=e.data,a=f.getBaseItemState(e),n=f.isNeedToKnow(t);return a.image=this._getImage(t),a.model=f.getBaseI13n(t,a.image,e.index),a.storylineInitValue=n,a.storylineVisible=n,a.title=null,a.shouldRenderVideo=!1,a.firstLiveVideo=null,a.isForcePlay=!1,a.shouldShowChyron=!1,a},_getImage:function(e){var t=e.get("images")||l["default"].Map();return t.get("img:320x?")||t.get("original")},_generateImage:function(e,t){var a,n=this,s=this.props.data,r=this.props.config,o=r.video||{},d=r.ui||{},c=d.use_img,p=f.isLazyLoad(this.props),g=(0,i["default"])("Pos(r) smartphone_Mx(a) smartphone_Mb(12px) Maw(500px)",{"Ov(h)":c}),h=this.state.image||l["default"].Map(),_=h.get("width")||0,v=h.get("height")||0,b=d.thumbnail_min_width||0;if(t&&!this.state.shouldRenderVideo){var y=(0,i["default"])("W(100%) D(b) Pos(r) H(0)",{"Pb(56.25%)":this.state.shouldShowChyron});return u["default"].createElement("div",{className:g},u["default"].createElement("div",{className:y,ref:function(e){n.chyronContainer=e}}))}if(e)return u["default"].createElement("div",{className:g},this._generateVideoThumbnail(s,o,t));if(_&&_>=b){var x=Math.round(v/_*100);x=Math.min(x,0===this.props.index?75:100);var S,C=c?"img":"div",E={},M={url:h.get("url"),nodeName:C,forceLoad:!p,checkPosition:!1,className:(0,i["default"])("Mb(6px)",{"Bdrs(2px)":"sidekick"===d.view,"W(100%) Pos(a)":c},"Bgz(cv) Trsdu(0s)!")};if(c?E.paddingBottom=x+"%":M.style={paddingBottom:x+"%"},this.state.typeIcon){var I="sidekick"===d.view,w=d.magazine_icon;S=u["default"].createElement(m.TypeIcon,{iconSize:w?16:I?20:30,lazyLoad:p,magazineFormat:w,orbSize:I?50:80,type:this.state.typeIcon})}var T=u["default"].createElement(P.Img,M);c&&(T=u["default"].createElement("div",{style:E},u["default"].createElement(P.Img,M))),a=u["default"].createElement("div",{className:g},T,S)}return a},_generateVideoThumbnail:function(e,t,a){var n,i={},s={autoplay:a?null===this.state.firstLiveVideo||this.state.isForcePlay:t.autoplay,cpos:this.state.model.cpos,enableAd:t.enable_ads,energySaverMode:t.energy_saver_mode,mute:t.mute,stopBufferingOnPause:t.disable_buffer_on_pause,videoId:e.get("id")};if(t.exp_type&&(s.expType=t.exp_type),this.props.i13n){var l=this.props.i13n.getI13nNode().getMergedModel();s.sec=l.sec,s.ccode=l.ccode;var d=this.getStore(o["default"]).getI13nConfig();s.rid=(0,r["default"])(d,["rapid","keys","_rid"])}return a?s=this._addVideoReelProps(e,t,s):s.navToUrlOnClick=t.navigate_on_click&&e.get("link"),(i=f.getVideoManagedPlayerConfig(s)).vpClassName="H(0) Pb(56.25%)",t.enable_cc_on_mute&&(i.ccOnMute=!0),a&&(i.autoplay=s.autoplay,this.state.location&&i.yvpConfig&&(i.yvpConfig.allowGeoRequest=!0,i.yvpConfig.geoData={latitude:this.state.location.lat,longitude:this.state.location.long,accuracy:this.state.location.accuracy}),n=this._getCustomReelComponentConfig(i)),u["default"].createElement(n?C["default"]:O["default"],n?{components:[n]}:i)},_addVideoReelProps:function(e,t,a){var n=e.mediaItem,i=n&&n.id?n:{id:e.id,type:"video"},s=this.context.getStore(w["default"]),r=s&&s.getPageConfig(),o=this.reelStore.getPlaylist(r.channelName);return a.expName=t.exp_name||this.reelStore.getExpName(r.channelName),a.expType=t.exp_type||"default",a.showTitleOnHover=t.show_title_on_hover||!0,a.showControls=t.show_controls||!0,a.displayMarkers=t.display_markers||!1,a.hidePlaylist=t.hide_playlist||!0,a.video_reel=!0,this.state.firstLiveVideo&&(i={id:this.state.firstLiveVideo.uuid,type:"video"},o=[{mimetype:"media/sapi",id:this.state.firstLiveVideo.uuid}]),a.mediaItem=i,a.playlist={mediaItems:o},a},_getCustomReelComponentConfig:function(e){var t,a=this.context.getStore(w["default"]),n=a&&a.getPageConfig(),i=n&&n.enableCustomReelComponent&&a.getComposite(n.customReelComponentId);return i&&i.components&&((t=Object.assign({},i.components[0])).props.videoProps=e),t},_generateStoryline:function(){var e=this.props.data.get("storyline"),t=(0,r["default"])(this.props.config,["ui","storyline_min_count"])||e&&e.size||0;if(this.state.storylineVisible&&e&&e.size>=t)return u["default"].createElement(A["default"],{config:this.props.config,storyline:e,wrapperModel:this.state.model,navParams:this.props.navParams})},_generateRelatedContent:function(){var e=this.state.relatedItems;if(e){var t=this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"});return u["default"].createElement(m.Drawer,{className:"stream-related-content Mb(-12px)",closeButton:!1},u["default"].createElement("p",{className:"Fz(13px) Fw(b) C(#111) Mt(12px) Px(12px) Mx(-12px) Pt(12px) Mb(-8px) Bdtw(12px) Bdts(s) Bdtc(#eee)"},t),u["default"].createElement(c["default"],{axis:"x",className:"Mend(-12px) Mstart(0) Mt(6px) Mb(4px)",stopPropagation:!0},u["default"].createElement(T["default"],{relatedItems:e,config:this.props.config})))}},_generateStorylineToggle:function(){var e=this.props.data,t=e.get("storyline"),a=this.context.intl.formatMessage,n=f.isNeedToKnow(e),s=e.get("publisher");if(t&&t.size){var r,o=this.state.storylineVisible,l=this.state.storylineInitValue,d=(0,i["default"])("Mstart(4px) Trsdu(.42s) Pos(a) T(-5%)",{"Rotate(-180deg)":l&&!o,"Rotate(180deg)":!l&&o});r=a(n?o?{id:"HIDE_STORIES"}:{id:"SHOW_STORIES"}:o?{id:"HIDE_SOURCES"}:{id:"SHOW_SOURCES"});var c={elm:"btn",elmt:o?"hide":"expand"};return u["default"].createElement(E.I13nButton,{className:(0,i["default"])("Pos(r) D(b) P(0) Fz(11px) smartphone_Fz(13px) Bd(0) Z(1) O(0) Whs(nw) Lh(1)",{"C(#959595)":s,"C(#0078ff)":!s}),i13nModel:c,onClick:this.onClickToggle,style:{WebkitTapHighlightColor:"transparent"}},u["default"].createElement("span",{className:"Ell Maw(140px) Maw(110px)--sm320 D(ib)"},s||r),u["default"].createElement(M.Icon,{asset:l?y["default"]:b["default"],className:d,color:s?"#959595":"#0078ff",height:16,width:16,style:{verticalAlign:"initial"}}))}},onClickToggle:function(){this.setState({storylineVisible:!this.state.storylineVisible})},render:function(){var e,t=this.props,a=t.config,n=a.ui||{},s=t.data,o=s.get("summary"),l=s.get("link")||"",d=n.attribution_pos,c=n.title_pos||"bottom",g=this.state.supportsVideoAutoplay&&f.isInlineVideo(s,a),h=p.shouldRenderReel(s,a,this.reelStore),_=h&&p.isReelItemLive(s,this.reelStore),v=s.get("storyline"),b=v&&v.size>0,y="roundup"===s.getIn(["clusterInfo","type"]),S=n.provider_classnames,C=n.show_label;h&&(g=!0,c=_&&n.title_pos_live_reel||c,C=_&&"undefined"!=typeof n.show_label_live_reel?n.show_label_live_reel:C),e=y?"needtoknow":"featured";var M,P={className:(0,i["default"])(n.link_classnames||"Fz(13px) LineClamp(4,96px)","C(#0078ff):h Td(n)",{"C($c-fuji-blue-4-b) smartphone_C(#000)":!t.read,"C(#959595)":t.read,"smartphone_Fz(19px)":"thingrid"!==n.layout}),followLink:f.shouldFollowLink(s,a),href:l,i13nModel:Object.assign({},this.state.model,{elm:"hdln",pos:1}),navParams:Object.assign(f.getNavParams(s,a),t.navParams),target:s.get("off_network")?(0,r["default"])(a,["offnet","target"]):undefined},w=this._generateImage(g,h);C&&(M=u["default"].createElement(x["default"],{data:s}));var T,N=(0,i["default"])({"Mb(2px)":"top"===d,"Ell W(44%)":"bottom"===d&&b}),k=u["default"].createElement(m.Attribution,{className:N,data:s});if(!w&&!g){var A=(0,i["default"])("M(0) Mt(12px) Lh(18px) LineClamp(3,54.015px)",{"C(#959595)":t.read});T=u["default"].createElement("p",{className:A},o)}var O=g?null:u["default"].createElement("u",{className:"StretchedBox Z(1)"}),D=(0,i["default"])({"Py(20px) smartphone_Px(20px)":"sidekick"!==n.view,"Py(14px) smartphone_Px(20px)":"sidekick"===n.view&&"thingrid"!==n.layout,"Py(10px) H(190px) Px(10px)":"sidekick"===n.view&&"thingrid"===n.layout},"smartphone_Bxsh(streamBoxShadow) Cf",t.className),R=s.get("title");h&&this.state.shouldRenderVideo&&(null===this.state.firstLiveVideo&&(R=_?p.getItemTitle(s,this.reelStore):this.context.intl.formatMessage({id:"VIDEO_REEL_TITLE"})),R=null!==this.state.title?this.state.title:R);var L=u["default"].createElement("h3",{className:(0,i["default"])("M(0) Py(1px)",{"Mb(12px)":"top"===c,"Pos(a) B(50px) Start(16px) Lh(22px)":"inline-bottom"===c})},u["default"].createElement(I["default"],P,u["default"].createElement("span",{className:"Fw(600) smartphone_Fw(500)"},R),O)),F=f.shouldRenderButtons(t);return u["default"].createElement(E.I13nDiv,{className:D,i13nModel:this.state.model,"data-test-locator":e},u["default"].createElement("div",{className:"Pos(r)"},M,"top"===d?k:undefined,u["default"].createElement("div",{className:"Pos(r)"},"top"===c?L:undefined,w,"bottom"===c?L:undefined,T,F||b||"bottom"===d?u["default"].createElement("div",{className:(0,i["default"])(S||"Lh(1.2) Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1)",{"Mt(20px)":b&&"sidekick"!==n.view,"Mt(10px)":!b&&"sidekick"!==n.view,"Mt(4px) C(#96989f)":"sidekick"===n.view,"smartphone_H(15px)":F})},this._renderButtons(),b?this._generateStorylineToggle():"bottom"===d?k:undefined):undefined)),this._generateStoryline(),this._generateRelatedContent())},_renderButtons:function(){if(this.state.buttons)return u["default"].createElement("div",{className:"NoJs_D(n) Pos(a) End(0) B(-6px)"},this.renderComment(),this.renderShareModal())},renderComment:function(){var e=this.props.data,t=this.props.config;if(!f.shouldRenderComment(e,t))return undefined;var a={count:e.get("commentCount"),iconSize:25,model:this.state.model,navParams:{pageTitle:e.get("title"),url:e.get("url")},url:e.get("link"),uuid:e.get("id")};return t.persist_category&&(a.navParams.category=t.category),u["default"].createElement(S["default"],a)},renderShareModal:function(){var e=this.props,t=e.config,a=e.data;if(!f.shouldRenderShareButtonMenu(a,t))return undefined;var i={buttonRenderer:this.getOpenModalButtonRenderer(),buttonsToShow:f.getButtonsToShow(a,t),className:"D(ib)",enableTumblrReblog:!0,iconSize:25,twitterId:t.twitter_id};return u["default"].createElement(k.ShareModal,n({},f.getSharingMetadata(a),i))},getOpenModalButtonRenderer:function(){return function(e){return u["default"].createElement(E.I13nButton,{className:"O(0):f Bd(0) P(0) Pstart(10px)--sm320 D(ib) Va(m) Pstart(23px)",i13nModel:{itc:1,elm:"share",elmt:"btn",slk:"share",tar:null,tar_uri:null},onClick:e},u["default"].createElement(M.Icon,{asset:N["default"],height:25,color:"#ccc",style:{margin:"auto",verticalAlign:"bottom",position:"relative",top:"-3px"}}))}}}),e.exports=t["default"]},3727:function(e,t,a){"use strict";var n,i,s,r=a(4),o=a(2),l=a(10),d=a(34),u="transform",c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};"undefined"!=typeof window&&(i=a(2253)),n=l({displayName:"ScrollView",offset:0,offsetTarget:0,offsetMin:0,offsetMax:0,releaseTime:0,afterBoundsTime:0,amplitude:0,getInitialState:function(){return{translate:0,translateTransition:!1}},propTypes:{rubberBandTiming:r.number,lubricity:r.number,stopPropagation:r.bool,axis:r.oneOf(["x","y"]),maxRubberBandDistance:r.oneOfType([r.number,r.oneOf([!1])]),transitionStyle:r.string,onTap:r.func,onPanEnd:r.func,children:r.element,className:r.string},getDefaultProps:function(){return{rubberBandTiming:100,lubricity:.5,axis:"x",maxRubberBandDistance:100,transitionStyle:"all .5s ease-out",stopPropagation:!1,onTap:function(){},onPanEnd:function(){}}},translate:function(e,t){this.setState({translate:e,translateTransition:t})},snapBack:function(e){this.afterBoundsTime=0,this.offset=e,this.translate(e,!0)},autotranslate:function(){var e,t,a,n=this.amplitude,i=this.offsetTarget,s=this.offsetMin,r=this.offsetMax,o=this.props.rubberBandTiming;if(n&&!this.dragging){if(e=Date.now()-this.releaseTime,(a=i+(t=Math.round(-n*Math.exp(-e/325))))>=r||a<=s)if(!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(a>r?a=Math.min(a,r+this.props.maxRubberBandDistance):a<s&&(a=Math.max(a,s-this.props.maxRubberBandDistance))),0!==this.afterBoundsTime){if(Date.now()-this.afterBoundsTime>o||this.state.translate===a)return void this.snapBack(a>=r?r:s)}else this.afterBoundsTime=Date.now();t>.5||t<-.5?(this.translate(a),requestAnimationFrame(this.autotranslate)):this.translate(i)}},updateOffsetMin:function(){var e=d.findDOMNode(this);this.offsetMin=e[this.maskSpace]-e.firstChild[this.maskScroll]},handleHammer:function(e){var t,a=1e3*e[this.velocityPropName],n=this.offsetMax,i=this.offsetMin,s=!0;switch(t=this.offset+e[this.deltaPropName],!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(t>n?t=Math.min(t,n+this.props.maxRubberBandDistance):t<i&&(t=Math.max(t,i-this.props.maxRubberBandDistance))),e.type){case"panup":case"pandown":Math.abs(e.deltaY)>Math.abs(e.deltaX)&&(this.dragging=!0,this.translate(t));break;case"panright":case"panleft":Math.abs(e.deltaX)>Math.abs(e.deltaY)&&(this.dragging=!0,this.translate(t));break;case"panend":this.dragging=!1,this.props.onPanEnd(e),0===e.distance?s=!1:Math.abs(a)>10?("y"===this.props.axis&&Math.abs(e.velocityY)>Math.abs(e.velocityX)||"x"===this.props.axis&&Math.abs(e.velocityX)>Math.abs(e.velocityY))&&(this.amplitude=this.props.lubricity*a,this.offsetTarget=Math.round(t+this.amplitude),this.releaseTime=Date.now(),this.offset=this.offsetTarget,this.autotranslate()):t>=n?(this.offset=n,this.translate(n,!0)):t<=i?(this.offset=i,this.translate(i,!0)):this.offset=t;break;case"tap":this.props.onTap(e),s=!1}s&&(e.preventDefault(),this.props.stopPropagation&&e.srcEvent.stopPropagation())},handleOrientationChange:function(){var e,t,a;this.updateOffsetMin(),a=this.offsetMin,(e=this.offset)>=(t=this.offsetMax)?(this.offset=t,this.translate(t)):e<=a&&(this.offset=a,this.translate(a))},componentWillMount:function(){switch(this.props.axis){case"y":this.gestures="tap panend panup pandown",this.deltaPropName="deltaY",this.velocityPropName="velocityY",this.maskSpace="offsetHeight",this.maskScroll="scrollHeight";break;case"x":default:this.gestures="tap panend panleft panright",this.deltaPropName="deltaX",this.velocityPropName="velocityX",this.maskSpace="offsetWidth",this.maskScroll="scrollWidth"}},componentDidMount:function(){var e=d.findDOMNode(this);u=Modernizr.prefixed("transform"),s=Modernizr.prefixed("transition"),c[s],this.hammer=new i(e,{touchAction:"y"===this.props.axis?"pan-x":"pan-y",cssProps:{tapHighlightColorString:""}}).on(this.gestures,this.handleHammer),this.hammer.get("pan").set({direction:i.DIRECTION_ALL,threshold:10}),this.updateOffsetMin(),window.addEventListener("orientationchange",this.handleOrientationChange,!1)},componentWillUnmount:function(){window.removeEventListener("orientationchange",this.handleOrientationChange),this.hammer.off(this.gestures,this.handleHammer)},componentDidUpdate:function(e){e!==this.props&&this.handleOrientationChange()},render:function(){var e=this.props.axis,t=this.state.translate,a=this.state.translateTransition,n={},i=0,r=0;return"x"===e?i=t+"px":"y"===e&&(r=t+"px"),n[u]="translate3d("+i+","+r+",0)",a&&(n[s]=this.props.transitionStyle),o.createElement("div",Object.assign({},this.props,{className:["Ov(h)",this.props.className].join(" "),"aria-hidden":"true"}),o.createElement("div",{style:n},this.props.children))}}),e.exports=n},3728:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(a(4));var n=i(a(2));function i(e){return e&&e.__esModule?e:{"default":e}}var s=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.intl;return n["default"].createElement("span",{className:"D(ib) Bgc(#6526c1) C(#fff) Bg(editorsPickGradient) Fw(600) Fz(11px) Px(6px) Py(3px) Bdrs(2px) Mend(11px) Mt(4px)"},t.formatMessage({id:"EDITORS_PICK"})+" ")};s.displayName="EditorsPick",t["default"]=s,e.exports=t["default"]},3729:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(1084)),i=_(a(16)),s=_(a(182)),r=a(1092),o=_(a(1)),l=_(a(10)),d=_(a(323)),u=_(a(4)),c=_(a(2)),f=a(1090),p=_(a(2876)),m=_(a(1449)),g=a(1736),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1304));function _(e){return e&&e.__esModule?e:{"default":e}}t["default"]=(0,l["default"])({displayName:"StorylineScrollview",autobind:!1,mixins:[i["default"],r.ComponentMixin],contextTypes:{session:u["default"].object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE",navParams:"SKIP_SHOULD_UPDATE",wrapperModel:"SKIP_SHOULD_UPDATE"}}},propTypes:{},componentDidMount:function(){var e=this.props.storyline||s["default"].List();this.state.numToRender<e.size&&this.setState({numToRender:e.size})},componentWillReceiveProps:function(e){this.props.storyline!==e.storyline&&this.setState(this.getState(e,!0))},getState:function(e,t){var a=e.storyline||s["default"].List();return{numToRender:t?a.size:e.config.pageload_storyline_count||3,showImages:a.every(this.getStoryImage)}},getInitialState:function(){return this.reelStore=this.getStore(m["default"]),this.getState(this.props,!1)},getStoryImage:function(e){if("reel"===e.get("subtype")&&e.getIn(["imageSize","img:reel"]))return e.getIn(["imageSize","img:reel"]);var t=e.get("images")||s["default"].Map();return t.get("img:178x100")||t.get("img:100x100")},getStorylineComponents:function(){var e=this,t=this,a=t.props,i=t.state,r=a.config,l=i.showImages,u=a.storyline||s["default"].List(),p=a.config.ui||{},m="smartphone"===t.context.session.dimensions.device;if((p.storyline_min||1)>u.size)return null;var _=(0,n["default"])("Td(n) D(ib) Va(t) C($c-fuji-blue-4-b) W(100%)",{"C(#959595):vi":p.show_read}),v=(0,n["default"])("Fz(13px) LineClamp(3,48px)",{"C(#000) Fw(n)":m,"C(#0078ff):h Fw(b)":!m});return(u=u.slice(0,i.numToRender)).map((function(n,i){var u="reel"===n.get("subtype");s["default"].Map.isMap(n)&&u&&(n=(0,g.fetchReelArticleWithThumbnail)(n,r,e.reelStore,r.channelName));var b,y,x=u&&m?p.storyline_reel_link_path:n.get("link")||"",S=l?t.getStoryImage(n):null,C=h.getBaseI13n(n,S,!0),E={className:_,followLink:h.shouldFollowLink(n,a.config),href:x,i13nModel:Object.assign({},C,{elm:"rhdln",pos:i+2,cposy:n.get("cposy")}),navParams:{itemI13n:(0,o["default"])(e.props,["navParams","itemI13n"]),url:n.get("url")}},M=n.get("title");if(S){y={maxWidth:S.get("width")},b=c["default"].createElement(f.Img,{url:S.get("url"),checkPosition:!1,className:"Mb(5px) W(100%) H(a)",forceLoad:!0,width:S.get("width"),height:S.get("height"),alt:M})}return c["default"].createElement("li",{className:"D(ib) Mend(12px) Whs(n) W(44%)",style:y,key:i},c["default"].createElement(d["default"],E,b,c["default"].createElement("div",{className:v},M),c["default"].createElement("div",{className:"C(#959595) Pt(2px)"},n.get("publisher"))))}))},render:function(){var e,t=(0,n["default"])("Mstart(-20px) Mend(-12px) Mt(20px)",this.props.className);return this.props.storyline&&(e=this.getStorylineComponents()),e?c["default"].createElement(p["default"],{axis:"x",className:t,stopPropagation:!0},c["default"].createElement("ul",{className:"Whs(nw) Pos(r) Z(1) Lh(16px) Fz(11px) Mstart(20px)"},e)):null}}),e.exports=t["default"]},3730:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=h(a(4)),s=h(a(2)),r=a(1276),o=h(a(1084)),l=h(a(1622)),d=h(a(10)),u=h(a(16)),c=h(a(1)),f=a(1090),p=h(a(323)),m=h(a(1555)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1304));function h(e){return e&&e.__esModule?e:{"default":e}}t["default"]=(0,d["default"])({displayName:"SimpleItem",autobind:!1,mixins:[u["default"],m["default"]],contextTypes:{session:i["default"].object},propTypes:{},render:function(){var e=this.props,t=e.config,a=e.data,n=t.ui||{},i=n.view,l=n.showSummary||!1,d=n.itemSummaryClass||"",u="row"===i,p="headlines"===i,m=this.context.session.dimensions.device,h="smartphone"===m,_="smartphone-lite"===m,v=p&&(h||_),b="imageView"===i,y=g.isLazyLoad(e),x=a.get("images"),S=a.getIn(u?["images","img:198x115"]:b?["images","img:300x100"]:h||_?["images","img:100x100"]:["images","img:72x72"])||a.getIn(["images","original"]),C=a.get("link")||"",E={data:a,propertyColors:n.property_colors,textClass:"C(#96989f)"},M=g.getBaseI13n(a,S,e.index);M.elm="hdln",M.pos=1;var P,I={className:(0,o["default"])("Td(n)",{"D(b) Td(n):f":p,"D(ib) Mt(6px)":!p,"C(#0078ff):h C($c-fuji-blue-4-b)":!v}),followLink:g.shouldFollowLink(a,t),href:C,i13nModel:M,navParams:Object.assign(g.getNavParams(a,t),e.navParams),target:a.get("off_network")?(0,c["default"])(t,["offnet","target"]):undefined},w=v?(0,o["default"])("M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px)","Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)"):"Fz(13px) Fw(700) Pb(3px) LineClamp(3,48px)";!v&&l&&(w="Fz(13px) Fw(700) Pb(3px) LineClamp(2,47px)");var T=g.getTypeIcon(a,t);return T&&(P=s["default"].createElement(r.TypeIcon,{iconSize:16,lazyLoad:y,orbSize:40,type:T})),s["default"].createElement("div",{className:(0,o["default"])("Lts(n) Whs(n)",{"C($c-fuji-blue-4-b)":!e.read,"C(#959595)":e.read,"Px(9px)":u,"Pend(13px) Pos(r)":p,"Pb(20px) Pstart(20px)":v,"D(tb)":v,"D(b)":!v})},s["default"].createElement("div",{className:(0,o["default"])({"D(tbr)":v})},s["default"].createElement("div",{className:(0,o["default"])("Maw(100%) Pos(r) Cur(p) Bdrs(2px)",{"Pb(58.1%) Bgc(#ddd)":u,"D(tbc) W(120px) W(100px)--maw370":v&&x,"W(72px) H(72px) D(ib) Mend(10px) Fl(start)":p&&!h&&!_,"W(300px) H(100px) D(ib) Mend(10px) Fl(start) Bgc(#ddd)":b,"D(n)":p&&!x,"H(0)":!(p&&!h&&!_||b)})},s["default"].createElement(f.Img,{checkPosition:!1,className:(0,o["default"])("Tdrsu(0s)!",{"StretchedBox W(100%) H(100%) ie-7_H(a) Bdrs(2px)":!p,"Bdrs(2px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":v,"W(100%) H(100%) ie-7_H(a) Bdrs(2px)":p&&!h&&!_}),forceLoad:!y,url:S&&S.get("url")}),P),s["default"].createElement("div",{className:(0,o["default"])({"D(tbc) Va(t) W(100%)":p,"Pstart(20px)":x&&v})},p?s["default"].createElement("div",null,this.renderHeadline(I,w,E,b),this.renderComment()):this.renderHeadline(I,w,E,b),l?s["default"].createElement("p",{className:(0,o["default"])("LineClamp(3,57px)",d)},a.get("summary")):"")))},renderHeadline:function(e,t,a,i){var l=this.props||{},d=(l.config||{}).ui||{},u=l.data;return u?s["default"].createElement(p["default"],e,d.isAttributionAboveTitle||!1?s["default"].createElement(r.Attribution,n({className:(0,o["default"])("Fz(12px) Ell",d.attributionClass||"")},a)):null,i?null:s["default"].createElement("h4",{className:t},u.get("title")),d.attribution_pos?s["default"].createElement(r.Attribution,n({className:"Fz(12px) C(#959595)! Ell Mb(2px)"},a)):null,s["default"].createElement("u",{className:"StretchedBox"})):null},renderComment:function(){var e=this.props.data,t=this.props.config,a=this.props.navParams;if(!e||!t||!g.shouldRenderComment(e,t))return null;var n={count:e.get("commentCount"),stringClassName:"Mstart(6px) Fw(500)! Fz(12px)!",showDescription:!0,iconColor:"#188fff",iconSize:18,navParams:Object.assign(g.getNavParams(e,t),a),textAlign:"right",url:e.get("link"),uuid:e.get("id")};return s["default"].createElement(l["default"],n)}}),e.exports=t["default"]},3731:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2879);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{"default":e})["default"];var e}}),e.exports=t["default"]},3732:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(3733)),i=o(a(2574)),s=o(a(2575)),r=o(a(2576));function o(e){return e&&e.__esModule?e:{"default":e}}t["default"]=(0,n["default"])(r["default"],{fetchMoreAction:i["default"],loadStreamAction:s["default"]}),e.exports=t["default"]},3733:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if(!t.loadStreamAction)throw new Error(["A `loadStreamAction` is required to create a Stream.","Provide a `loadStreamAction` in the options passed to `createStream`."].join("\n"));var a=(0,A["default"])("Stream:"+e.displayName);return(0,i["default"])({displayName:"Stream:"+e.displayName,autobind:!1,mixins:[s["default"]],statics:{componentConfig:t.componentConfig||{bundleName:"tdv2-applet-stream",name:"componentStream"},initializeAction:t.loadStreamAction,resources:t.resources||{streamItems:{action:k["default"],params:T["default"],fallbackParams:N["default"],resource:"StreamService"}}},contextTypes:{getComponent:u["default"].func,intl:u["default"].object,localStorage:u["default"].object,logger:u["default"].object,renderTarget:u["default"].object.isRequired,session:u["default"].object},propTypes:{},getDefaultProps:function(){return{componentConfig:{category:""}}},getInitialState:function(){a("getInitialState");var e=this.props;this.store=this.getStore(E["default"]),this.langStore=this.getStore(x["default"]),this.pageStore=this.getStore(S["default"]),this.routeStore=this.getStore(C["default"]);var t={config:this._getConfig(e),fetching:!1,isMounted:!1};return t.data=this._getData(e.id,t.config.category),t},initialComponentActions:function(){if(!this.initialActionsExecuted){var e=this.state,t=e.config,a=t.ui||{},n=e.data.get("stream_items");if(n){if(this.initialActionsExecuted=!0,((0,o["default"])(t,["batches","start_index"])||0)>0)return;if(a.dispatch_content_store){var i=!!(0,h.getAppIdFromPageConfig)(this);this.executeAction(M["default"],{items:n.toJS(),loadContentAction:i?P["default"]:undefined,snippets:!0,sourceId:this.props.id,prefetch:t.use_prefetch,redisCompress:t.redisCompress,useSlingstoneLcp:m.shouldUseSlingstoneLcp(t),ssEP:t&&t.batches&&t.batches.ss_endpoint||""})}}}},componentWillMount:function(){this.onStreamStoreChange=this.onStreamStoreChange.bind(this)},componentDidMount:function(){a("componentDidMount");var e=this;e.subscribers=[(0,p["default"])("scroll",e.onScroll.bind(e),{enableScrollInfo:!0}),(0,p["default"])("resize",e.onResize.bind(e))],e.store.addChangeListener(e.onStreamStoreChange),setImmediate((function(){e.initialComponentActions(),e.setState({isMounted:!0})}))},shouldComponentUpdate:function(e,t){var a=this.state,n=t.config.ui||{};return this.context.renderTarget.isActive()&&t.data.get("category")===t.config.category&&(t.newRelatedItems||t.data!==a.data||t.fetching!==a.fetching||t.config.embedComponents!==a.config.embedComponents||t.isMounted!==a.isMounted&&(-1!==t.config.pageload_item_count||n.show_read)||(0,g.shouldRenderUserintent)(t.config)&&t.userIntentData!==a.userIntentData)},componentDidUpdate:function(){a("componentDidUpdate"),this.state.newRelatedItems&&this.setState({newRelatedItems:!1}),this.onScroll(),this.initialComponentActions(),this.props.onComponentDidUpdate&&this.props.onComponentDidUpdate()},componentWillUnmount:function(){a("componentWillUnmount");this.subscribers&&this.subscribers.forEach((function(e){e.unsubscribe()})),this.store.removeChangeListener(this.onStreamStoreChange)},componentWillReceiveProps:function(e){a("componentWillReceiveProps");var t=this._getConfig(e);t.pageload_item_count=-1,this.setState({config:t,data:this._getData(this.props.id,t.category)}),this._maxScroll=0},onScroll:function(e,a){if(this.context.renderTarget.isActive()){var n=this.state.config,i=this.state.data,s=i.get("more_items")||d["default"].List(),r=i.get("stream_pagination"),l=(0,o["default"])(n,["batches","pagination"]),u=(0,o["default"])(n,["ui","scrollbuffer"])||900;if(l&&!this.state.fetching&&(0!==s.count()||r)){var c=a&&a.scroll&&a.scroll.top||window.scrollY||document.documentElement.scrollTop;if(!this._maxScroll||c>this._maxScroll){var p=f["default"].findDOMNode(this).getBoundingClientRect(),m=window.innerHeight||document.documentElement.clientHeight;if(this._maxScroll=Math.min(c,c+p.bottom),p.height&&p.bottom-u<m){if(!t.fetchMoreAction)throw new Error(["A `fetchMoreAction` is required to create a Stream with pagination enabled.","Either disable pagination in ./configs/component<MyComponent>.js under","`batches.pagination`, or provide a `fetchMoreAction` in the options passed","to `createStream`."].join("\n"));n.pageload_image_count=-1,this.state.fetching=!0,this.executeAction(t.fetchMoreAction,{componentProps:this.props,config:n,resource:r?"StreamService":null})}}}}},onResize:function(e,t){this._maxScroll=0,this.onScroll(null,t)},onStreamStoreChange:function(e){if(a("onStreamStoreChange"),e){var t=this.props.id,n=e.type,i=this.state.config,s=i.ui||{},r=(0,o["default"])(i,["batches","start_index"])||0,l=i.category||"";if(e.id===t||r>0&&e.category===l)"STREAM_INIT"!==n&&"STREAM_BATCH"!==n||this.setState({data:this._getData(t,l),fetching:!1}),"STREAM_RELATED"===n&&this.setState({newRelatedItems:!0}),"STREAM_INIT"===n?(this._maxScroll=0,e.cached&&!e.fromLS||(this.initialActionsExecuted=!1)):this.onScroll();else if("STREAM_RESET"===n&&i.clear_on_navigate)this.setState({data:this._getData(t,l)});else if("STREAM_UPDATE_UUID"===n&&e.uuid&&s.related_enabled)setImmediate(this._fetchRelated.bind(this,e));else if("STREAM_PAGE_CATEGORY"===n&&!0===i.use_page_category){var d=this.store.getPageCategory();d&&l!==d&&(i.category=d,this.setState({config:i}))}else"USERINTENT_CHANGE"===n&&(0,g.shouldRenderUserintent)(i)&&this.setState({userIntentData:e})}},_fetchRelated:function(e){var t=[];"STREAM_UPDATE_UUID"===e.type&&e.uuid&&this.store.isStreamItem(this.props.id,this.state.config.category,e.uuid)&&t.push(e.uuid),t.length&&this.executeAction(I["default"],{config:this.state.config,instanceId:this.props.id,uuids:t})},_getData:function(e,t){var a=this.store.getInstance(e,t);return a.get("fromLS")?d["default"].Map():a.get("data")},_getConfig:function(e){var t=Object.assign({},e.componentConfig,m.getCategoryOverrides(this.store,e.componentConfig));t.content_site=this._getContentSite(),t.twitter_id=this._getTwitterId();var a=t.ui&&t.ui.view;return"megastream"===a?(this.context.logger.warn("Stream: ui.view=megastream is deprecated. Please move to ui.view=mega"),t.ui=Object.assign({},t.ui,{button_pos:"right",image_classes:"W(26.5%) Maw(220px)",view:"mega"})):"list"===a&&(this.context.logger.warn("Stream: ui.view=list is deprecated. Please move to ui.view=mega"),t.ui=Object.assign({},t.ui,{view:"mega"})),"failsafe"===(0,o["default"])(this.context,["session","dimensions","mode"])?t=(0,l["default"])({},t,m.getFailsafeConfigs(t)):(0,o["default"])(this.context,["session","isLightWeightBrowser"],!1)&&(t=(0,l["default"])({},t,m.getLightWeightConfigs(t))),t},_getContentSite:function(){var e=this.routeStore.getCurrentRoute()||{};return(0,o["default"])(e,["params","contentSite"])||e.contentSite||(0,o["default"])(this.context,["session","dimensions","site"])||"fp"},_getTwitterId:function(){var e=this.pageStore.getPageData();return(0,o["default"])(e,["meta","name","twitter:site"])||(0,o["default"])(e,["meta","property","twitter:site"])||"Yahoo"},_getItemComponent:function(e,t,a){var n=Object.assign({props:{}},t),i=this.state.config,s=this.state.userIntentData;return n.props.key="item-"+a+"-"+e.get("id"),n.props.id="item-"+a,n.props.index=a,n.props.locales=this.props.locales,n.props.messages=this.langStore.getStrings(n.bundleName),n.props.navParams=m.getItemNavParams(i,this.state.data,e,a),n.props.config=i,n.props.data=e,(0,g.shouldRenderUserintent)(i)&&s&&(n.props.userIntentData=s),(0,o["default"])(i,["ui","related_enabled"])&&(n.props.relatedItems=this.store.getRelatedItemsByUuid(e.get("id"))),n},_getEmbedComponents:function(e){var t=e.embedComponents;if(!t)return[];var a=(0,o["default"])(this.pageStore.getComposite(this.props.id),["components"])||[],n=0;return t.map((function(e){var t=void 0;return t=e.childComponent?a[n++]:{bundleName:e.bundleName,name:e.name,props:e.props||{}},{className:e.className,component:t,key:"streamembed-"+e.index,index:e.index}}))},_makeItems:function(e,t,a){var i=this,s=i.context.localStorage,r="desktop"===i.context.session.dimensions.device,o=this.state.isMounted&&s&&s.getItem("strm-read")||{},l=a.ui||{},d=l.show_read,u=l.item_classnames;return t.map((function(t,a){var s=e.get(a),c=i._getItemComponent(s,t,a),f=s.get("id"),p=s.get("isPromoAd"),m=(0,n["default"])("js-stream-content",{"D(n)":c.props.hideItem,"Pos(r)":r,"Ov(h) Fl(start) P(0px) My(0px) Mb(-4px)":"thingrid"===l.layout,"H(210px) W(50%)--po W(33%)--lso":"thingrid"===l.layout&&!p,"W(100%)":"thingrid"===l.layout&&p},u);return c.props.read=!(!d||!o[f]),{key:"list-"+a,component:c,itemClasses:m}}))},_makeTitle:function(e){var t=e.ui||{},a=t.title;if("disabled"!==a){var n=t.titleKey,i=t.titleValues;if(!n&&("sidekick"===t.view&&(n="SIDEKICK_TITLE"),"discussion"===t.view&&(n="SIDEPIC_TITLE"),e.use_article_category)){var s=this.store.getArticleCategoryLabel();s?(n="MORE_ON",i={category:s}):n="MORE"}if(a||n)return c["default"].createElement(b["default"],{className:t.title_classnames,intl:this.context.intl,title:a,titleKey:n,titleValues:i})}},getContentIndexByUuid:function(e,t){var a,n=e.size;if(n>0&&t)for(a=0;a<n;a++)if(e.getIn([a,"id"])===t)return a;return-1},render:function(){a("render");var t=this.state,n=t.data||d["default"].Map(),i=t.config||{},s=i.ui||{},l=s.view;if(n.get("category")!==i.category)return c["default"].createElement("div",null);var u=n.get("stream_items")||d["default"].List(),f=u.size,p=(0,o["default"])(i,["batches","start_index"])||0,m=(0,o["default"])(i,["batches","end_index"])||f-1,g=i.pageload_item_count;m=Math.min(m,p+(!t.isMounted&&g>=0?g:f)-1);var h,v=u.slice(p,m+1),b=n.get("components")||d["default"].List();if(b=b.slice(p,m+1).toJS(),s.exclude_current_content){var x=this.context.getStore(y["default"]).getCurrentContent(),S=x&&(0,r.get)(x,"uuid"),C=this.getContentIndexByUuid(v,S);C>=0&&(v=v.splice(C,1),b.splice(C,1),f--)}if(0===p&&(f<i.min_count||0===f&&i.category)){if(!1===i.ui.show_error)return c["default"].createElement("div",null);h=c["default"].createElement(_["default"],{itemCount:f,config:i})}var E=Object.assign({cat:i.category,ccode:n.get("ccode"),itc:0,sec:"strm"},i.i13n);"sidekick"===l&&(E.sec="sdkick");var M=c["default"].createElement(D,{embedComponents:this._getEmbedComponents(i),errorItem:h,items:this._makeItems(v,b,i),i13nModel:E}),P=Object.assign({appletTitle:this._makeTitle(i),errorItem:h,id:this.props.id},this.state);return c["default"].createElement(e,P,M)}})};var n=O(a(1084)),i=O(a(10)),s=O(a(16)),r=a(116),o=O(a(1)),l=O(a(17)),d=O(a(182)),u=O(a(4)),c=O(a(2)),f=O(a(34)),p=O(a(58)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}(a(1828)),g=a(1304),h=a(1171),_=O(a(2570)),v=O(a(3734)),b=O(a(2571)),y=O(a(184)),x=O(a(59)),S=O(a(8)),C=O(a(12)),E=O(a(2153)),M=O(a(1256)),P=O(a(1175)),I=O(a(2572)),w=a(322),T=O(a(1678)),N=O(a(2573)),k=O(a(2154)),A=O(a(0));function O(e){return e&&e.__esModule?e:{"default":e}}var D=(0,w.createI13nNode)(v["default"]);e.exports=t["default"]},3734:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(324),s=a(1276),r=l(a(4)),o=l(a(2));function l(e){return e&&e.__esModule?e:{"default":e}}var d=["off_network","type"],u=function(e,t){var a=e.errorItem,r=e.embedComponents,l=t.session||{},u=l.isDevInfo,c=l.isYnet,f=e.items.map((function(e,a){var i=e.component,r=i.props.data,l=t.getComponent(i.bundleName,i.name),f={className:e.itemClasses||""};return u&&(f.className+=" Pos(r)"),c&&d.forEach((function(e){var t=r.get(e);t!==undefined&&(f["data-test-"+e]=String(t))})),o["default"].createElement("li",n({key:e.key},f),u?o["default"].createElement(s.DebugStreamItem,{data:r}):undefined,o["default"].createElement(l,i.props))}));return r&&r.forEach((function(e){e&&e.component&&e.index<=f.length&&f.splice(e.index,0,o["default"].createElement(i.Composite,{className:e.className,components:[e.component],key:e.key,nodeName:"li"}))})),o["default"].createElement("ul",{className:"My(0) Ov(h) P(0) Wow(bw)"},f,a)};u.displayName="Items",u.contextTypes={getComponent:r["default"].func.isRequired,session:r["default"].object},t["default"]=u,e.exports=t["default"]}}]);