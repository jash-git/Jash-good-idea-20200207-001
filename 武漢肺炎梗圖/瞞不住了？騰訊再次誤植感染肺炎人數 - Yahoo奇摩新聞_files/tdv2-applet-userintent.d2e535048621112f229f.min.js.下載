(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1048:function(e,t,n){e.exports={controllerViews:{Userintent:n(2568),UserintentPanel:n(2281),UserintentConfirm:n(2569),UserintentManagement:n(3779)},stores:{UserintentStore:n(1795)}}},1737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I13nButton=undefined,t.getI13nModel=function(e,t){if(!i[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},i[e],t):i[e]};var s=n(322),i={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};t.I13nButton=(0,s.createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1})},1827:function(e,t,n){if(void 0===s)var s={};s["dislike-heart"]={name:"dislike-heart",height:14,width:16,path:"M1.253 3.196l9.054 9.053L8 14.666 1.774 8.142c-1.276-1.34-1.45-3.408-.52-4.946zm.874-1.01c.672-.553 1.494-.853 2.363-.853 2.125 0 3.117 1.694 3.51 2.016.406-.332 1.375-2.017 3.51-2.017 1.028 0 1.994.42 2.717 1.18 1.475 1.552 1.475 4.077 0 5.628l-3 3.144-9.1-9.1z"},e.exports&&(e.exports=s["dislike-heart"])},2281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n(2),r=d(i),a=(d(n(4)),n(1737)),o=d(n(1312)),l=(n(85),d(n(1827))),u=n(321);function d(e){return e&&e.__esModule?e:{"default":e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"handleClickOutside",value:function(e){var t=this.props;t.showPanel&&(0,t.hidePanelAction)()}},{key:"render",value:function(){var e=this.props,t=e.uuid,n=e.intl,s=e.isMuted,i=e.publisher,o=e.userPreferenceAction,d=s?"#ff6368":"#ccc",c=(s?n.formatMessage({id:"UNDO"}):"")+" "+n.formatMessage({id:"SHOW_LESS_OF"},{publisher:i});return r["default"].createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+t},r["default"].createElement(a.I13nButton,{onClick:o,i13nModel:(0,a.getI13nModel)("panelClick",{slk:i,elm:s?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},r["default"].createElement(u.Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:l["default"],color:d,height:22,width:22}),c,r["default"].createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},n.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}]),t}(i.PureComponent);t["default"]=(0,o["default"])(c),e.exports=t["default"]},2568:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=g(n(4)),i=g(n(2)),r=g(n(10)),a=n(322),o=n(1737),l=n(85),u=g(n(329)),d=n(321),c=g(n(2281)),f=g(n(16)),h=g(n(340)),p=n(1874),m=g(n(1795));function g(e){return e&&e.__esModule?e:{"default":e}}var b=(0,r["default"])({mixins:[f["default"],h["default"]],displayName:"Userintent",statics:{storeListeners:[m["default"]],componentConfig:{name:"componentUserintent"}},propTypes:{className:s["default"].string,index:s["default"].number,intl:l.intlShape,config:s["default"].object,uuid:s["default"].string,publisher:s["default"].string,publisherId:s["default"].string,componentConfig:s["default"].object},getDefaultProps:function(){return{className:"",index:1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){var e=this.props.config,t=(e=e===undefined?{}:e).discoverIndex,n=t===undefined?1:t;this.state.inViewport||this.props.index!==n||this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillUnmount:function(){this.stopListeningToViewport()},stopListeningToViewport:function(){this.onEnterViewport(null)},handleEnterViewport:function(){this.executeAction(p.setTooltipViews,{componentConfig:this.props.config}),this.setState({inViewport:!0}),this.stopListeningToViewport()},getData:function(){var e=this.props.publisher,t=this.stores.userintent,n=t&&t.getStateJson()||{},s=n.mutedPublishers,i=s===undefined?{}:s;return n.isMuted=(i[e]||{}).muted||!1,n},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(m["default"]),this.executeAction(p.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},shouldRenderDiscover:function(){var e=this.props.config,t=(e=e===undefined?{}:e).discoverIndex,n=t===undefined?1:t;return this.props.index===n&&this.state&&this.state.showTooltip},shouldRenderPanel:function(){var e=this.state;return this.state&&e.showPanel&&e.target===this.props.uuid},handleDimissTooltip:function(e){this.executeAction(p.setTooltipSeen,{componentConfig:this.props.config}),e.preventDefault()},handleShowPanel:function(e){var t=this.props;this.executeAction(p.getMutedPublishers,{target:t.uuid,showPanel:!0,publisher:t.publisherId}),e.preventDefault()},handleHidePanel:function(){this.executeAction(p.getMutedPublishers)},handleUserPreference:function(){var e=this.props;this.executeAction(p.managePreference,{target:e.uuid,isMuted:this.state.isMuted,publisher:e.publisher,publisherId:e.publisherId})},renderDiscover:function(){var e=this.props,t=e.uuid,n=e.intl;return this.shouldRenderDiscover()?i["default"].createElement("div",{className:"userintent-tooltip Pos(a) P(12px) W(183px) End(0) Fw(200) Ta(start) H(a) Fz(12px) T(30px) Lh(1.5) Z(1) C(#fff) Bgc(#188fff) Bdrs(2px) Bxsh(userintentBoxshadow) Pos(a)::b End(6%)::b B(100%)::b W(0)::b H(0)::b Bd(userintentBorderTransparent)::b Bdbc(#188fff)::b Cnt(userintentEmpty)::b"},i["default"].createElement("div",{className:"Fw(500)"},n.formatMessage({id:"DONT_LIKE_THIS_SOURCE"})),i["default"].createElement("div",null,n.formatMessage({id:"CUSTOMIZE_HERE"})),i["default"].createElement(a.I13nAnchor,{key:"userintent-close-"+t,className:"userintent-dimiss-tooltip D(b) O(n) Pos(a) T(30%) End(5%) Bdrs(10px) Mt(-10px)",style:{background:"rgba(0,0,0,.3)"},href:"#",onTouchStart:this.handleDimissTooltip,onClick:this.handleDimissTooltip,i13nModel:(0,o.getI13nModel)("discoverClose")},i["default"].createElement(d.Icon,{className:"",asset:u["default"],color:"#188fff",height:20,width:20}))):undefined},renderPanel:function(){var e=this.props,t=this.state,n={index:e.index,intl:e.intl,showPanel:t.showPanel,isMuted:t.isMuted,uuid:e.uuid,publisher:e.publisher,publisherId:e.publisherId,hidePanelAction:this.handleHidePanel,userPreferenceAction:this.handleUserPreference};return this.shouldRenderPanel()?i["default"].createElement(c["default"],n):undefined},render:function(){var e=this.props,t=e.className,n=t===undefined?"":t,s=this.handleShowPanel,r={key:"userintent-"+e.uuid,className:"userintent-btn-link Va(m) Td(n) Fz(21px) Lh(17px) C(#959595) C(#188fff):h D(ib) desktop_W(100%) Cnt(userintentEllipsis)::b "+n,href:"#",onTouchStart:s,onClick:s,i13nModel:(0,o.getI13nModel)("userintentBtn",{slk:e.publisher})};return i["default"].createElement("div",{className:"userintent-wrapper Mt(6px) Pos(r)"},i["default"].createElement(a.I13nAnchor,r),this.renderDiscover(),this.renderPanel())}});t["default"]=(0,l.injectIntl)(b),e.exports=t["default"]},2569:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=f(n(4)),i=f(n(2)),r=f(n(10)),a=n(322),o=n(1737),l=n(85),u=f(n(16)),d=n(1874),c=f(n(1795));function f(e){return e&&e.__esModule?e:{"default":e}}var h=(0,r["default"])({mixins:[u["default"]],displayName:"UserintentConfirm",statics:{storeListeners:[c["default"]],componentConfig:{name:"componentUserintent"}},propTypes:{className:s["default"].string,index:s["default"].number,intl:l.intlShape,uuid:s["default"].string,publisher:s["default"].string,publisherId:s["default"].string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent;return e&&e.getStateJson()||{}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(c["default"]),this.executeAction(d.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},handleShowManagement:function(e){var t=this.props;this.executeAction(d.getMutedPublishers,{target:t.uuid,showManagement:!0,publisher:t.publisherId}),e.preventDefault()},handleUserPreference:function(e){var t=this.props;this.executeAction(d.managePreference,{target:t.uuid,isMuted:!0,publisher:t.publisher,publisherId:t.publisherId}),e.preventDefault()},render:function(){var e=this.props,t=e.uuid,n=e.intl,s=e.className,r=s===undefined?"":s,l=e.action,u=l===undefined?"":l,d=e.publisher,c=this.context.getStore("UserStore"),f=c.isSignedIn()||c.isRecognized(),h=n.formatMessage({id:"show_more"===u?"YOU_WILL_SEE_MORE":"YOU_WILL_SEE_LESS"},{publisher:d}),p=f?i["default"].createElement(a.I13nAnchor,{key:"userintent-manage-"+t,className:"Fl(end) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleShowManagement,onClick:this.handleShowManagement,i13nModel:(0,o.getI13nModel)("confirmManage")},n.formatMessage({id:"MANAGE_PUBLISHERS_SHORT"})):i["default"].createElement("div",null,n.formatMessage({id:"SIGN_IN_TO_MANAGE_PUBLISHERS"}),i["default"].createElement(a.I13nAnchor,{key:"userintent-signin-"+t,className:"Fz(14px) C($c-fuji-blue-1-a)",href:"https://login.yahoo.com/",i13nModel:(0,o.getI13nModel)("confirmSignin")},n.formatMessage({id:"SIGN_IN"})));return i["default"].createElement("div",{className:"Pos(r) userintent-confirm Bgc($c-fuji-grey-a) ($c-fuji-grey-c) Bds(s) Bdc($c-fuji-grey-c) Bdw(1px) Bdrs(2px) Px(14px) Py(12px) "+r,key:"userintent-confirm-"+t},i["default"].createElement("h4",{className:"Fw(n) Fz(15px) Lh(24px)"},h,i["default"].createElement(a.I13nAnchor,{key:"userintent-undo-"+t,className:"Mstart(5px) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleUserPreference,onClick:this.handleUserPreference,i13nModel:(0,o.getI13nModel)("confirmUndo",{slk:d})},n.formatMessage({id:"UNDO"})),p))}});t["default"]=(0,l.injectIntl)(h),e.exports=t["default"]},3779:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=h(n(4)),i=h(n(2)),r=h(n(10)),a=n(1737),o=n(85),l=h(n(329)),u=n(321),d=h(n(16)),c=n(1874),f=h(n(1795));function h(e){return e&&e.__esModule?e:{"default":e}}var p=(0,r["default"])({mixins:[d["default"]],displayName:"UserintentManagement",statics:{storeListeners:[f["default"]],componentConfig:{name:"componentUserintent"}},propTypes:{className:s["default"].string,index:s["default"].number,intl:o.intlShape,uuid:s["default"].string},getDefaultProps:function(){return{className:""}},getData:function(){var e=this.stores.userintent,t=e&&e.getStateJson()||{},n=t.target,s=t.showManagement,i=t.mutedPublishers,r=i===undefined?{}:i,a=(this.state||{}).mappedPublishers;return!s||a&&Object.keys(a).length||(a=JSON.parse(JSON.stringify(r))),{target:n,showManagement:s,mutedPublishers:r,mappedPublishers:a}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(f["default"]),this.executeAction(c.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},handleHideManagement:function(){this.setState({mappedPublishers:{}}),this.executeAction(c.getMutedPublishers,{showManagement:!1})},handlePublisherManagement:function(e,t,n){this.executeAction(c.managePreference,{target:this.state.target,isMuted:n,publisher:e,publisherId:t,showManagement:!0,skipChangeDispatch:!0})},renderList:function(){var e=this,t=this.props.intl,n=this.state,s=n.mappedPublishers,r=n.mutedPublishers,o=Object.keys(s),d=o.map((function(n,o){var d=s[n].publisherIdData,c=s[n].publisherName,f=!!r[n];return i["default"].createElement("li",{key:o+1,className:"Ov(h) Pb(22px) Mt(11px) Pt(11px) Bdbw(1px) Bdbs(s) Bdbc($c-fuji-grey-b)"},i["default"].createElement("span",{className:"Fz(16px) D(ib)"},f?c:t.formatMessage({id:"REMOVED_PUBLISHER"},{publisher:c})),i["default"].createElement(a.I13nButton,{onClick:e.handlePublisherManagement.bind(e,c,d,f),i13nModel:(0,a.getI13nModel)("managementClick",{slk:f?"Undo":"Mute"}),role:"button",className:"Fl(end) Pos(r) D(b) Bdw(0) P(0) Ta(start) O(n):f C($c-fuji-blue-1-a) H(22px)"},f?i["default"].createElement(u.Icon,{asset:l["default"],color:"#e0e4e9",height:22,width:22}):t.formatMessage({id:"UNDO"})))}));return i["default"].createElement("ul",{className:"Ovy(s) Mah(70%) Mih(70%)"},o.length&&d||i["default"].createElement("li",{className:"Fz(16px) Pt(11px) Pb(11px)"},t.formatMessage({id:"NO_PUB_PREF"})))},render:function(){var e=this.props,t=e.className,n=t===undefined?"":t,s=e.intl,r=e.componentConfig,o=(r=r===undefined?{}:r).publisherPanelMoreDesc,l=o===undefined?"":o;return this.state.showManagement?i["default"].createElement("div",{className:"userintentmgmt-management-wrapper Pos(f) T(100px) End(0) B(0) Start(0) W(700px) H(500px) My(0) Mx(a) Bxsh(userintentBoxshadow) Ov(h) Bdrs(2px)"},i["default"].createElement("div",{className:"userintentmgmt-management Pos(a) T(0) End(0) B(0) Start(0) Pt(30px) Px(30px) Bgc(#fff) "+n},i["default"].createElement("div",{className:"Bxsh(userintentModalBoxshadow) Pb(16px) Mx(-30px)"},i["default"].createElement("h2",{className:"Fz(20px) Ta(c)"},s.formatMessage({id:"PUBLISHER_PREFERENCE"})),i["default"].createElement("p",{className:"Ta(c) Fz(14px) C($c-fuji-grey-h)"},s.formatMessage({id:"PUBLISHER_PANEL_DESC"})," ",l)),this.renderList(),i["default"].createElement(a.I13nButton,{onClick:this.handleHideManagement,i13nModel:(0,a.getI13nModel)("managementClose"),role:"button",className:"Pos(a) B(25px) Bgc(#fff) Start(0) Py(12px) Bdt(1px) Bdts(s) Bdtc($c-fuji-grey-b) C($c-fuji-blue-1-a) W(100%)"},s.formatMessage({id:"DONE"})))):null}});t["default"]=(0,o.injectIntl)(p),e.exports=t["default"]}}]);