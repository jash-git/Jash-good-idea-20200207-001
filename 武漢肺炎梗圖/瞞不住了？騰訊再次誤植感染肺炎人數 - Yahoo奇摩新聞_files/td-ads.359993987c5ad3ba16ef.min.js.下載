(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{3247:function(e,t,s){"use strict";var n=s(2),i=s(10),o=s(34),r=s(4),a=s(16),p=s(36),d=s(324).Composite,c=s(58),l=s(131),h=s(127),m=s(72),g=s(1),u=s(3248),f=i({displayName:"DockedAds",mixins:[a],propTypes:{className:r.string,children:r.array.isRequired,target:r.string,targetIndex:r.number,targetSelector:r.string},statics:{initializeAction:u,storeListeners:[p]},contextTypes:{renderTarget:r.object},getInitialState:function(e){return this.adStore=this.getStore(p),this.routeStore=this.getStore("RouteStore"),{isFixed:!1,expanded:!1,isFetching:!1,childReady:this.adStore.getChildCompositeReady(this.props.id),childCount:this.props.children.length,right:0,offset:0}},getChildPositions:function(){var e=[];return this.props.children.forEach((function(t){"td-ads"===t.bundleName&&e.push(t.props.pos)})),e},commentExpand:function(e){var t=this,s=e.offsetHeight>250,n=!1,i=this.props.children.length;if(t.state.expanded!==s){var o=t.getChildPositions();e.offsetHeight<650&&(o.splice(1),i=1),e.offsetHeight>250?(n=!0,s&&setImmediate((function(){context.executeAction(h,{positions:o}),t._repositionAd(null,!0)}))):s=!1}t.setState({expanded:s,isFetching:n,childCount:i})},onChange:function(e){var t=this,s=this.routeStore.getCurrentNavigate()||{},n=g(s,["params","collapseContent"],!1),i=null;if("childCompositeReady"===e.type&&this.props.id===e.instanceId&&this.setState({childReady:!0}),this.state.expanded&&"task_complete"===e.type&&this.setState({isFetching:!1}),this.props.target){var o=document.getElementsByClassName(this.props.target);o&&o.length>this.props.targetIndex&&(i=o[this.props.targetIndex])}else if(this.props.targetSelector){i=document.querySelector("#"+this.context.renderTarget.elementId+" "+this.props.targetSelector)}i&&(n||"comments_expand"!==e.type?("newpage"===e.type||e.newpage)&&(setImmediate((function(){t.props.children.forEach((function(e){"td-ads"===e.bundleName&&m.nukePosition(e.props.pos)}))})),this.setState({expanded:!1})):setImmediate((function(){t.commentExpand(i)})))},componentDidMount:function(){c("scroll",this._repositionAd,this)},componentWillUnmount:function(){l("scroll",this._repositionAd)},_repositionAd:function(e,t){var s=this.props.targetIndex,n=o.findDOMNode(this.refs["adWrapper"+s]),i=o.findDOMNode(this.refs["adInnerWrapper"+s]),r=null;if(this.props.target){var a=document.getElementsByClassName(this.props.target);a&&a.length>s&&(r=a[s])}else if(this.props.targetSelector){r=document.querySelector("#"+this.context.renderTarget.elementId+" "+this.props.targetSelector)}if(n&&i&&r){var p=i.offsetHeight,d=0;if(p>100||t){var c=r.getBoundingClientRect(),l=n.getBoundingClientRect(),h=!1,m=document.documentElement.clientWidth||window.innerWidth;if(c.top<88?c.bottom>=p+88?l.top<88&&(h=!0):d=c.height-p-(l.top-c.top):l.top<88?c.top>l.top?d=c.top-l.top:h=!0:c.top>l.top&&(d=c.top-l.top),h){var g=m-i.getBoundingClientRect().right;this.setState({isFixed:!0,right:g})}else this.setState({isFixed:!1,offset:d})}}},render:function(){var e,t=this;t.state.childReady?e=(this.getStore("PageStore").getComposite(this.props.id)||{}).components:e=this.props.children.map((function(e){if(t.state.childReady||"td-ads"===e.bundleName)return e;return{bundleName:"tdv2-applet-swisschamp",name:"Empty",props:{}}}));e.splice(this.state.childCount);var s,i=this.props.targetIndex?this.props.targetIndex:0,o=[],r=[],a=0;for(s=0;s<e.length;s++)e[s].props=e[s].props||{},e[s].props.id=e[s].props.id||"dockedAds-"+s,e[s].props.key=e[s].props.key||"dockedAds-"+s;for(s=0;s<e.length&&"td-ads"===e[s].bundleName;s++){var p=this.adStore.getPosConfig(e[s].props.pos)||{};p&&p.h&&(a+=parseInt(p.h,10)),o.push(e[s])}o.length>0&&o.length<e.length&&(r=e.slice(o.length));var c=this.props.className;c?c+=" ad-inner-wrapper":c="ad-inner-wrapper";var l={};this.state.isFixed?l={position:"fixed",right:this.state.right+"px",top:"88px"}:0!==this.state.offset&&(l={transform:"translate3d(0px, "+this.state.offset+"px, 0px)"});var h="ad-wrapper",m={};return this.state.expanded||(h+=" D(n)"),(!this.state.expanded||this.state.isFetching)&&r.length>0&&(m.height=a+"px"),n.createElement("div",{className:h,ref:"adWrapper"+i},n.createElement("div",{className:this.props.className,style:l,ref:"adInnerWrapper"+i},n.createElement("div",{style:m},n.createElement(d,{components:o})),n.createElement(d,{components:r})))}});e.exports=f},3248:function(e,t,s){var n=s(330);e.exports=function(e,t,s){var i=t.componentProps.id;i?e.executeAction(n,{parentComponent:{bundleName:"td-ads",name:"DockedAds"},name:i,components:t.componentProps.children},s):s&&s()}},3249:function(e,t,s){"use strict";var n=s(2),i=s(10),o=s(4),r=s(16),a=s(36),p=s(324).Composite,d=s(85).injectIntl,c=s(85).intlShape,l=i({displayName:"MomentsAd",mixins:[r],propTypes:{adPolicy:o.string,className:o.string,children:o.array,intl:c},contextTypes:{renderTarget:o.object},getInitialState:function(e){return this.adStore=this.getStore(a),{childReady:this.adStore.getChildCompositeReady(this.props.id),childCount:this.props.children.length}},render:function(){var e,t,s=this,i=[],o=[],r=[];s.state.childReady?e=(this.getStore("PageStore").getComposite(this.props.id)||{}).components:e=this.props.children.map((function(e){if(s.state.childReady||"td-ads"===e.bundleName)return e;return{bundleName:"tdv2-applet-swisschamp",name:"Empty",props:{}}}));for(e.splice(this.state.childCount),t=0;t<e.length;t++)i.push(Object.assign({},e[t])),i[t].props=Object.assign({},e[t].props),i[t].props.id=e[t].props.id||"momentsads-"+t,i[t].props.key=e[t].props.key||"momentsads-"+t;for(t=0;t<i.length&&"td-ads"===i[t].bundleName;t++)o.push(i[t]);o.length>0&&o.length<i.length&&(r=i.slice(o.length));var a=this.props.adPolicy||"https://www.verizonmedia.com/policies/us/en/verizonmedia/privacy/adinfo/index.html";return n.createElement("div",{className:this.props.className},n.createElement("div",{className:"smad-container"},n.createElement("div",{className:"smad-header"},n.createElement("span",null,this.props.intl.formatMessage({id:"SCROLL_TO_CONTINUE"})),n.createElement("div",{className:"smad-icon"},n.createElement("span",null,this.props.intl.formatMessage({id:"AD"})),n.createElement("a",{className:"rapid-noclick-resp",href:a,rel:"noopener noreferrer",target:"_blank"},n.createElement("span",{className:"ads icon"},n.createElement("svg",{width:"15",height:"15",viewBox:"0 0 24 24"},n.createElement("path",{d:"M5.636 4.222c-.39-.39-1.023-.39-1.414 0s-.39 1.024 0 1.414l.707.707c.39.39 1.022.39 1.414 0 .39-.39.39-1.023 0-1.414l-.708-.708zM4.93 17.658l-.708.707c-.39.39-.39 1.023 0 1.414.39.39 1.023.39 1.414 0l.707-.708c.39-.39.39-1.024 0-1.414-.39-.39-1.023-.39-1.414 0zm14.14 0c-.39-.39-1.023-.39-1.413 0-.39.39-.39 1.023 0 1.414l.707.707c.39.39 1.024.39 1.414 0 .39-.392.39-1.025 0-1.415l-.707-.707zm0-11.315l.708-.707c.39-.39.39-1.023 0-1.414s-1.024-.39-1.414 0l-.707.707c-.39.39-.39 1.024 0 1.414.39.39 1.023.39 1.414 0zM22 11h-1c-.553 0-1 .448-1 1s.447 1 1 1h1c.552 0 1-.448 1-1s-.448-1-1-1zM10 9h5c.552 0 1-.448 1-1s-.448-1-1-1h-2c0-.55-.447-1-1-1s-1 .45-1 1H9.5C8.12 7 7 8.12 7 9.5v1C7 11.88 8.12 13 9.5 13H13c.552 0 1 .448 1 1s-.448 1-1 1H8c-.553 0-1 .448-1 1s.447 1 1 1h3c0 .55.447 1 1 1s1-.45 1-1h.5c1.38 0 2.5-1.12 2.5-2.5v-1c0-1.38-1.37-2.5-3-2.5h-3c-.553 0-1-.448-1-1s.447-1 1-1zm2-5c.553 0 1-.448 1-1V2c0-.552-.447-1-1-1s-1 .448-1 1v1c0 .552.447 1 1 1zm-9 7H2c-.553 0-1 .448-1 1s.447 1 1 1h1c.552 0 1-.448 1-1s-.448-1-1-1zm9 9c-.553 0-1 .448-1 1v1c0 .552.447 1 1 1s1-.448 1-1v-1c0-.552-.447-1-1-1z"})))))),n.createElement("div",{className:"smad-outer-container"},n.createElement("div",{className:"smad-clip-area"},n.createElement("div",{className:"smad-tag-container"},n.createElement(p,{components:o}))))),n.createElement(p,{components:r}))}});e.exports=d(l)},3250:function(e,t,s){"use strict";var n=s(337),i=s(10),o=s(16),r=s(2),a=i({displayName:"SponsoredMomentsFallback",mixins:[o],getInitialState:function(){return this.sponsoreMomentsStore=this.getStore("SponsoredMomentsStore"),this.getState()},onChange:function(){var e=this.getState();e.smadShown!==this.state.smadShown&&this.setState(e)},getState:function(){return{smadShown:(this.sponsoreMomentsStore&&this.sponsoreMomentsStore.getState()||[]).length>0}},render:function(){return this.state.smadShown?r.createElement("div",null):r.createElement(n,this.props)}});e.exports=a},964:function(e,t,s){e.exports={controllerViews:{AdPrefetch:s(400),ComboAd:s(401),DockedAds:s(3247),MomentsAd:s(3249),SponsoredMomentsFallback:s(3250),Ad:s(337)},stores:{AdStore:s(36)}}}}]);