(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{1045:function(e,t,n){e.exports={controllerViews:{Header:n(2591),ProfileCard:n(2163),ShareReminder:n(2614)},stores:{HeaderStore:n(1140),MailStore:n(1548),MobileHeaderStore:n(1835),NavStore:n(1834),ThemeStore:n(1282),UHCrumbsStore:n(1547)},meta:{dependencies:["tdv2-applet-account-switch","tdv2-applet-search-input","tdv2-service-profile"]}}},1099:function(e,t,n){var s=n(334),i=n(1),o={get:n(86)},a=n(87),r=n(12),l=Object.assign,c=/yahoo.com/,u=n(63).RapidManager,h=null;e.exports={getStaticMethod:function(e,t,n){var s=null;if(e&&e[t])if(Array.isArray(n)){s=e[t];for(var i=0;i<n.length;i++){if(!s[n[i]]){s=null;break}s=s[n[i]]}}else"string"==typeof n&&e[t][n]&&(s=e[t][n]);return s},lightWeightBackground:function(e,t,n,s){e=e?"."+e:"";var i="";return"dark"===s&&(i=["#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\)","{background-color:#000\\9 !important;}","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\):hover b","#atomic "+e+"."+n+"."+t+" .Bgc\\(\\$bg-header\\) b:hover","{background-color:#fff\\9 !important; color:#000\\9 !important;}"].join(" ")),i},lightWeightLogo:function(e,t){return"property"===t?["#atomic.ie-7 "+e+" {*display:inline; margin-left:49px!important; zoom:1;}","#atomic.ie-8 "+e+" {position:relative;}"].join(" "):""},mediaBackgroundImage:function(e,t,n){return[e+" {background-image: url("+t+");}","@media",[" only screen and ( -webkit-min-device-pixel-ratio: 2 )"," only screen and ( min--moz-device-pixel-ratio: 2)"," only screen and ( -o-min-device-pixel-ratio: 2/1)"," only screen and ( min-device-pixel-ratio: 2)"," only screen and ( min-resolution: 192dpi)"," only screen and ( min-resolution: 2dppx)"," only screen and ( min-aspect-ratio: 2/1 )"].join(","),"{ "+e+" {background-image: url("+n+");} }"].join(" ")},isClient:function(){return"undefined"!=typeof window},isEnabled:function(e){return["true","1",!0,1].indexOf(e)>-1},strExpand:function(e,t,n){return t&&(e=t+e),n&&(e+=n),e},getLogoUrl:function(e,t,n){var s={protocol:t=t||"https",host:e?e+".yahoo.com":"www.yahoo.com"};switch(e){case"e1":s.host="espanol.yahoo.com";break;case"my":s.host="malaysia.yahoo.com";break;case"us":s.host="www.yahoo.com";break;case"xe":s.host="en-maktoob.yahoo.com"}return n&&"fp"!==n&&"all"!==n&&(s.pathname=n),a.format(s)},getPageUrl:function(e,t,n){var s="https://www.yahoo.com/",i={protocol:n||"https",host:t||"www.yahoo.com"};if(e)if(e.url){var o=a.parse(e.url,!0);o=l(o,i),s=a.format(o)}else s=a.format(i);return s},handleBackClick:function(e){if(window){var t=i(window,["history","state","referrerUrl"],document&&document.referrer),n=window.location,s=n.origin||n.protocol+"//"+n.host,o=this.getLogoUrl(e.dimensions.intl,e.protocol),a=i(e.dimensions,["device"],""),r="smartphone"===a||"smartphone-lite"===a;if(h)return clearTimeout(h),h=null,void(window.location=o);c.test(t)||-1!==t.indexOf(s)?(history.back(),r&&(h=setTimeout((function(){window.location=o}),6e3))):window.location=o}},getSite:function(e){var t,n=e.getStore(r),s=n&&n.getCurrentRoute();return(t=o.get(s,"params.contentSite"))||(t=o.get(s,"contentSite")),t||(t=o.get(s,"query.site")),t},getSubcookie:function(e){return s&&s.getSub&&s.getSub("ucs",e)},getPromoIdSubcookie:function(){return this.getSubcookie("pnid")},getPromoTimestampSubcookie:function(){var e=this.getSubcookie("pnct");return e?parseInt(e,10):0},getNotifTimestampSubcookie:function(){var e=this.getSubcookie("lnct");return e?parseInt(e,10):0},getCookieOptions:function(){var e=(new Date).setFullYear((new Date).getFullYear()+1);return{expires:new Date(e),path:"/",domain:"yahoo.com",encode:function(e){return e}}},setBackoffSubcookie:function(e){if(e){var t=Math.floor((new Date).getTime()/1e3),n=this.getCookieOptions();s&&s.setSub&&s.setSub("ucs",e,t,n)}},resetPromoNotifSubcookie:function(){var e=this.getCookieOptions();s&&s.get("ucs")&&(s.setSub&&s.setSub("ucs","pnid","",e),s.setSub&&s.setSub("ucs","pnct","",e))},setPromoNotifSubcookie:function(e,t,n){s&&s.setSub&&s.setSub("ucs","pnid",e,n),s&&s.setSub&&s.setSub("ucs","pnct",t,n)},isBackoffTimerExceeded:function(e,t){var n=this.getSubcookie(t),s=n?parseInt(n,10):0;return s?Math.floor((new Date).getTime()/1e3)-s>e:(this.setBackoffSubcookie(t),!0)},initSubscriptionHelper:function(e,t){var n=JSON.parse(JSON.stringify(t)),s=Object.assign({bucket:e.session.bucketLogString,userAgent:e.session.userAgent},n);s.subscriptionService=s.subscriptionService||{},s.subscriptionService.path=e.service.constructGetXhrUri("RESOURCE_PLACEHOLDER");var i=u&&u.getRapidInstance();e.subscriptionHelper.setSubscriptionHelper(s,e.beacon,i)},isFacebookApp:function(){if("undefined"!=typeof window){var e=window.navigator&&window.navigator.userAgent;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1}},debounce:function(e,t){var n=null;return function(){var s=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(s,i)}),t)}}}},1103:function(e,t,n){"use strict";var s={merge:n(17),get:n(86)},i=n(0)("uh:mixins:AppletMixin"),o=n(182),a=n(1099),r=n(4);e.exports={contextTypes:{conf:r.object,intl:r.object,logger:r.object,theme:r.object},getClassName:function(e,t){var n,s=null;return(!(s=this.getConf(e,t))||o.Map.isMap(s)&&s.isEmpty())&&(s=(n=a.getStaticMethod(e,"className",t))&&this[n]&&this[n].call(this,t)),s||(s=this.getTheme(e,t)),s=o.Map.isMap(s)?s.toJS():s,i(e.displayName,"getClassName",t,s),s},getConf:function(e,t){var n,s,o=null;return(n=e.base?this.context.conf.getIn(e.base):this.context.conf)&&(Array.isArray(t)?o=n.getIn(t):"string"==typeof t&&(o=n.get(t))),o||(s=a.getStaticMethod(e,"conf",t))&&this[s]&&(o=this[s].call(this)),i(e.displayName,"getConf",t,o),o},getMetaData:function(e,t){var n,s,r=null;return this.props&&this.props.data&&(o.Map.isMap(s=this.props.data)||(this.context&&this.context.logger&&this.context.logger.warn("The this.props.data is not an Immutable object. name=",t),s=o.fromJS(this.props.data)),Array.isArray(t)?r=s.getIn(t):"string"==typeof t&&(r=s.get(t))),r||(n=a.getStaticMethod(e,"metaData",t))&&this[n]&&(r=this[n].call(this)),i(e.displayName,"getMetaData",t,r),r},getI13n:function(e,t,n){var o=e.i13n[t];return n&&(o=s.merge(o,n)),i(e.displayName,"getI13n",t,o,n),o},getIntl:function(e){var t;try{t=this.context.intl.formatMessage({id:e}),i("getIntl",e,t)}catch(n){this.context&&this.context.logger&&this.context.logger.warn('The paramter "name" is not defined in getIntl method. name=',e,n)}return t},getSite:function(e){var t=a.getSite(this.context);return i(e.displayName,"getSite",t),t},getTheme:function(e,t){var n=null,s=null;return this.context&&this.context.theme&&e.base?s=this.context.theme.getIn(e.base):this.context&&(s=this.context.theme),s&&(Array.isArray(t)?n=s.getIn(t):"string"==typeof t&&(n=s.get(t))),i(e.displayName,"getTheme",t,n),n}}},1140:function(e,t,n){"use strict";var s=n(1092).createImmutableStore,i=n(0)("uh:stores:HeaderStore"),o=n(182),a=s({storeName:"HeaderStore",initialize:function(){this._state=o.fromJS({})},handlers:{FFPROMO_SHOW_STATE:"_receiveShowFFPromo"},_receiveShowFFPromo:function(e){i("receive ShowFFPromo",e),this.setState(this._state.withMutations((function(t){t.set("showFFPromo",e.show)})))},getShowFFPromo:function(){return this._state.get("showFFPromo")},getState:function(){return this._state}});e.exports=a},1282:function(e,t,n){"use strict";var s=n(1092).createImmutableStore,i=n(1822),o=n(0)("uh:stores:ThemeStore"),a=n(182),r=s({storeName:"ThemeStore",handlers:{THEME_FAILURE:"_handleThemeFailure",THEME_SUCCESS:"_handleThemeSuccess"},commonDimensionsMap:a.Map(),_handleThemeFailure:function(e){o("_handleThemeFailure","error",e),e=e||{},this.setState(this._state.withMutations((function(t){t.set("error",a.fromJS(e))})))},_handleThemeSuccess:function(e){o("_handleThemeSuccess","payload",e);var t=e.data||{},n=this.getCacheKey(e.params);o("_handleThemeSuccess","cache_key",n),this.setState(this._state.withMutations((function(e){e.set("last_accessed_cache_key",n),e.setIn(["data",n],a.fromJS(t))})))},getCacheKey:function(e){var t=this.getCommonDimensions();return t=t.merge(e),o("cache_key",t,t.hashCode()),t.hashCode()+""},getCommonDimensions:function(){var e=this.getContext().session.dimensions,t=a.Map();return 0===this.commonDimensionsMap.size&&i[0].dimensions.forEach(function(e){this.commonDimensionsMap=this.commonDimensionsMap.set(Object.keys(e)[0],1)}.bind(this)),Object.keys(e).forEach(function(n){this.commonDimensionsMap.has(n)&&(t=t.set(n,e[n]))}.bind(this)),t},getError:function(){return this._state.getIn(["error"])||a.Map()},getData:function(){return this._state.getIn(["data"])||a.Map()},getCachedData:function(e,t){var n=this.getCacheKey(e),s=this._state.get("last_accessed_cache_key");return o("getCachedData","data",this.getData()),o("getCachedData","cache_key",n),o("getCachedData","last_accessed_cache_key",s),(t?this._state.getIn(["data",n])||this._state.getIn(["data",s]):this._state.getIn(["data",n]))||a.Map()},getState:function(){return this._state}});e.exports=r},1546:function(e,t,n){"use strict";var s={get:n(86)},i=n(0)("uh:actions:UHCrumbsActions"),o=n(1547),a=n(1099).isClient();e.exports={initializeUHCrumbs:function(e,t,n){if("0"===e.session.dimensions.authed||!a&&"client"===function(e){return s.get(e,"componentProps.componentConfig.uh.profile.mode")}(t))return n&&n(null,null);var r=e.getStore(o),l=r.getUcsCrumb(),c=r.getMailCountCrumb();l||c||r.getIsFetching()?n&&n():(e.dispatch("FETCH_UHCRUMBS"),e.service.read("UHCrumbsService",{xhrCheck:a},{},(function(t,s){if(i("UHCrumbs data",s),t||!s)return e.dispatch("FETCH_UHCRUMBS_FAILURE",t),n(t,null);e.dispatch("FETCH_UHCRUMBS_SUCCESS",{ucsCrumb:encodeURIComponent(s.ucsCrumb),mailCountCrumb:encodeURIComponent(s.mailCountCrumb)}),n&&n()})))}}},1547:function(e,t,n){"use strict";var s=n(13)({storeName:"UHCrumbsStore",statics:{handlers:{FETCH_UHCRUMBS_SUCCESS:"_receiveCrumbs",FETCH_UHCRUMBS:"startIsFetching",FETCH_UHCRUMBS_FAILURE:"endIsFetching"}},initialize:function(){this.state={ucsCrumb:null,mailCountCrumb:null,isFetching:!1,tries:0}},_receiveCrumbs:function(e){this.state.ucsCrumb=e.ucsCrumb,this.state.mailCountCrumb=e.mailCountCrumb,this.state.tries=0,this.state.isFetching=!1},endIsFetching:function(){this.state.isFetching=!1},startIsFetching:function(){this.state.tries++,this.state.isFetching=!0},getIsFetching:function(){return this.state.isFetching},getTries:function(){return this.state.tries},getUcsCrumb:function(){return this.state.ucsCrumb},getMailCountCrumb:function(){return this.state.mailCountCrumb},dehydrate:function(){return{ucsCrumb:this.state.ucsCrumb,mailCountCrumb:this.state.mailCountCrumb,isFetching:this.state.isFetching=!1,tries:this.state.tries}},rehydrate:function(e){return this.state.ucsCrumb=e&&e.ucsCrumb?e.ucsCrumb:this.state.ucsCrumb,this.state.mailCountCrumb=e&&e.mailCountCrumb?e.mailCountCrumb:this.state.mailCountCrumb,this.state.isFetching=e&&e.isFetching?e.isFetching:this.state.isFetching,this.state.tries=e&&e.tries?e.tries:this.state.tries,this}});e.exports=s},1548:function(e,t,n){"use strict";var s=n(13)({storeName:"MailStore",statics:{handlers:{FETCH_MAIL_COUNT:"setFetching",SET_UNAUTHORIZEDUSER:"setUnauthorizedUser",NEW_MAIL_COUNT:"_receiveNewMailCount",MAIL_COUNT_TS:"_updateTs",OPEN_MAILPREVIEW_SUCCESS:"_openMailPreviewSuccess",OPEN_MAILPREVIEW_FAILURE:"_openMailPreviewFailure",OPEN_MAILPREVIEW_NO_NEW:"_openMailPreviewNoNew"}},initialize:function(){this.state={unauthorizedUser:!1,fetching:!1,mailcount:-1,mailitems:null,ts:0}},_receiveNewMailCount:function(e){this.state.mailcount=e,this.state.fetching=!1,this.state.unauthorizedUser=!1,this.emitChange()},getMailCount:function(){return parseInt(this.state.mailcount,10)},getMailPreview:function(){return this.state.mailitems},getFetching:function(){return this.state.fetching},getUnauthorizedUser:function(){return this.state.unauthorizedUser},getTs:function(){return this.state.ts},setFetching:function(e){this.state.fetching=e},setUnauthorizedUser:function(e){this.state.unauthorizedUser=e},_openMailPreviewSuccess:function(e){this.state.mailitems=Array.isArray(e)?e:[e],this.state.unauthorizedUser=!1,this.emitChange()},_openMailPreviewFailure:function(){this.state.mailitems=-1,this.emitChange()},_openMailPreviewNoNew:function(){this.state.mailitems=[],this.emitChange()},_updateTs:function(){this.state.ts=Date.now()},dehydrate:function(){return{mailcount:this.state.mailcount,mailitems:this.state.mailitems}},rehydrate:function(e){return this.state.mailitems=e.mailitems||this.state.mailitems,this.state.mailcount=e.mailcount||this.state.mailcount,this}});e.exports=s},1621:function(e,t,n){"use strict";var s={get:n(86)},i=n(0)("uh:actions:loadProfile"),o=n(1099),a=n(1456),r=n(1136),l=n(325),c=o.isClient();function u(e){return s.get(e,"componentProps.componentConfig.uh.profile.mode")}e.exports=function(e,t,n){if(i("context.session.isLightWeightBrowser",e.session.isLightWeightBrowser),!function(e){return o.isEnabled(s.get(e,"componentProps.componentConfig.uh.ui.profile",!1))}(t))return n&&n(null,null);if(e.session.isLightWeightBrowser)e.executeAction(a.getProfile,{},n);else{if(c||t.IS_CLIENT)return i("client"),void("client"===u(t)?e.executeAction(a.getProfile,{},(function(t,s){!function(e){var t=e.getStore(l),n=e.getStore(r);if(t&&n&&e.beacon){var s=t.getGUID(),i=n.getGuid();if(s&&i)e.beacon("info",null,{code:"UHCheckGuid",match:s===i?"1":"0"},{fireOnce:!0})}}(e),n&&n(t,s)})):n&&n(null,null));i("server"),"server"===u(t)?e.executeAction(a.getProfile,{},n):n&&n(null,null)}}},1624:function(e){e.exports=JSON.parse('{"name":"tdv2-applet-uh","version":"10.2.11"}')},1677:function(e,t,n){"use strict";var s={get:n(86)},i=n(0)("uh:actions:loadFFPromo"),o=n(1140),a=n(1099),r=a.isClient();e.exports=function(e,t,n){return function(e){return a.isEnabled(s.get(e,"componentProps.componentConfig.uh.ui.topbarFFPromo",!1))}(t)&&(r||"client"!==function(e){return s.get(e,"componentProps.componentConfig.uh.profile.mode")}(t))?e.getStore(o).getShowFFPromo()!==undefined?n&&n(null,null):void e.service.read("UHGetFFPromoService",{},{},(function(t,s){s&&(i(s),e.dispatch("FFPROMO_SHOW_STATE",s)),n&&n(null,null)})):n&&n(null,null)}},1733:function(e,t,n){"use strict";var s=n(0)("uh:actions:loadHeader"),i=n(326);e.exports=function(e,t,o){s("Loading the Header");var a=e.getStore("RouteStore");e.dispatch("UH_NAVIGATE_INIT_ON_START",a.getCurrentRoute()),i(e,{loadProfile:{action:n(1621),params:t},loadNav:{action:n(1820),params:t},loadTheme:{action:n(1821),params:t},loadFFPromo:{action:n(1677),params:t},loadUHCrumbs:{action:n(1546).initializeUHCrumbs,params:t},registerComposite:{action:n(1192).registerComposite,params:Object.assign({},t,{accountSwitchConfigPath:["uh","account_switch"],compositeName:"account-switch-uh"})}},(function(e,t){return e?o&&o(e,null):o&&o(null,t)}))}},1734:function(e,t,n){"use strict";var s;var i=n(1084),o=n(0)("uh:components:search:SearchForm"),a=n(1),r=n(321).Icon,l=n(322).I13nButton,c=n(182),u=n(1099),h=n(4),m=n(2),p=n(10),d=n(34),g=n(1823),f=n(1653),_=n(1099),C=n(87),b=n(328),v=n(1824),N=n(1825),y=n(1103),S=n(16),I=p({contextTypes:{conf:h.object.isRequired,logger:h.object.isRequired,session:h.object.isRequired,theme:h.object.isRequired},childContextTypes:{theme:h.object},displayName:"SearchForm",mixins:[y,S],propTypes:{data:h.object},statics:{base:["search"],i13n:{search:{elm:"btn",itc:"0",slk:"srch-click",subsec:"search"},vertical_search:{elm:"btn",itc:"0",slk:"vert-srch-click",subsec:"search"},cancel:{elm:"btn",itc:"0",slk:"cancel-click",subsec:"cancel"}}},_getClassNameContent:function(e){var t=[],n=e?"content_3":"content_2";return t.push(this.getClassName(I,["style","search_button","content_1"])),t.push(this.getClassName(I,["style","search_button",n])),t=i(t),o("_getClassNameContent",t,arguments),t},_getMetaDataAction:function(){return this._getActionUrl(this.state.verticalSearchEnabled?"verticalSearchAction":"action")},_getActionUrl:function(e){var t=null,n=this.context.session;if(!(t=this.getConf(I,e))){var s={protocol:n.protocol,host:n.dimensions.intl+".search.yahoo.com",pathname:"/search"};switch(n.dimensions.intl){case"e1":s.host="espanol.search.yahoo.com";break;case"cf":s.host="qc.search.yahoo.com";break;case"my":s.host="malaysia.search.yahoo.com";break;case"us":s.host="search.yahoo.com"}t=C.format(s)}return o("_getMetaDataAction",t,arguments),t},_getMetaDataFrSource:function(){var e=this.state.fr_source;return o("_getMetaDataFrSource",e,arguments),e},_getMetaDataBucket:function(){var e=this.context.session.dimensions.bucket;return o("_getMetaDatBucket",e,arguments),e},_getMetaDataPlaceholderText:function(){var e,t;return(t=this.getConf(I,"placeholderText"))&&(e=this.getIntl(t)),e||(e=" "),o("_getMetaDataPlaceholderText",e,arguments),e},_getNodeSearchLayout:function(){var e=this.context.session.dimensions.device,t=this._getNodeSearchInput(),n=this._getNodeSearchButton(),s=this.getConf(I,"enableCancelButton")?this._getNodeCancelButton():null,i=this.getConf(I,"showSubPartnerLogo")?this._getNodeSubLogo():null;if(/desktop|tv/i.test(e)){var o=this.getClassName(I,["style","table","wrapper"]);return m.createElement("table",{className:o},m.createElement("tbody",null,m.createElement("tr",null,m.createElement("td",{className:"W(100%) Va(t) Px(0)"},t),m.createElement("td",{className:"Va(t) Tren(os) W(10%) Whs(nw) Px(0) Bdcl(s)"},m.createElement("div",{id:"search-buttons"},n)),i)))}return[t,n,s]},_getNodeCancelButton:function(){return m.createElement(l,{ref:"cancelButton",key:"cancelButton",className:this.getClassName(I,["style","cancel_button","content"]),id:"uh-search-cancel",i13nModel:this.getI13n(I,"cancel"),onClick:this.handleCancel,type:"button"},this.getIntl("CANCEL"))},_getNodeSearchButton:function(){var e,t=[],n="submit",s=this.getConf(I,["useIcon"],!1),o=this.getConf(I,["icon"]),a=this.getClassName(I,["style","search_button","content_1"]),c=i(a,this.getClassName(I,["style","search_button","content_2"])),u="buttonText";if(this.state.verticalSearchEnabled){var h=i(a,this.getClassName(I,["style","search_button","content_3"]));n="button",e=this.handleWebSearch,u="webSearchButtonText",t.push(m.createElement(l,{key:"verticalSearch",className:h,i13nModel:this.getI13n(I,"vertical_search"),id:"vert-search-button",style:this.getClassName(I,["style","search_button","inline_2"]),type:"submit"},this.getIntl(this.getConf(I,"verticalSearchButtonText"))))}return t.push(m.createElement(l,{key:"webSearch",className:c,i13nModel:this.getI13n(I,"search"),id:"search-button",onClick:e,style:this.getClassName(I,["style","search_button","inline_1"]),type:n,"aria-label":this.getIntl(this.getConf(I,u))},s&&o?m.createElement(r,{asset:o.get("asset").toJS(),height:o.get("height")||o.get("size"),width:o.get("width")||o.get("size"),color:this.getClassName(I,["style","search_button","iconColor"])}):this.getIntl(this.getConf(I,u)))),t},_getNodeSearchInput:function(){var e;return m.createElement("div",{ref:"searchInputWrapper",key:"searchInputWrapper",className:this.getClassName(I,["style","input","wrapper"])},m.createElement((s||(e=n(2150),s=e&&e.__esModule?e:{"default":e}))["default"],{autofocus:this.getConf(I,"autofocus"),cancelBtn:this.getConf(I,"cancelBtn"),className:this.getClassName(I,["style","input","content"]),clearBtn:this.getConf(I,"clearBtn"),config:this.getConf(I,"autocomplete").toJS(),enableFocusBeacon:this.props.data.get("enable_focus_beacon"),footerComponent:this.props.data.get("footer_component"),id:"search-assist-input",inputName:"p",isSmartphone:"smartphone"===this.context.session.dimensions.device,magnifyingGlass:this.getConf(I,"magnifyingGlass"),onFocus:this.handleFocus,onSearchHintChanged:this.handleSearchHintChanged,onSelect:this.handleSubmit,placeholder:this._getMetaDataPlaceholderText(),placeholderIcon:this.getConf(I,"placeholderIcon"),ref:"searchInput",searchHint:this.getConf(I,"searchHint"),showFooter:this.props.data.get("show_footer"),termCompleteBtn:this.getConf(I,"termCompleteBtn"),templateComponent:this.props.data.get("template_component")}))},_getNodeSearchQuery:function(){var e=this,t=e.getSearchOrigin(),n=e.getConf(I,"queries"),s=this.state.verticalSearchEnabled;return(n=t.merge(n)).keySeq().toArray().map(function(t,i){var o=t;if(s&&"fr"===t&&(o="vfr"),"vfr"===t)return null;var a=n.get(o)||"";return Array.isArray(a)&&(a=a.shift()),a=a&&a.length?f(a,{BUCKET:e._getMetaDataBucket(),SITE:e.getMetaData(I,"site"),FRSOURCE:e._getMetaDataFrSource()}):"",m.createElement("input",{ref:"query_"+t,key:i,type:"hidden",name:t,value:a})}.bind(e))},_getNodeSkipNav:function(){if(!u.isEnabled(this.context.conf.getIn(["ui","skip_nav"])))return null;var e={data:this.context.conf.getIn(["skip_nav","data"]).toJS(),style:this.context.conf.getIn(["skip_nav","style"]).toJS()};return m.createElement(v,e)},_getNodeSubLogo:function(){return u.isEnabled(this.context.conf.getIn(["ui","logo"]))?m.createElement(N,null):null},_onGlowClass:function(){this.setState({buttonGlow:!0})},_onNoGlowClass:function(){this.setState({buttonGlow:!1})},_onNoGlowingClass:function(){this.setState({buttonGlowing:!1})},_onGlowingClass:function(){this.setState({buttonGlowing:!0})},_animateSearchBtn:function(){var e=this;e._onNoGlowClass(),setTimeout((function(){e._onGlowClass(),setTimeout((function(){e._onNoGlowClass(),setTimeout((function(){e._onNoGlowingClass()}),1e3)}),1e3)}),1e3)},componentDidMount:function(){var e=this.context.session.dimensions.device;if("smartphone"===e||"tablet"===e){var t=d.findDOMNode(this.refs.searchInput),n=d.findDOMNode(this.refs.cancelButton);t&&t.addEventListener("click",this.handleFocus,!1),n&&n.addEventListener("click",this.handleCancel,!1)}this._animateSearchBtn()},doSubmit:function(e){var t=this.context.conf.get("search").toJS().instantSearch,n="",s=this.refs.searchForm;if(""!==(n=this.refs.searchInput.getUserInput()).trim())return t?(this.context.executeAction(b,{url:"/search/"+encodeURIComponent(n)}),!1):void(s&&s.submit());e&&e.preventDefault()},getInitialState:function(){return{fr_source:"sb",buttonGlow:!0,buttonGlowing:!0,verticalSearchEnabled:_.isEnabled(this.getConf(I,"verticalSearchEnabled"))&&this.getConf(I,"verticalSearchButtonText")&&this._getActionUrl("verticalSearchAction")}},getSearchOrigin:function(){var e,t=this.context.conf.get("searchOrigin"),n=a(this,["context","session","query","fr"],null);return n?e=c.fromJS({fr:n}):t.get("fr")&&("yfp-t-{BUCKET}"===t.get("fr")||"yfp-hrtab-{BUCKET}"===t.get("fr")||"yfp-hrmob-{BUCKET}"===t.get("fr"))&&this.props.data&&this.props.data.get("site")?(e=g.queries[this.props.data.get("site")],"tablet"===this.context.session.dimensions.device&&"yfp-hrtab-{BUCKET}"===t.get("fr")?e=JSON.parse('{"fr": "yfp-hrtab-{BUCKET}"}'):"smartphone"===this.context.session.dimensions.device&&"yfp-hrmob-{BUCKET}"===t.get("fr")?e=JSON.parse('{"fr": "yfp-hrmob-{BUCKET}"}'):e||(e=g.queries["default"]),e=c.fromJS(e)):e=t,e},handleCancel:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this.refs.searchInput;t&&t.clearInput();var n=this.props.data.get("hide_search_view");n&&n(e)},handleFocus:function(){var e=this.props.data.get("show_search_view");e&&e()},handleSearchHintChanged:function(e){var t=this.context.conf.get("search").toJS().instantSearch;""!==e&&!0===t&&this.context.executeAction(b,{url:"/search/"+e})},handleWebSearch:function(e){var t=this._getActionUrl("action"),n=this.context.conf.getIn(["searchOrigin","fr"]);""!==this.refs.searchInput.getUserInput().trim()&&(this.refs.searchForm.action=t,this.refs.query_fr.value=n),this.handleSubmit(e)},handleSubmit:function(e){o("handleSubmit",e);var t="sb",n=this.props.data.get("handle_submit"),s="",i=this.refs.searchInput;e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.source&&(t=e.source)),n?(i&&(s=i.getUserInput()),n(s)):(this.setState({fr_source:t}),this.doSubmit())},render:function(){var e=i(this.getClassName(I,["style","container","content"]),{glow:this.getConf(I,"glowEnabled")&&this.state.buttonGlow,glowing:this.getConf(I,"glowEnabled")&&this.state.buttonGlowing,"two-btn":this.state.verticalSearchEnabled});return m.createElement("div",{id:"uh-search",className:this.getClassName(I,["style","container","wrapper"])},m.createElement("form",{action:this._getMetaDataAction(),className:e,method:"get",name:"input",onSubmit:this.props.data.get("handle_submit")||this.handleSubmit,ref:"searchForm"},m.createElement("label",{className:"Hidden",htmlFor:"search-assist-input"},this.getIntl("SEARCH")),this._getNodeSearchLayout(),this._getNodeSearchQuery()),this._getNodeSkipNav())}});e.exports=I},1738:function(e,t,n){if(void 0===s)var s={};s.ActionCompose={name:"ActionCompose",height:96,width:96,path:"M90.477 33.3L61.347 4.173c-1.56-1.562-4.093-1.562-5.655 0L5.522 54.34c-.75.75-1.17 1.766-1.17 2.828v29.13c0 2.206 1.788 4 4 4H37.48c1.062 0 2.078-.423 2.828-1.173l50.168-50.168c.75-.75 1.172-1.77 1.172-2.828 0-1.064-.42-2.08-1.17-2.83zM35.824 82.298H23.777L12.352 70.875v-12.05l30.516-30.517 23.472 23.47-30.516 30.52zM71.996 46.12L48.523 22.653l9.996-9.996L81.99 36.13l-9.996 9.99z"},e.exports&&(e.exports=s.ActionCompose)},1820:function(e,t,n){"use strict";var s={get:n(86)},i=n(0)("uh:actions:loadNav"),o=n(1099),a=o.isClient();function r(e){return o.isEnabled(s.get(e,"componentProps.componentConfig.uh.data.action.load_nav.cache.enabled",!1))}e.exports=function(e,t,n){if(!function(e){return o.isEnabled(s.get(e,"componentProps.componentConfig.uh.ui.topbar",!1))}(t))return n&&n(null,null);if(a)return i("client"),n&&n(null,null);i("server");var l={app:"yahoo",cache:r(t)};i("params",l),e.service.read("nav",l,{},(function(t,s){return t?(e.dispatch("NAV_FAILURE",t),n&&n(t,null)):(e.dispatch("NAV_SUCCESS",s),n&&n(null,s))}))}},1821:function(e,t,n){"use strict";var s={get:n(86)},i=n(0)("uh:actions:loadTheme"),o=n(1099).isClient(),a=n(1282);function r(e,t,n){var o={site:l(e),theme:c(t)},r=e.getStore(a).getCachedData(o);if(function(e){return s.get(e,"componentProps.componentConfig.uh.data.action.load_theme.cache.enabled",!1)}(t)&&0!==r.size)return i("Get data from cache"),i("data",r),n&&n(null,{message:"ok",statusCode:200,params:o});i("Get data from service"),e.service.read("theme",o,{},(function(t,s){return t?(i("err",t),e.dispatch("THEME_FAILURE",t),n&&n(t,null)):(s.params=o,e.dispatch("THEME_SUCCESS",s),n&&n(null,s))}))}function l(e){var t=e.getStore("RouteStore").getCurrentRoute(),n=null;return t&&(n=s.get(t,"params.contentSite")),t&&!n&&(n=s.get(t,"contentSite")),n||(n=e.session.dimensions.site),n}function c(e){return s.get((e&&e.componentProps||{}).componentConfig||{},"uh.ui.theme",!1)}e.exports=function(e,t,n){return i("Loading theme"),o?(i("client"),function(e){return s.get(e,"componentProps.componentConfig.uh.data.action.load_theme.client.enabled",!0)}(t)?r(e,t,n):(i("no op"),n&&n(null,null))):(i("server"),r(e,t,n))}},1822:function(e,t){e.exports=[{dimensions:[{ynet:{1:null,0:null}},{authed:{2:null,1:null,0:null}},{ssl:{1:null,0:null}},{spdy:{1:null,0:null}},{bot:{1:null,0:null}},{environment:{development:{dev:null,corp:null},integration:{int:null,int1:null},qa:{qa1:null},production:{canary:null,pilot:null,prev:null,prod:null,stage:null},performance:{perf:null}}},{device:{desktop:{full:null,lightweight:null,"desktop-lite":null,"desktop-full":null,tv:null},mobile:{tablet:{"tablet-lite":null,"tablet-full":null},smartphone:{"smartphone-lite":null,"smartphone-full":null},featurephone:null},console:null}},{network:{broadband:null,cable:null,dialup:null,dsl:null,mobile:null,oc3:null,oc12:null,satellite:null,t1:null,t3:null,wireless:null,xdsl:null}},{ecma:{"default":null,modern:null}},{partner:{att:null,frontier:null,ideanetsetter:null,none:null,mts:null,rjio:null,rogers:null,smartfren:null,tata:null,tikona:null,tnz:null,verizon:null}},{lang:{ar:{"ar-JO":null,"ar-MA":null,"ar-SA":null,"ar-EG":null},bn:{"bn-IN":null},ca:{"ca-ES":null},cs:{"cs-CZ":null},da:{"da-DK":null},de:{"de-AT":null,"de-DE":null},el:{"el-GR":null},en:{"en-AE":null,"en-AU":null,"en-BG":null,"en-CA":null,"en-GB":null,"en-GY":null,"en-HK":null,"en-IE":null,"en-IN":null,"en-JO":null,"en-MY":null,"en-NZ":null,"en-PH":null,"en-SG":null,"en-US":null,"en-ZA":null},es:{"es-AR":null,"es-BO":null,"es-CL":null,"es-CO":null,"es-EC":null,"es-ES":null,"es-MX":null,"es-PE":null,"es-PY":null,"es-US":null,"es-UY":null,"es-VE":null},fi:{"fi-FI":null},fr:{"fr-BE":null,"fr-CA":null,"fr-FR":null,"fr-GF":null},hi:{"hi-IN":null},hu:{"hu-HU":null},id:{"id-ID":null},it:{"it-IT":null},ja:{"ja-JP":null},kn:{"kn-IN":null},ko:{"ko-KR":null},ml:{"ml-IN":null},mr:{"mr-IN":null},ms:{"ms-MY":null},nb:{"nb-NO":null},nl:{"nl-BE":null,"nl-NL":null,"nl-SR":null},pl:{"pl-PL":null},pt:{"pt-BR":null},ro:{"ro-RO":null},ru:{"ru-RU":null},sv:{"sv-SE":null},ta:{"ta-IN":null},te:{"te-IN":null},th:{"th-TH":null},tr:{"tr-TR":null},vi:{"vi-VN":null},zh:{"zh-Hans":{"zh-Hans-CN":null},"zh-Hant":{"zh-Hant-HK":null,"zh-Hant-TW":null}}}},{region:{ZZ:null,AFRICA:{NG:{ng:null},ZA:{za:null}},ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{au:null},NZ:{nz:null}}},ASIA:{CN:{cn:null},HK:{h1:null,hk:null},IN:{"in":null},ID:{id:null},JP:{jp:null},KR:{kr:null},MY:{my:null},PH:{ph:null},PK:{pk:null},SG:{aa:null,sg:null},TW:{tw:null,k1:null},TH:{th:null},VN:{vn:null}}},XA:{EG:null,MA:null,AE:null,IL:null,JO:{xa:null},SA:null},XE:{xe:null},ME:{me:null},EUROPE:{AT:{at:null},BE:{b2:null,b3:null},BG:{bg:null},CH:{ch:null},CZ:{cz:null},DE:{de:null},DK:{dk:null},EE:{ee:null},ES:{es:null,ct:null},FI:{fi:null},FR:{fr:null},GB:{UK:{uk:null}},GR:{gr:null},HU:{hu:null},IE:{ie:null},IT:{it:null},LT:{lt:null},LV:{lv:null},NL:{nl:null},NO:{no:null},PL:{pl:null},RO:{ro:null},RS:null,RU:null,SE:{se:null},SI:null,SK:null,TR:{tr:null},UA:{ua:null}},AMERICAS:{NORTH_AMERICA:{CA:{ca:null,cf:null,qc:null},MX:{mx:null},US:{us:null,e1:null}},SOUTH_AMERICA:{AR:{ar:null},BO:{bo:null},BR:{br:null},CL:{cl:null},CO:{co:null},EC:{ec:null},GF:{gf:null},GY:{gy:null},PE:{pe:null},PY:{py:null},SR:{sr:null},UY:{uy:null},VE:{ve:null}}}}},{site:{aol:{aolfrontpage:null},autos:null,beauty:null,cashay:null,celebrity:{omg:null},cricket:null,decor:null,entertainment:null,esports:null,everything:null,fantasy:{dailyfantasy:null},finance:null,food:null,fp:null,games:null,gma:null,health:null,home:null,homes:null,huffpost:null,ivy:null,lifestyle:null,lifestyles:null,mail:null,makers:null,money:null,movies:null,music:null,my:null,news:{m6info:null},katiecouric:null,parenting:null,politics:null,realestate:null,shopping:null,softwarecenter:null,sports:null,style:null,surfing:null,tech:null,travel:null,tumblr:null,tv:null,weather:null,ytb:null}},{mode:{failsafe:null,fallback:null,normal:null}},{colo:{aws:null,AFRICA:null,ANTARCTICA:null,ASIA_PACIFIC:{OCEANIA:{AUNZ:{AU:{aue:null}}},ASIA:{CN:{cn2:null,cn3:null,cnb:null,cnh:null},HK:{hki:null,hk2:null},IN:{"in":null,in2:null},JP:{jp1:null,jp2:null},KR:{kr1:null,kr2:null,kr3:null,krs:null},PH:{ph1:null,ph2:null},SG:{sg:null,sg1:null,sg2:null,sg3:null},TW:{tp2:null,tpc:null,tpe:null,tw1:null}}},EUROPE:{GB:{UK:{ukl:null}},IE:{ird:null,ir2:null},CH:{ch1:null,ch2:null}},AMERICAS:{NORTH_AMERICA:{US:{US_WEST:{cc1:null,gk1:null,scd:null,sk1:null,sp1:null,sp2:null,gq1:null,sw1:null,sql:null},US_MIDWEST:{mud:null,ne1:null},US_EAST:{a2s:null,ac2:null,ac4:null,dcn:null,re1:null,re2:null,re3:null,re4:null,bf1:null}}},SOUTH_AMERICA:{BR:{bro:null}}}}}]}]},1823:function(e,t,n){"use strict";e.exports={nep:"uh3",seperator:"_",queries:{"default":{fr:"yfp-t-{BUCKET}"},autos:{fr:"uh3_magautos_web_gs",fr2:"p:auto,m:{FRSOURCE}"},beauty:{fr:"uh3_magbeauty_web_gs",fr2:"p:bty,m:{FRSOURCE}"},celebrity:{fr:"uh3_omg_web_gs_1",fr2:"p:clb,m:{FRSOURCE}"},decor:{fr:"uh3_magdecor_web",fr2:"p:dcr,m:{FRSOURCE}"},finance:{fr:"uh3_finance_web",fr2:"p:finvsrp,m:{FRSOURCE}"},entertainment:{fr:"uh_magentertain_web_gs",fr2:"p:ent,m:{FRSOURCE}"},esports:{fr:"uh3_esports_web_gs",fr2:"p:esports,m:{FRSOURCE}"},food:{fr:"yshineheader_test2",fr2:"p:fd,m:{FRSOURCE}"},gma:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},health:{fr:"uh3_maghealth_web_gs",fr2:"p:hlth,m:{FRSOURCE}"},katiecouric:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},lifestyle:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},lifestyles:{fr:"uh_maglifestyle_web_gs",fr2:"p:lst,m:{FRSOURCE}"},makers:{fr:"uh3_magdiy_web_gs",fr2:"p:mk,m:{FRSOURCE}"},movies:{fr:"uh3_magmovies_web_gs",fr2:"p:mv,m:{FRSOURCE}"},music:{fr:"uh3_music_web_gs",fr2:"p:msc,m:{FRSOURCE}"},news:{fr:"uh3_news_web_gs",vfr:"uh3_news_vert_gs",fr2:"p:news,m:{FRSOURCE}"},omg:{fr:"uh3_omg_web_gs",fr2:"p:clb,m:{FRSOURCE}"},parenting:{fr:"uh3_magparenting_web_gs",fr2:"p:prnt,m:{FRSOURCE}"},politics:{fr:"uh3_news_web_gs_t2",vfr:"uh3_news_vert_gs_t2",fr2:"p:pol,m:{FRSOURCE}"},realestate:{fr:"uh3_magrealestate_web",fr2:"p:rles,m:{FRSOURCE}"},sports:{fr:"uh3_sports_web_gs",fr2:"p:sprt,m:{FRSOURCE}"},style:{fr:"magstyle_web_gs",fr2:"p:stl,m:{FRSOURCE}"},tech:{fr:"uh3_magtech_web_gs",fr2:"p:tech,m:{FRSOURCE}"},travel:{fr:"uh3_magtravel_web_gs",fr2:"p:trvl,m:{FRSOURCE}"},tv:{fr:"uh3_magtv_web_gs",fr2:"p:tv,m:{FRSOURCE}"},weather:{fr:"uh3_magweather_web_gs",fr2:"p:weather,m:{FRSOURCE}"},everything:{fr:"yfp-t-{BUCKET}",fp:"1"}}}},1824:function(e,t,n){"use strict";var s=n(0)("uh:components:skip_nav/SkipNav"),i=n(4),o=n(2),a=n(10)({autobind:!1,displayName:"SkipNav",propTypes:{data:i.object,styles:i.object},getData:function(){var e,t={items:[]},n=this.props.data&&this.props.data.items||{},i=Object.keys(n).filter((function(e){return n[e].order>0})).sort((function(e,t){return parseInt(n[e].order)-parseInt(n[t].order)}));for(e=0;e<i.length;e++)t.items.push(n[i[e]]);return s("getData",t),t},getInitialState:function(){return{data:this.getData()}},render:function(){var e=this.getData(),t=this;if(s("render","data",e),e&&e.items&&0===e.items.length)return null;var n=e.items.map((function(e,n){return o.createElement("li",{key:n,tabIndex:"3"},o.createElement("a",{className:t.props.style.link.content,href:e.link},e.name))}));return o.createElement("ul",{id:"skip-nav",className:this.props.style.container.wrapper},n)}});e.exports=a},1825:function(e,t,n){"use strict";var s=n(0)("uh:components:logo:SubLogo"),i=n(1084),o=n(4),a=n(2),r=n(10),l=n(322).I13nAnchor,c=n(1099),u=n(1103),h=n(16),m=r({autobind:!1,contextTypes:{conf:o.object.isRequired,session:o.object.isRequired},displayName:"SubLogo",mixins:[u,h],statics:{base:["logo"],className:{style:{cobrand:{yahoo:{content:"_getClassNameCobrandYahooContent"}}}},i13n:{logo:{elm:"btn",itc:"0",slk:"poweredbyyahoo",subsec:"logo"}}},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(m,["style","cobrand","yahoo","content_1"])),e=i(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getNodeSubLogo:function(){var e=this.context.conf,t=null,n=this.getIntl(this.getConf(m,"text")||"YAHOO");return c.isEnabled(e.getIn(["ui","logo"]))?("cobrandSplit"===this.getClassName(m,["style","template"])&&(t=a.createElement("span",null,a.createElement("style",null,c.mediaBackgroundImage("#uh-sublogo",this.getClassName(m,["style","cobrand","image_1x"]),this.getClassName(m,["style","cobrand","image_2x"]))),a.createElement(l,{id:"uh-sublogo",className:this.getClassName(m,["style","cobrand","yahoo","content"]),href:this.getConf(m,"partnerLink"),i13nModel:this.getI13n(m,"logo")},a.createElement("b",{className:"Hidden"},n)))),t):null},getData:function(){return{site:c.getSite(this.context)||this.context.session.dimensions.site}},getInitialState:function(){return s("getInitialState","data",this.getData()),{data:this.getData()}},render:function(){return a.createElement("td",null,this._getNodeSubLogo())}});e.exports=m},1831:function(e,t,n){"use strict";var s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(2),a=n(10),r=n(322).createI13nNode,l=n(0)("uh:I13nHoverAnchor");s=r(a({displayName:"HoverAnchor",onMouseEnter:function(){var e=this.props.onHoverPayload;this.props.hasPanel||this.props.i13n.executeEvent("beacon",{beaconType:e.beaconType||"beaconEvent",arguments:e.arguments||[]},(function(){l("callback for on mouse hover beacon")}))},render:function(){var e=Object.assign({},this.props);return delete e.onHoverPayload,delete e.i13n,delete e.hasPanel,o.createElement("a",this.props.onHoverPayload?i({},e,{onMouseEnter:this.onMouseEnter}):e)}}),{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},1832:function(e,t,n){"use strict";var s={get:n(86),find:n(342)},i=n(0)("uh:actions:UHMailActions"),o=n(2029),a=n(1653),r=n(1159),l=n(325),c=n(1547),u=n(1548),h=n(1546).initializeUHCrumbs,m=n(1099),p=m.isClient(),d=n(1617),g="";var f=function(){var e=(new Date).getTime(),t=null;return"xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,(function(n){return t=(e+16*Math.random())%16|0,e=Math.floor(e/16),t.toString(16)}))},_=/%7B/gi,C=/%7D/gi,b=function(e,t,n){var i=t.api||{};g&&i.query&&(i.query.wssid=g);var o,a=d(i);if(!(window&&"XMLHttpRequest"in window))return n({statusText:"XHR not supported"}),null;"withCredentials"in(o=new XMLHttpRequest)?(o.open("POST",a,!0),o.withCredentials=!0):n({statusText:"CORS not supported"}),o.timeout=t.timeout,o.setRequestHeader("content-type","application/json"),o.setRequestHeader("accept","application/json"),o.setRequestHeader("X-Oath-YmReqId",t.reqid),o.onload=function(){try{var i=JSON.parse(o.responseText),a=i.error||{},r=s.get(a,"details.wssid")||"";if(i.result&&!i.error)n(null,s.get(i,"result.responses[0].response.result")||{});else if("EC-4003"===a.code)if(r&&r!==g){if(t.pendingRetries>0)return g=r,t.pendingRetries-=1,t.reqid=f(),b(e,t,n);n({code:"invalidWssid",statusText:"Invalid WSSID. Retry limit reached"})}else n({code:"invalidWssid",statusText:"Invalid WSSID. API provided same invalid WSSID"});else i.result||i.error?n(a,i):n({statusText:"Key 'result' is missing in the response"})}catch(l){n({statusText:"Could not parse mail api response, message: "+l.message+", code: "+l.name})}},o.onerror=function(){n({status:o.status,statusText:o.statusText})},o.send(JSON.stringify(t.body||{}))},v=function(e,t,n){i("getMailCount");var u=e.getStore(l);if(!m.isEnabled(s.get(t,"componentProps.componentConfig.uh.ui.mail",!1)))return n&&n(null,null);if(u.isLoaded()){if(!p&&"client"===function(e){return s.get(e,"componentProps.componentConfig.uh.mail.data.mode")}(t))return n&&n(null,null);if(u.isSignedOut())return i("getMailCount: user is signed out"),n&&n();if(e.dispatch("FETCH_MAIL_COUNT",!0),t.useCors)t.reqid=f(),t.pendingRetries=1,b(e,t,(function(i,o){var a;if(i)"EC-4008"===i.code&&e.dispatch("SET_UNAUTHORIZEDUSER",!0),e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:i.statusText||i.code||"timedout",ymreqid:t.reqid||"",statusCode:i.status||i.code});else{var r=s.get(o,"decos")||[];(a=s.find(r,{id:"FTI"}))?e.dispatch("NEW_MAIL_COUNT",s.get(a,"counts[0].unseen")||0):e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"Inbox is missing in the response",ymreqid:t.reqid||""})}e.dispatch("FETCH_MAIL_COUNT",!1),n&&n(i||o&&o.error)}));else{var d=e.getStore(c),g=d.getMailCountCrumb(),N=parseInt(d.getTries(),10);if(!g)return N>5?(i("getMailCount: retry limit reached"),e.dispatch("FETCH_MAIL_COUNT",!1),e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"retry limit reached"}),n&&n(null,null)):void h(e,{},(function(){v(e,t,n)}));t&&t.url&&t.url.match(/decos/)&&(g=d.getUcsCrumb()),function(e,t,n,r){var l=t.url||"https://mg.mail.yahoo.com/mailservices/v1/newmailcount?appid=UnivHeader&wssid={crumb}&ymreqid={ymreqid}";l=(l=l.replace(_,"{")).replace(C,"}");var c,u=t.timeout||3e3,h=t.prefix||"__uhmc__",m=f(),p=a(l,{ymreqid:m,crumb:n});o(p,{timeout:u,prefix:h},(function(t,n){e.dispatch("MAIL_COUNT_TS"),t&&e.beacon&&e.beacon("error","UHGetMailCount_read",{code:"UHGetMailCountFailed",message:"timedout",ymreqid:m||""}),n&&n.query?c=s.get(n,"query.results.result.decos.counts.unseen",0).toString():n&&n.newmailcount&&(i("data is: "+n.newmailcount),c=n.newmailcount),c?e.dispatch("NEW_MAIL_COUNT",c):e.dispatch("FETCH_MAIL_COUNT",!1),r&&r(t)}))}(e,t,g,n)}}else r(e,t,(function(){v(e,t,n)}))},N=function(e,t,n,s){var i=t.url;i=(i=i.replace(_,"{")).replace(C,"}");var r=t.timeout||3e3,l=t.prefix||"__uhmp__",c=f(),u=a(i,{ymreqid:c,crumb:n});o(u,{timeout:r,prefix:l},(function(t,n){n&&e&&(n.error?e.dispatch("OPEN_MAILPREVIEW_FAILURE"):n.query&&n.query.results&&n.query.results.result?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.result):n.query&&n.query.results&&n.query.results.json?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",n.query.results.json):n.query&&0===n.query.count&&e.dispatch("OPEN_MAILPREVIEW_NO_NEW")),s&&s(t||n&&n.error)}))},y=function(e,t,n){var o=e.getStore(l),a=e.getStore(u);if(o.isLoaded()){if(o.isSignedOut()||o.isRecognized())return i("getMailPreview: user is signed out or in recognized state"),e.dispatch("OPEN_MAILPREVIEW_FAILURE"),n&&n();if(t.useCors){if(t.reqid=f(),t.pendingRetries=1,a.getUnauthorizedUser())return e.dispatch("OPEN_MAILPREVIEW_FAILURE"),n&&n();b(e,t,(function(i,o){var a=[];i&&e.beacon?e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:i.statusText||"timedout",ymreqid:t.reqid||"",statusCode:i.status}):(!(a=s.get(o,"messages"))&&e.beacon&&e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:"Key 'Messages' is missing in the response",ymreqid:t.reqid||""}),a=(a||[]).filter((function(n){var s=n.headers||{};return!!(n.id&&s.from&&s.from[0]&&s.date)||(e.beacon("error","UHGetMailPreview_read",{code:"UHGetMailPreviewFailed",message:"Invalid message in the response",ymreqid:t.reqid||""}),!1)})).map((function(e){var t=e.headers||{},n=t.from&&t.from[0]||{};return{messages:{id:e.id,headers:{date:t.date,subject:t.subject,from:{name:n.name,email:n.email}},flags:e.flags}}}))),i?("EC-4008"===i.code&&e.dispatch("SET_UNAUTHORIZEDUSER",!0),e.dispatch("OPEN_MAILPREVIEW_FAILURE")):a&&a.length?e.dispatch("OPEN_MAILPREVIEW_SUCCESS",a):a&&!a.length&&e.dispatch("OPEN_MAILPREVIEW_NO_NEW"),n&&n(i||o&&o.error)}))}else{var m=e.getStore(c),p=m.getUcsCrumb();p?N(e,t,p,n):h(e,{},(function(){(p=m.getUcsCrumb())?N(e,t,p,n):n&&n()}))}}else r(e,{},(function(){y(e,t,n)}))};e.exports={getMailCount:v,getMailPreview:y}},1833:function(e,t,n){"use strict";var s=n(1559),i=n(0)("uh:mixins:FlyoutMixin"),o=n(4),a=null,r={mouseenter:!0,focus:!0},l={mouseleave:!0,blur:!0};function c(e,t){var n=s(e);i("menuState: ",t=!!t),t?n.add("uh-menu-open"):n.remove("uh-menu-open"),this.setState({isVisible:t})}e.exports={contextTypes:{executeAction:o.func.isRequired},getMenuEvents:function(){return{onMouseEnter:this.toggleMenu,onMouseLeave:this.toggleMenu,onFocus:this.toggleMenu,onBlur:this.toggleMenu}},toggleMenu:function(e){var t=this,n=e.currentTarget,s=e.type;e.preventDefault(),i("toggleMenu: ",s,n),t.menuTimeout&&(i("clearTimeout"),clearTimeout(t.menuTimeout)),t.menuTimeout=setTimeout((function(){r[s]&&n===a?c.call(t,n,!0):l[s]&&n!==a&&c.call(t,n,!1)}),300),a=r[s]?n:null}}},1834:function(e,t,n){"use strict";var s=n(13),i=n(0)("uh:stores:NavStore"),o=s({storeName:"NavStore",handlers:{NAV_FAILURE:"_handleNavFailure",NAV_SUCCESS:"_handleNavSuccess"},initialize:function(){this.state={}},_handleNavFailure:function(e){i("_handleNavFailure","error",e),this.state.error=e||{}},_handleNavSuccess:function(e){i("_handleNavSuccess","payload",e),this.state.data=e&&e.data||{},this.emitChange()},getError:function(){return this.state.error||null},getItems:function(){return this.state.data&&this.state.data.items||[]},getState:function(){return this.state},dehydrate:function(){return this.state},rehydrate:function(e){this.state=e}});e.exports=o},1835:function(e,t,n){"use strict";var s={get:n(86)},i=n(1092).createImmutableStore,o=n(182),a=i({storeName:"MobileHeaderStore",initialize:function(){this._state=o.fromJS({navTitle:"home",useNavTitle:!1})},statics:{handlers:{NAVIGATE_SUCCESS:"setHeaderTitle",SET_NAVTRIGGER:"setNavTrigger",ON_STREAM_FOLLOW:"setFollowAnimationState",ON_FOLLOW_ANIM_END:"setFollowAnimationState"}},setHeaderTitle:function(e){var t,n,i=e.route?e.route:e,o=s.get(i,"name",""),a=s.get(i,"params",""),r=s.get(i,"params.contentSite")||s.get(i,"contentSite")||"home",l=s.get(a,"alias","");return"topic"===o||"category"===o?((t=decodeURIComponent(l).split("-"))&&t.constructor===Array&&(t=t[0]),t.indexOf("_")>-1&&(t=t.replace(/_/g," ")),n=!0):(r&&(t=r),n=!1),!!t&&this.setState(this._state.withMutations((function(e){e.set("navTitle",t),e.set("useNavTitle",n)})))},setNavTrigger:function(e){e&&this.setState(this._state.set("navTrigger",e))},getHeaderTitle:function(){return this._state.get("navTitle")},getHeaderFlag:function(){return this._state.get("useNavTitle")},getNavTrigger:function(){return this._state.get("navTrigger")},setFollowAnimationState:function(e){e&&this.setState(this._state.set("followAnimation",e.followAnimation))},getFollowAnimationState:function(){return this._state.get("followAnimation")}});e.exports=a},1898:function(e,t,n){"use strict";var s={set:n(1187)},i=n(4),o=n(2),a=n(10),r=n(182),l=n(16),c=n(1103),u=n(1548),h=n(1832),m=n(1084),p=n(1617),d=n(1),g=a({mixins:[c,l],contextTypes:{getStore:i.func,conf:i.object.isRequired,session:i.object.isRequired,theme:i.object.isRequired},displayName:"MailCount",statics:{base:["mail"],className:{style:{mailcount:{wrapper:"_getClassNameMailcountWrapper"}}},storeListeners:[u]},propTypes:{countConfig:i.object,isSmartPhone:i.bool},getDefaultProps:function(){return{countConfig:r.fromJS({maxCountDisplay:99,pollingInterval:2,pollingDuration:10})}},getInitialState:function(){return this._initConfig(),this.mailStore=this.getStore(u),this.focusTimeoutValue=null,this.pollingDurationTimer=null,this.pollingIntervalTimer=null,{mailCount:this._getMailCountFromStore()}},componentDidMount:function(){"smartphone"!==this.device&&(window.addEventListener("focus",this._handleWindowFocus),window.addEventListener("blur",this._stopFetchTimer)),this._startDurationTimer(),this._startFetchTimer()},componentWillUnmount:function(){this._stopTimers(),"smartphone"!==this.device?(window.removeEventListener("focus",this._handleWindowFocus),window.removeEventListener("blur",this._stopFetchTimer),window.removeEventListener("mousemove",this._handleKBMouseFocus),window.removeEventListener("keypress",this._handleKBMouseFocus)):window.removeEventListener("mouseup",this._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)},onChange:function(e){var t=this._getMailCountFromStore();this.setState({mailCount:t})},_initConfig:function(){var e=this.context.conf.get("profile"),t=this.props.mail.toJS(),n=t.count,i=p(n.api);this.mode=e.get("mode")||"server",this.fetchConfig={url:i,api:t.api,body:n.body,timeout:n.timeout,prefix:n.jsonp.prefix,useCors:this.context.conf.getIn(["mail","useCors"])},s.set(this.fetchConfig,"componentProps.componentConfig.uh.profile.mode",this.mode),s.set(this.fetchConfig,"componentProps.componentConfig.uh.ui.mail",!0),this.pollingInterval=6e4*n.pollingInterval,this.pollingDuration=6e4*n.pollingDuration,this.pollingWindow=n.pollingWindow,this.mailCountMaxDisplay=n.maxCountDisplay,this.device=this.props.device||"desktop"},_startFetchTimer:function(){this._fetch(),this.pollingIntervalTimer=setInterval(this._fetch,this.pollingInterval)},_startDurationTimer:function(){"smartphone"!==this.device?(window.removeEventListener("mousemove",this._handleKBMouseFocus),window.removeEventListener("keypress",this._handleKBMouseFocus),clearTimeout(this.focusTimeoutValue)):window.removeEventListener("mouseup",this._handleKBMouseFocus),this.pollingDurationTimer=setTimeout(this._stopFetchTimer,this.pollingDuration)},_stopTimers:function(){clearInterval(this.pollingIntervalTimer),clearTimeout(this.pollingDurationTimer)},_stopFetchTimer:function(e){e||(this.isSmartPhone?window.addEventListener("mouseup",this._handleKBMouseFocus):(window.addEventListener("mousemove",this._handleKBMouseFocus),window.addEventListener("keypress",this._handleKBMouseFocus))),clearInterval(this.pollingIntervalTimer)},_fetch:function(){var e=Date.now()-this.mailStore.getTs();!this.mailStore.getFetching()&&!this.mailStore.getUnauthorizedUser()&&this.pollingWindow<e&&this.executeAction(h.getMailCount,this.fetchConfig)},_getMailCountFromStore:function(){return this.mailStore.getMailCount()},_handleWindowFocus:function(e){this._stopTimers(),this._startDurationTimer(),this._startFetchTimer()},_handleKBMouseFocus:function(){this.focusTimeoutValue&&clearTimeout(this.focusTimeoutValue),this.focusTimeoutValue=setTimeout(this._handleWindowFocus,1e3)},shouldComponentUpdate:function(e,t){return t.mailCount!==this.state.mailCount},_getClassNameMailcountWrapper:function(){var e=[];return e.push(this.getClassName(g,["style","mailcount","wrapper_1"])),e=m(e)},render:function(){var e=this.state.mailCount>0,t=this.state.mailCount>this.mailCountMaxDisplay?this.mailCountMaxDisplay+"+":this.state.mailCount,n=this.props.mail.toJS(),s=d(n,["style","mailCount","badge"]),i=m(s||this.getClassName(g,["style","mailcount","wrapper"]),{"Px(3px)":this.state.mailCount>this.mailCountMaxDisplay},{"V(h)":!e},"desktop"!==this.device?this.props.themeMailNotificationBorderColor:"",{"D(n)":!e&&"desktop"!==this.device});return o.createElement("span",{id:"uh-mail-count",className:i},t)}});e.exports=g},2158:function(e,t,n){"use strict";var s=n(1099).isClient();e.exports=function(e,t,n){if(!s||!t)return n&&n();var i=e.subscriptionHelper&&e.subscriptionHelper.getSubscriptionHelper();if(!i)return n&&n();i.pushNotificationSubscribe(t,n)}},2159:function(e,t,n){"use strict";var s,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(2),a=n(10),r=n(322).createI13nNode,l=n(0)("uh:I13nHoverButton"),c={cloneDeep:n(339),merge:n(17)};s=r(a({displayName:"HoverButton",fireBeacon:function(){var e=c.cloneDeep(this.props.hoverI13Params),t={beaconType:"beaconClick",arguments:["uh",e.slk,0,c.merge(e,{itc:2})]};this.props.hasPanel||this.props.i13n.executeEvent("beacon",t,(function(){l("callback for on mouse hover/focus beacon")}))},render:function(){var e=Object.assign({},this.props);return delete e.hoverI13Params,delete e.hasPanel,delete e.i13n,o.createElement("button",this.props.hoverI13Params?i({},e,{onMouseEnter:this.fireBeacon,onFocus:this.fireBeacon}):e)}}),{isLeafNode:!0,bindClickEvent:!0,follow:!0}),e.exports=s},2160:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(1084),o=n(0)("uh:components:profile:SignedInProfile"),a=n(322).I13nAnchor,r=n(2159),l=n(182),c=n(4),u=n(2),h=n(10),m=n(87),p=n(1099),d=n(1192),g=d.Avatar,f=n(118),_=n(1103),C=n(16),b=n(1833),v=d.UHAccountSwitchStore,N=n(8),y=h({contextTypes:{conf:c.object.isRequired,executeAction:c.func.isRequired,getStore:c.func,session:c.object.isRequired,theme:c.object.isRequired},displayName:"SignedInProfile",mixins:[_,C,b],propTypes:{data:c.object.isRequired,triggerAccountFetch:c.func,extraAccountInfoComponent:c.oneOfType([c.node,c.func,c.object])},statics:{base:["profile"],className:{style:{avatar:{image:"_getClassNameImage"},button:{content:"_getClassNameContent"}}},i13n:{signed_out:{elm:"btn",itc:"0",slk:"signout",subsec:"profile"},account_info:{elm:"itm",itc:"0",slk:"acct-info",subsec:"profile"},signed_in:{elm:"btn",itc:"1",slk:"profile",subsec:"profile"}}},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(y,["style","button","content_1"])),e.push(this.getClassName(y,["style","button","content_2"])),e=i(e),o("_getClassNameContent",e,arguments),e},_getClassNameImage:function(){var e=this.getMetaData(y,"alias"),t=null,n=this.getMetaData(y,"image");return this.context.session&&this.context.session.isCorpUser&&(n=m.format({protocol:"https",hostname:"backyard.yahoo.com",pathname:["/isweb-icons/staff/",e.replace("@yahoo-inc.com",""),"_square.jpg"].join("")})),o("_getClassNameImage",t={backgroundImage:"url("+n+")"},arguments),t},_getMetaDataAccountInfoLink:function(){var e=null,t=this.context.session.dimensions,n=["urls","account_info","query"],s=this.getConf(y,["urls","account_info"])||l.Map();return s=s.mergeDeep({query:{".intl":this.getConf(y,n.concat([".intl"]))||t.intl,".lang":this.getConf(y,n.concat([".lang"]))||t.lang,".src":this.getConf(y,n.concat([".src"]))||this.getMetaData(y,"site")||t.site}}).toJS(),e=m.format(s),o("_getMetaDataAccountInfoLink",e,arguments),e},_getMetaDataDoneUrl:function(){var e=this.getMetaData(y,"page_url");return o("_getMetaDataDoneUrl",e),e},_getMetaDataName:function(){var e=null;return this.props.data.get("first_name")?e=this.props.data.get("first_name"):this.props.data.get("alias")&&(e=this.props.data.get("alias")),o("_getMetaDataName",e,arguments),e},_getMetaDataSignedOutLink:function(){var e=null,t=this.context.session,n=t.dimensions,s=["urls","signed_out","query"],i=this.getConf(y,s.concat([".intl"]))||n.intl,a=this.getConf(y,["urls","signed_out"])||l.Map();return a=a.mergeDeep({query:{".intl":i,".lang":this.getConf(y,s.concat([".lang"]))||n.lang,".src":this.getConf(y,s.concat([".src"]))||this.getMetaData(y,"site")||n.site,".done":this.getConf(y,s.concat([".done"]))||p.getLogoUrl(i,t.protocol)||this._getMetaDataDoneUrl()}}).toJS(),e=m.format(a),o("_getMetaDataSignedOutLink",e,arguments),e},_getNodeAccountSwitch:function(){var e=this.getStore(N).getComposite("account-switch-uh");return e&&e.components?(this.props.extraAccountInfoComponent&&e.components[0]&&(e.components[0].props=Object.assign({},e.components[0].props,{extraAccountInfoComponent:this.props.extraAccountInfoComponent})),u.createElement(f,{components:e.components})):null},_getNodeAccountInfo:function(){return u.createElement("div",{className:this.getClassName(y,["style","account_info","wrapper"])},u.createElement("div",{className:this.getClassName(y,["style","account_info","name"])},this._getMetaDataName()),u.createElement("div",{className:this.getClassName(y,["style","account_info","alias"])},this.getMetaData(y,"alias")),u.createElement(a,{id:"uh-settings",className:this.getClassName(y,["style","account_info","content"]),href:this._getMetaDataAccountInfoLink(),i13nModel:this.getI13n(y,"account_info")},this.getIntl("ACCOUNT_INFO")))},_getNodeSignedOut:function(){return u.createElement("div",{className:this.getClassName(y,["style","signed_out","wrapper"])},u.createElement(a,{id:"uh-signedout",className:this.getClassName(y,["style","signed_out","content"]),href:this._getMetaDataSignedOutLink(),i13nModel:this.getI13n(y,"signed_out")},this.getIntl("SIGNOUT")))},_getNodePanel:function(){var e=this.getClassName(y,["style","panel","wrapper"]);return this.getStore(v).getIsEnabled()?u.createElement("div",{className:e},this._getNodeAccountSwitch()):u.createElement("div",{className:e},this._getNodeAccountInfo(),this._getNodeSignedOut())},getInitialState:function(){return{}},menuTriggerHandler:function(e){this.props.triggerAccountFetch&&this.props.triggerAccountFetch(),this.toggleMenu(e)},onChange:function(e){},_getNodeAvatar:function(){var e=this.getClassName(y,["style","avatar"]),t={src:this.getMetaData(y,"image"),name:this._getMetaDataName(),enableAlphatar:this.getConf({},["ui","alphatar"])};return u.createElement(r,{id:"uh-profile",i13nModel:this.getI13n(y,"signed_in"),hasPanel:this.state.isVisible,hoverI13Params:this.getI13n(y,"signed_in"),className:e.wrapper},u.createElement(g,s({},t,{styles:{avatar:e}})),u.createElement("b",{className:e.name},this._getMetaDataName()))},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return this.context.session.isLightWeightBrowser?u.createElement("li",{className:this.getClassName(y,["style","button","wrapper"])},u.createElement(a,{id:"uh-signedin",href:this._getMetaDataSignedOutLink(),className:this.getClassName(y,["style","button","content"]),i13nModel:this.getI13n(y,"signed_out")},this.getIntl("SIGNOUT"))):u.createElement("li",{className:this.getClassName(y,["style","container","wrapper"]),onFocus:this.menuTriggerHandler,onBlur:this.toggleMenu,onMouseEnter:this.menuTriggerHandler,onMouseLeave:this.toggleMenu},this._getNodeAvatar(),this._getNodePanel())}});e.exports=y},2161:function(e,t,n){"use strict";var s=n(1084),i=n(0)("uh:components:profile:SignedOutProfile"),o=n(1831),a=n(182),r=n(4),l=n(2),c=n(10),u=n(87),h=n(1103),m=n(1105),p=c({contextTypes:{conf:r.object.isRequired,session:r.object.isRequired,theme:r.object.isRequired},displayName:"SignedOutProfile",mixins:[h,m],propTypes:{data:r.object.isRequired},statics:{base:["profile"],className:{style:{button:{content:"_getClassNameContent",wrapper:"_getClassNameWrapper"}}},i13n:{signed_in:{elm:"btn",itc:"0",slk:"signin",subsec:"profile"}}},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(p,["style","button","content_1"])),e.push(this.getClassName(p,["style","button","content_2"])),e=s(e),i("_getClassNameContent",e,arguments),e},_getClassNameWrapper:function(){return i("_getClassNameWrapper",null,this.arguments),null},_getMetaDataDoneUrl:function(){var e=this.getMetaData(p,"page_url");return i("_getMetaDataDoneUrl",e),e},_getMetaDataLink:function(){var e,t=this.context.session.dimensions,n=["urls","signed_in","query"],s=this.getConf(p,["urls","signed_in"])||a.Map();return s=s.mergeDeep({query:{".intl":this.getConf(p,n.concat([".intl"]))||t.intl,".lang":this.getConf(p,n.concat([".lang"]))||t.lang,".src":this.getConf(p,n.concat([".src"]))||this.getMetaData(p,"site")||t.site,".done":this.getConf(p,n.concat([".done"]))||this._getMetaDataDoneUrl()}}).toJS(),e=u.format(s),i("_getMetaDataLink",e),e},render:function(){return l.createElement("li",{className:this.getClassName(p,["style","button","wrapper"])},l.createElement(o,{id:"uh-signedin",className:this.getClassName(p,["style","button","content"]),onHoverPayload:this.getClassName(p,["onHoverI13nSignOut"]),hasPanel:!0,href:this._getMetaDataLink(),i13nModel:this.getI13n(p,"signed_in"),style:this.getClassName(p,["style","button","inline"])},this.getIntl("SIGNIN")))}});e.exports=p},2162:function(e,t,n){"use strict";var s=n(0)("uh:components:nav/TopbarNavItem"),i=n(1099),o=n(4),a=n(2),r=n(10),l=n(321).Icon,c=n(323),u=n(1103),h=n(1105),m=r({contextTypes:{conf:o.object.isRequired,theme:o.object.isRequired},displayName:"TopbarNavItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1},method:{getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){},getClassNameLinkHomeIconHomeStyle:function(){}}}},mixins:[u,h],propTypes:{data:o.object.isRequired,method:o.object},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{home:{style:"_getClassNameLinkHomeIconStyleHome"}}}}}},i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return s("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?a.createElement("div",null,this._getNodeIcon(),a.createElement("b",{className:this.getClassName(m,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):this._getName()},_getNodeIcon:function(){var e=this._getId(),t=this.getConf(m,["data","icon",e]);return t?a.createElement(l,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(m,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(m,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])}):null},_getClassWrapper:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(m,["style",this._getGroup("nav_"),e,"wrapper"])},_getClassContent:function(){var e="link",t=this._getId();return"home"!==t&&"more"!==t||(e=e+"_"+t),this.getClassName(m,["style",this._getGroup("nav_"),e,"content"])},_getFollow:function(){return this.props.data.item.follow},_getGroup:function(e,t){return i.strExpand(this.props.data.group,e,t)},_getId:function(e,t){return i.strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getOrder:function(){return this.props.data.item.order+""},_getUrl:function(){return this.props.data.item.url},_isMenuOpen:function(){return this.props.data.is_open},render:function(){s("data",this.props.data);var e=m.i13n.link;return e.slk=this._getId("uh-tb-"),e.subsec=this._getGroup("tb-"),e.cpos=this._getOrder(),a.createElement("li",{id:this._getId("uh-tb-"),className:this._getClassWrapper()},a.createElement(c,{className:this._getClassContent(),followLink:this._getFollow(),href:this._getUrl(),model:this.getI13n(m,"link",e)},this._getNodeContent()))}});e.exports=m},2163:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(1084),o=n(1),a=n(4),r=n(2),l=n(10),c=n(321).Icon,u=n(1665),h=n(1160),m=n(322).I13nAnchor,p=n(1103),d=n(16),g=n(1456).getProfile,f=n(1136),_=n(325),C=l({displayName:"ProfileCard",mixins:[p,d],contextTypes:{session:a.object.isRequired},statics:{initializeAction:g,componentConfig:{name:"componentHeader",filters:"uh"},storeListeners:[_,f]},getInitialState:function(){this.UserStore=this.getStore(_),this.ProfileStore=this.getStore(f);var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh;return{avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:o(t,["ui","profileCardOpen"])||!1,componentConfig:t}},onChange:function(){var e=this.ProfileStore.getProfile(),t=this.props.componentConfig.uh,n={avatar:e&&e.imageUrl||null,email:this.UserStore.getAlias(),firstName:e&&e.nickName||this.UserStore.getFirstName(),isSignedIn:this.UserStore.isSignedIn(),open:!this.state.open,componentConfig:t};this.setState(n)},render:function(){var e=this.state.componentConfig,t=e.profile,n=e.ui;if(!this.state.isSignedIn)return null;var o=i("uh-profile-card Bgc(#fff)",{"uh-profile-card-open":this.state.open}),a=this.state.avatar,l={email:this.state.email,userName:this.state.firstName||this.getIntl("WELCOME_BACK"),avatarImg:a},p=t.avatarSize,d=a&&!/(profile_|39361574426_98028a_)/.test(a),g=d?{style:{backgroundImage:"url("+a+")",backgroundSize:"cover",width:p,height:p}}:{style:{verticalAlign:"middle",marginRight:"10px"}},f=d?r.createElement("i",s({className:"profile-avatar D(ib) Mend(10px) Bdrs(100px)"},g)):r.createElement(c,s({asset:u,height:p,color:"#32007f"},g));return r.createElement("div",{id:this.props.id,className:o},r.createElement("div",{className:"P(20px)"},n.profileCardAvatar?f:null,r.createElement("div",{className:"D(ib) Va(t) C(#0076e6)"},n.profileCardName?r.createElement("div",{className:"profile-name Fw(b) Maw(120px) Ell"},l.userName||this.getIntl("WELCOME_BACK")):null,n.profileCardEmail?r.createElement("div",{className:"profile-email Maw(120px) Ell"},l.email):null),r.createElement("span",{className:"Fl(end) Px(20px) Py(10px) Cur(p) uh-profile-card-open_Rotate(180deg)",onClick:this.onChange},r.createElement(c,{asset:h,height:"14",color:"#dfdfdf"}))),r.createElement("div",{className:"D(n) uh-profile-card-open_D(b)"},n.profileCardAcctInfo?r.createElement(m,{className:"profile-acctinfo D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:t.settingUrl,i13nModel:{elm:"itm",itc:"0",slk:"acctinfo",subsec:"profile"}},this.getIntl("ACCOUNT_INFO")):null,n.profileCardSignout?r.createElement(m,{className:"profile-signout D(b) Td(n) C(#000) P(20px) Bdtw(1px) Bdtc(#dfdfdf) Bdts(s)",href:t.signoutUrl,i13nModel:{elm:"itm",itc:"0",slk:"signout",subsec:"profile"}},this.getIntl("SIGNOUT")):null))}});e.exports=C},2591:function(e,t,n){"use strict";var s=n(1084),i=n(0)("uh:components:Header"),o=n(182),a=n(4),r=n(2),l=n(10),c=n(1099),u=n(1624).name,h=n(1624).version,m=n(1),p=n(1733),d=n(1546).initializeUHCrumbs,g=n(1192).UHAccountSwitchActions,f=n(2592),_=n(2158),C=n(2593),b=n(2598),v=n(2599),N=n(2602),y=n(2605),S=n(2608),I=n(2609),w=n(1103),E=n(16),x=n(1140),M=n(1282),k=n(1192).UHAccountSwitchStore,T=l({childContextTypes:{conf:a.object,theme:a.object},contextTypes:{intl:a.object,renderTarget:a.object,session:a.object},propTypes:{componentConfig:a.object,enableFocusBeacon:a.bool,footerTemplateComponent:a.oneOfType([a.node,a.func,a.object]),id:a.string,onSubmit:a.func,resultTemplateComponent:a.oneOfType([a.node,a.func,a.object]),searchComponent:a.oneOfType([a.node,a.func,a.object]),notificationComponent:a.oneOfType([a.node,a.func,a.object]),extraAccountInfoComponent:a.oneOfType([a.node,a.func,a.object]),showFooter:a.bool},displayName:"Header",mixins:[w,E],statics:{className:{style:{container:{wrapper:"_getClassNameContainerWrapper"}}},componentConfig:{name:"componentHeader",filter:"uh"},initializeAction:p,storeListeners:[k]},_getClassNameContainerWrapper:function(){var e=[],t=["style","container"];return e.push(this.getClassName(T,t.concat(["wrapper_1"]))),e.push(this.getClassName(T,t.concat(["wrapper_2"]))),e.push(this.getClassName(T,t.concat(["wrapper_7"]))),c.isEnabled(this.context.conf.getIn(["ui","topbar"]))&&c.isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?e.push(this.getClassName(T,t.concat(["wrapper_4"]))):e.push(this.getClassName(T,t.concat(["wrapper_3"]))),c.isEnabled(this.context.conf.getIn(["ui","topbarSticky"]))?e.push(this.getClassName(T,t.concat(["wrapper_5"]))):e.push(this.getClassName(T,t.concat(["wrapper_6"]))),c.isEnabled(this.context.conf.getIn(["featureSwitches","navrailCollapse"]))&&e.push(this.getClassName(T,t.concat(["wrapper_8"]))),c.isEnabled(this.context.conf.getIn(["ui","partnerTheme"]))&&e.push(this.getClassName(T,t.concat(["wrapper_9"]))),e=s(e),i("_getClassNameContainerWrapper",e,arguments),e},_getNodeHelp:function(){return c.isEnabled(this.context.conf.getIn(["ui","help"]))?r.createElement(C,{data:this.state.data,methods:{click:this._handleClick,update:this._handleUpdate}}):null},_getNodeLightweight:function(){var e=null;return this.context.session.isLightWeightBrowser&&(e=r.createElement("style",null,c.lightWeightBackground(this.getSite(T)||this.context.session.dimensions.site,this.context.session.dimensions.lang,this.context.session.dimensions.region,this.context.conf.getIn(["ui","theme"])))),e},_getNodeLogo:function(){return c.isEnabled(this.context.conf.getIn(["ui","logo"]))?r.createElement(b,{instanceId:this.props.id}):null},_getNodeMail:function(){return c.isEnabled(this.context.conf.getIn(["ui","mail"]))?r.createElement(v,null):null},_getNodeNotifications:function(){return c.isEnabled(this.context.conf.getIn(["ui","notifications"]))?this.props.notificationComponent||r.createElement(N,null):null},_getNodeProfile:function(){return c.isEnabled(this.context.conf.getIn(["ui","profile"]))?r.createElement(y,{triggerAccountFetch:this._triggerAccountFetch,extraAccountInfoComponent:this.props.extraAccountInfoComponent,componentProps:{componentConfig:{uh:this.props.componentConfig.uh}}}):null},_getNodeSearch:function(){return c.isEnabled(this.context.conf.getIn(["ui","search"]))?r.createElement(S,{enableFocusBeacon:this.props.enableFocusBeacon,footerTemplateComponent:this.props.footerTemplateComponent,onSubmit:this.props.onSubmit,resultTemplateComponent:this.props.resultTemplateComponent,searchComponent:this.props.searchComponent,showFooter:this.props.showFooter}):null},_getNodeTopbar:function(){return c.isEnabled(this.context.conf.getIn(["ui","topbar"]))?r.createElement(I,null):null},_getContextConf:function(){return o.fromJS(this.props.componentConfig.uh)},_getContextTheme:function(){var e=this._getContextConf();if(!e)return o.Map();var t=o.Map({site:this.getSite(T)||this.context.session.dimensions.site,theme:e.getIn(["ui","theme"])}),n=this.stores.theme.getCachedData(t,this.context.renderTarget&&this.context.renderTarget.isActive());return o.Map.isMap(n)?n.get("uh",o.Map()):o.Map()},_handleClick:function(e){var t=this.state.data,n=t;t.get("is_open").map((function(t,s){n=n.setIn(["is_open",s],e===s&&!t)})),i("_handleClick","name",e),i("_handleClick","prev",t),i("_handleClick","next",n),t!==n&&this.setState({data:n})},_triggerAccountFetch:function(){this.executeAction(g.getAccounts)},_handleUpdate:function(e){var t,n=this.state.data;t=n.merge(e),i("_handleUpdate","data",e),i("_handleUpdate","prev",n),i("_handleUpdate","next",t),n!==t&&this.setState({data:t})},_startAutoPushSubscription:function(){var e=(this.props.componentConfig.uh||{}).notifications||{},t=e.subscriptionHelper||{};if(t.enabled&&e.autoInitSubscription&&c.isBackoffTimerExceeded(e.notifPromoBackoffDuration,"bnpt")){if(window&&window.Notification&&"default"!==window.Notification.permission)return;var n=Object.assign({trackingParams:{aid:e.promoId,elm:"btn",itc:1,sec:"uh-interstisial",subsec:"browser-prompt"},showInstructionsDefault:!1,showInstructionsDenied:!1},t.subscriptionPayload);this.executeAction(_,n)}},getChildContext:function(){return{conf:this._getContextConf(),theme:this._getContextTheme()}},getData:function(){var e=this.stores.route,t=e&&e.getCurrentNavigate(),n=this.context.session,s=this.stores.accountSwitch,a=c.getPageUrl(t,n.host,n.protocol),r=o.Map({page_url:a,is_open:{help:!1},addMouseHandler:s.getIsEnabled()&&!s.getAccountsReceived()});return i("getData",r),r},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(x),this.stores.route=this.getStore("RouteStore"),this.stores.theme=this.getStore(M),this.stores.accountSwitch=this.getStore(k),i("getInitialState",this.stores.theme.getState()),{data:this.getData()}},componentWillMount:function(){var e=m(this.props,["componentConfig","uh","notifications","subscriptionHelper"],{});e.enabled&&this.executeAction(f,e)},componentDidMount:function(){this.mounted=!0,this.executeAction(d),this._pushSubscriptionTimer=setTimeout(this._startAutoPushSubscription,500)},componentWillUnmount:function(){this.mounted=!1,clearTimeout(this._pushSubscriptionTimer)},onChange:function(){if(this.mounted){var e=this.getData();i("onChange","data",e),this.setState({data:e})}},shouldComponentUpdate:function(e,t){var n=!0;return this.context.renderTarget&&(n=this.context.renderTarget.isActive()),n},render:function(){var e,t=this.state.data;return this.context.conf=this._getContextConf(),this.context.theme=this._getContextTheme(),i("render","data",t),!c.isEnabled(this.context.conf.getIn(["data","action","load_theme","client","enabled"],!1))||this.context.theme&&0!==this.context.theme.size?(t.get("addMouseHandler")&&(i("account switch mouse handler added"),e=this._triggerAccountFetch),r.createElement("div",{onMouseMove:e},this._getNodeLightweight(),this._getNodeTopbar(),r.createElement("div",{id:this.props.id,className:this.getClassName(T,["style","container","wrapper"]),"data-name":u,"data-version":h},r.createElement("div",{className:this.getClassName(T,["style","container","content"])},this._getNodeLogo(),this._getNodeSearch(),r.createElement("ul",{id:"uh-right",className:this.getClassName(T,["style","container","right_list"])},this._getNodeProfile(),this._getNodeNotifications(),this._getNodeMail(),this._getNodeHelp()))))):null}});e.exports=T},2592:function(e,t,n){"use strict";var s=n(1099),i=s.isClient(),o=n(2158);e.exports=function(e,t,n){if(i&&t){var a=t||{};if(a.enabled){s.initSubscriptionHelper(e,a);var r=e.subscriptionHelper&&e.subscriptionHelper.getSubscriptionHelper();if(!r)return void(n&&n());setTimeout((function(){r.addPromoButtonDelegator(),r.showPushSubscriptionPromos(),r.checkIsSupportedBrowser()&&(a.enableChurnCheck||a.enableSubsResyncIfError)&&window&&window.Notification&&"granted"===window.Notification.permission&&s.isBackoffTimerExceeded(a.churnCheckBackoff,"bnct")?(s.setBackoffSubcookie("bnct"),r.checkSubscriptionChurn((function(t,s){var i=s.isOnboardError;if(!t&&(i||s.pushManagerChurn)&&a.resubscribeOnChurn){var r="subChurn";i&&a.enableSubsResyncIfError&&(r="subResync");var l=Object.assign({trackingParams:{sec:r,subsec:"browser-prompt"},showInstructionsDefault:!1,showInstructionsDenied:!1},a.subscriptionPayload);e.executeAction(o,l),n&&n()}else n&&n(t)}))):n&&n()}),500)}else n&&n()}else n&&n()}},2593:function(e,t,n){"use strict";var s=n(0)("uh:components:help/Help"),i=n(182),o=n(4),a=n(2),r=n(10),l=n(1099),c=n(87),u=n(2594),h=n(2597),m=n(1103),p=n(16),d=n(1140),g=r({contextTypes:{conf:o.object.isRequired,session:o.object.isRequired},displayName:"Help",mixins:[m,p],propTypes:{data:o.object,methods:o.object},statics:{base:["help"],metaData:{done_url:"_getMetaDataDoneUrl"}},_formatItem:function(e,t){var n=e,o=n;o=o.set("id",t);var a=this._formatTitle(t,n.get("title"));if(a&&(o=o.set("title",a)),!n.get("link")&&n.get("url")){var r=this.context.session.dimensions,u=["url","query"],h=n.get("url")||i.Map();"account_info"===t&&(h=h.mergeDeep({query:{".intl":n.getIn(u.concat([".intl"]))||r.intl,".lang":n.getIn(u.concat([".lang"]))||r.lang,".src":n.getIn(u.concat([".src"]))||l.getSite(this.context)||r.site,".done":this.getConf(g,u.concat([".done"]))||this._getMetaDataDoneUrl()}})),o=(o=o.set("link",c.format(h.toJS()))).set("follow",!0)}return s("_formatItem",n,o),o},_formatTitle:function(e,t){return t},_getMetaDataDoneUrl:function(){var e=this.getMetaData(g,"page_url");return s("_getMetaDataDoneUrl",e),e},_processItems:function(e){return e.filter((function(e){return e.get("order")>0})).map(function(e,t){return e.merge(this._formatItem(e,t))["delete"]("url")}.bind(this)).sort((function(e,t){return parseInt(e.get("order"))-parseInt(t.get("order"))})).toList()},getData:function(){var e=this.getMetaData(g,"items")||i.fromJS(this.getConf(g,["data","items"])),t=i.Map({is_open:this.getMetaData(g,["is_open","help"]),items:this._processItems(e)});return s("getData",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(d),{data:this.getData()}},render:function(){var e=this.getData();return s("render","data",e),a.createElement(this.context.session.isLightWeightBrowser?h:u,{data:e,methods:this.props.methods})}});e.exports=g},2594:function(e,t,n){"use strict";var s=n(0)("uh:components:help:HelpDefaultView"),i=n(4),o=n(2),a=n(10),r=n(34),l=n(1831),c=n(321).Icon,u=n(2595),h=n(1103),m=n(16),p=n(1105),d=a({contextTypes:{conf:i.object.isRequired,session:i.object.isRequired,theme:i.object.isRequired},displayName:"HelpDefaultView",mixins:[h,m,p],propTypes:{data:i.object,methods:i.object},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)},onMouseEnter:function(e){var t={is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},onMouseLeave:function(e){var t={is_open:{help:this.isPointInPolygons({x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},_getNodeIcon:function(){var e=o.createElement(c,{asset:this.getClassName(d,["style","icon","settings","asset"]),height:this.getClassName(d,["style","icon","settings","size"]),color:this.getClassName(d,["style","icon","settings","color"])});return o.createElement(l,{className:this.getClassName(d,["style","icon","settings","wrapper"]),id:"uh-help",href:"#",onClick:this._handleClick,onHoverPayload:this.getClassName(d,["onHoverI13n"]),hasPanel:this.getMetaData(d,"is_open"),parentType:"cogWheel",ref:"uh-help-menu-icon"},e,o.createElement("b",{className:this.getClassName(d,["style","icon","settings","content"])},this.getMetaData(d,"name")))},_getNodeMenuPanel:function(){if(!this.getMetaData(d,"is_open"))return null;var e=this.props.methods;return e.is_point_in_polygons=this.isPointInPolygons,o.createElement(u,{data:this.props.data,methods:e,ref:"uh-help-menu-panel"})},_handleClick:function(e){e.preventDefault();s("_handleClick","id","help"),this.props.methods.click.call(this,"help")},isPointInPolygons:function(e){var t=!1;return this.getPolygons().map((function(n,i){s("is_point_in_polygons",i,e,n),e.x>=n.left&&e.x<n.right&&e.y>=n.top&&e.y<n.bottom&&(t=!0)})),s("is_point_in_polygons",t),t},getPolygons:function(){var e={icon:r.findDOMNode(this.refs["uh-help-menu-icon"]),panel:this.refs["uh-help-menu-panel"]},t={},n=[];return Object.keys(e).forEach((function(s){if(e[s]&&e[s].getBoundingClientRect&&(n.push(e[s].getBoundingClientRect()),t[s]=e[s].getBoundingClientRect(),"panel"===s)){var i={};i.top=t.icon.bottom,i.bottom=t.panel.top,i.left=t.icon.left,i.right=t.icon.right,i.height=i.bottom-i.top,i.width=i.right-i.left,n.push(i)}})),n},render:function(){return s("render"),o.createElement("li",{className:this.getClassName(d,["style","container","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this._getNodeIcon(),this._getNodeMenuPanel())}});e.exports=d},2595:function(e,t,n){"use strict";var s=n(0)("uh:components:help/HelpMenuPanel"),i=n(182),o=n(4),a=n(2),r=n(10),l=n(34),c=n(2596),u=n(1103),h=n(1105),m=r({contextTypes:{conf:o.object.isRequired,theme:o.object.isRequired},displayName:"HelpMenuPanel",mixins:[u,h],propTypes:{data:o.object.isRequired},statics:{base:["help"]},componentWillMount:function(){this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this._getNodeMenuItems=this._getNodeMenuItems.bind(this)},onMouseEnter:function(e){var t={is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},onMouseLeave:function(e){var t={is_open:{help:this.props.methods.is_point_in_polygons.call(this,{x:e.clientX,y:e.clientY})}};this.props.methods.update.call(this,t)},_getNodeMenuItems:function(){var e=this.props.data.get("items");return e&&0!==e.size?e.map((function(e,t){return a.createElement(c,{key:e.get("id"),data:i.fromJS({item:e,index:t})})})):null},getBoundingClientRect:function(){return l.findDOMNode(this).getBoundingClientRect()},render:function(){return s("data",this.props.data),a.createElement("div",{className:this.getClassName(m,["style","panel","wrapper"]),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.createElement("ul",{id:"uh-help-menu-panel",className:this.getClassName(m,["style","panel","content"])},this._getNodeMenuItems()))}});e.exports=m},2596:function(e,t,n){"use strict";var s=n(0)("uh:components:help/HelpMenuItem"),i=n(182),o=n(1099),a=n(4),r=n(2),l=n(10),c=n(323),u=n(1103),h=n(1105),m=i.fromJS({i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}}),p=l({contextTypes:{conf:a.object.isRequired,theme:a.object.isRequired},displayName:"HelpMenuItem",mixins:[u,h],propTypes:{data:a.object.isRequired},statics:{base:["help"],i13n:m.get("i13n")},_getClassWrapper:function(){return this.getClassName(p,["style","link","wrapper"])},_getClassContent:function(){return this.getClassName(p,["style","link","content"])},_getFollow:function(){return this.props.data.getIn(["item","follow"])},_getId:function(e,t){return o.strExpand(this.props.data.getIn(["item","id"]),e,t)},_getLink:function(){return this.props.data.getIn(["item","link"])},_getOrder:function(){return this.props.data.getIn(["item","order"])+""},_getTitle:function(){return this.props.data.getIn(["item","title"])},render:function(){s("data",this.props.data);var e=this._getTitle();return e?(e=e.replace(/ /g,"_"),r.createElement("li",{id:this._getId("uh-mi-"),className:this._getClassWrapper()},r.createElement(c,{className:this._getClassContent(),followLink:this._getFollow(),href:this._getLink(),model:this.getI13n(p,"link",{slk:this._getId("uh-mi-"),subsec:"mi-help",cpos:this._getOrder()})},this.getIntl(e.toUpperCase())))):r.createElement("li",{role:"separator",className:this.getClassName(p,["style","separator","content"])})}});e.exports=p},2597:function(e,t,n){"use strict";var s=n(0)("uh:components:help:HelpLWDefaultView"),i=n(4),o=n(2),a=n(10)({displayName:"HelpLWDefaultView",mixins:[n(1103),n(1105)],propTypes:{data:i.object},statics:{base:["help"]},_getLink:function(e){return e.get("link")},_getTitle:function(e){return e.get("title")},_getDropDownItems:function(e){var t,n;return e.map(function(e,s){if(t=this._getTitle(e),n=this._getLink(e),t&&n)return t=t.replace(/ /g,"_"),o.createElement("option",{value:n,key:s},this.getIntl(t.toUpperCase()))}.bind(this))},_getDropDownMenu:function(){var e=this.props.data.get("items");return e&&0!==e.size?o.createElement("select",{id:"uhLWHelpSelect",className:this.getClassName(a,["style","menulist","wrapper"])},this._getDropDownItems(e)):null},render:function(){s("render");var e=["var form = document.getElementById('uh-LWHelpForm');","form.onsubmit = function () {","var e = document.getElementById('uhLWHelpSelect');","var url = e.options[e.selectedIndex].value;","if (url) {","window.location.href=url;","}","return false;","}"].join(" ");return o.createElement("li",{className:this.getClassName(a,["style","container","wrapper"])},o.createElement("form",{id:"uh-LWHelpForm",name:"form"},this._getDropDownMenu(),o.createElement("button",{className:this.getClassName(a,["style","button","wrapper"]),type:"submit"},this.getIntl("GO_TO_HELP"))),o.createElement("script",{dangerouslySetInnerHTML:{__html:e}}))}});e.exports=a},2598:function(e,t,n){"use strict";var s=n(0)("uh:components:logo:Logo"),i=n(1084),o=n(4),a=n(2),r=n(10),l=n(322).I13nAnchor,c=n(182),u=n(1099),h=n(1103),m=n(16),p=n(1140),d={i13n:{logo:{elm:"btn",itc:"0",slk:"yahoo",subsec:"logo"},partner_logo:{elm:"btn",itc:"0",slk:undefined,subsec:"logo"}}},g=r({contextTypes:{conf:o.object.isRequired,session:o.object.isRequired,theme:o.object.isRequired},propTypes:{instanceId:o.string},displayName:"Logo",mixins:[h,m],statics:{base:["logo"],className:{style:{cobrand:{wrapper:"_getClassNameCobrandWrapper",partner:{content:"_getClassNameCobrandPartnerContent"},yahoo:{content:"_getClassNameCobrandYahooContent"}},container:{wrapper:"_getClassNameContainerWrapper"},country_property:{content:"_getClassNameCountryPropertyContent"},property:{content:"_getClassNamePropertyContent"},yahoo:{content:"_getClassNameYahooContent"}}},conf:{link:"_getConfLink"},i13n:d.i13n,storeListeners:[p]},_getClassNameCobrandWrapper:function(){var e=[];return e.push(this.getClassName(g,["style","cobrand","wrapper_1"])),e.push(this.getClassName(g,["style","cobrand","wrapper_2"])),e=i(e),s("_getClassNameCobrandWrapper",e,arguments),e},_getClassNameCobrandPartnerContent:function(){var e=[];return e.push(this.getClassName(g,["style","cobrand","partner","content_1"])),e.push(this.getClassName(g,["style","cobrand","partner","content_2"])),e=i(e),s("_getClassNameCobrandPartnerContent",e,arguments),e},_getClassNameCobrandYahooContent:function(){var e=[];return e.push(this.getClassName(g,["style","cobrand","yahoo","content_1"])),e.push(this.getClassName(g,["style","cobrand","yahoo","content_2"])),e=i(e),s("_getClassNameCobrandYahooContent",e,arguments),e},_getClassNameContainerWrapper:function(){var e=[];return e.push(this.getClassName(g,["style","container","wrapper_1"])),e.push(this.getClassName(g,["style","container","wrapper_2"])),e=i(e),s("_getClassNameContainerWrapper",e,arguments),e},_getClassNameCountryPropertyContent:function(){var e=[];return e.push(this.getClassName(g,["style","country_property","content_1"])),e.push(this.getClassName(g,["style","country_property","content_2"])),e=i(e),s("_getClassNameCountryPropertyContent",e,arguments),e},_getClassNamePropertyContent:function(){var e=[];return e.push(this.getClassName(g,["style","property","content_1"])),e.push(this.getClassName(g,["style","property","content_2"])),e=i(e),s("_getClassNamePropertyContent",e,arguments),e},_getClassNameYahooContent:function(){var e=[];return e.push(this.getClassName(g,["style","yahoo","content_1"])),e.push(this.getClassName(g,["style","yahoo","content_2"])),e=i(e),s("_getClassNameYahooContent",e,arguments),e},_getConfLink:function(){var e=this.context.session,t=this.state.data.get("site")||e.dimensions.site,n=u.getLogoUrl(e.dimensions.intl,e.protocol,t);return s("_getConfLink",n,arguments),n},_getIdSelectorWithParentPrefix:function(e){return this.props.instanceId?"#"+this.props.instanceId+" #"+e:"#"+e},_getNodeLightweight:function(){return this.context.session.isLightWeightBrowser?a.createElement("style",null,u.lightWeightLogo("#uh-logo",this.getClassName(g,["style","template"]))):null},_getNodeLogo:function(){var e,t=this.context.conf,n=null,i=this.context.session.dimensions,o=this.getIntl(this.getConf(g,"text")||"YAHOO");return u.isEnabled(t.getIn(["ui","logo"]))?("cobrand"===(e=this.getClassName(g,["style","template"]))?(s("_getNodeLogo","template","cobrand"),n=a.createElement("div",null,a.createElement("style",null,u.mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(g,["style","cobrand","image_1x"]),this.getClassName(g,["style","cobrand","image_2x"]))),this._getNodeLightweight(),a.createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(g,["style","cobrand","wrapper"])},a.createElement(l,{id:"partner-logo",className:this.getClassName(g,["style","cobrand","partner","content"]),href:this.getConf(g,"partnerLink"),i13nModel:this.getI13n(g,"partner_logo",{slk:i.partner})},a.createElement("b",{className:"Hidden"},i.partner)),a.createElement(l,{id:"uh-logo",className:this.getClassName(g,["style","cobrand","yahoo","content"]),href:this.getConf(g,"link"),i13nModel:this.getI13n(g,"logo")},a.createElement("b",{className:"Hidden"},o))))):"cobrandSplit"===e?(s("_getNodeLogo","template","cobrand"),n=a.createElement("div",null,a.createElement("style",null,u.mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo-cobrand"),this.getClassName(g,["style","cobrand","image_1x"]),this.getClassName(g,["style","cobrand","image_2x"]))),this._getNodeLightweight(),a.createElement("div",{id:"uh-logo-cobrand",className:this.getClassName(g,["style","cobrand","wrapper"])},a.createElement(l,{id:"partner-logo",className:this.getClassName(g,["style","cobrand","partner","content"]),href:this.getConf(g,"partnerLink"),i13nModel:this.getI13n(g,"partner_logo",{slk:i.partner})},a.createElement("b",{className:"Hidden"},i.partner))))):"country_property"===e?(s("_getNodeLogo","template","country_property"),n=a.createElement("div",null,a.createElement("style",null,u.mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(g,["style","country_property","image_1x"]),this.getClassName(g,["style","country_property","image_2x"]))),this._getNodeLightweight(),a.createElement(l,{id:"uh-logo",className:this.getClassName(g,["style","country_property","content"]),href:this.getConf(g,"link"),i13nModel:this.getI13n(g,"logo")},a.createElement("b",{className:"Hidden"},o)))):"property"===e?(s("_getNodeLogo","template","property"),n=a.createElement("div",null,a.createElement("style",null,u.mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(g,["style","property","image_1x"]),this.getClassName(g,["style","property","image_2x"]))),this._getNodeLightweight(),a.createElement(l,{id:"uh-logo",className:this.getClassName(g,["style","property","content"]),href:this.getConf(g,"link"),i13nModel:this.getI13n(g,"logo")},a.createElement("b",{className:"Hidden"},o)))):(s("_getNodeLogo","template","yahoo"),n=a.createElement("div",null,a.createElement("style",null,u.mediaBackgroundImage(this._getIdSelectorWithParentPrefix("uh-logo"),this.getClassName(g,["style","yahoo","image_1x"]),this.getClassName(g,["style","yahoo","image_2x"]))),this._getNodeLightweight(),a.createElement(l,{id:"uh-logo",className:this.getClassName(g,["style","yahoo","content"]),href:this.getConf(g,"link"),i13nModel:this.getI13n(g,"logo")},a.createElement("b",{className:"Hidden"},o)))),n):null},getData:function(){return c.Map({site:u.getSite(this.context)||this.context.session.dimensions.site})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(p),s("getInitialState","data",this.getData()),{data:this.getData()}},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return a.createElement("div",{className:this.getClassName(g,["style","container","wrapper"]),style:this.getClassName(g,["style","container","inline"])},this._getNodeLogo())}});e.exports=g},2599:function(e,t,n){"use strict";var s=n(1084),i=n(0)("uh:components:mail:Mail"),o=n(182),a=n(4),r=n(2),l=n(10),c=n(1099),u=n(87),h=n(321).Icon,m=n(1898),p=n(2600),d=n(1831),g=n(1103),f=n(1833),_=n(16),C=n(1105),b=n(1140),v=n(325),N={i13n:{mail:{elm:"btn",itc:"0",slk:"mail",subsec:"mail"}},state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},y=l({contextTypes:{conf:a.object.isRequired,session:a.object.isRequired,theme:a.object.isRequired},displayName:"Mail",mixins:[g,_,f,C],statics:{base:["mail"],className:{style:{button:{content:"_getClassNameContent",icon:"_getClassNameIcon",text:"_getClassNameText"}}},i13n:N.i13n,state:N.state,storeListeners:[b,v]},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(y,["style","button","content_1"])),e.push(this.getClassName(y,["style","button","content_2"])),e=s(e),i("_getClassNameContent",e,arguments),e},_getClassNameIcon:function(){var e=this.getClassName(y,["style","button","icon_1"]);return this.state.data.get("hover")&&(e=this.getClassName(y,["style","button","icon_2"])),i("_getClassNameIcon",e,arguments),e},_getClassNameText:function(){var e=this.getClassName(y,["style","button","text_1"]);return this.state.data.get("hover")&&(e=this.getClassName(y,["style","button","text_2"])),i("_getClassNameText",e,arguments),e},_getMetaDataLink:function(){var e,t=this.context.session.dimensions,n=["urls","mail","query"],s=this.getConf(y,["urls","mail"])||o.Map();return s=s.mergeDeep({query:{".intl":this.getConf(y,n.concat([".intl"]))||t.intl,".lang":this.getConf(y,n.concat([".lang"]))||t.lang,".partner":this.getConf(y,n.concat([".partner"]))||t.partner,".src":this.getConf(y,n.concat([".src"]))||this._getMetaDataSite()}}).toJS(),e=u.format(s),i("_getMetaDataLink",e),e},_getMetaDataSite:function(){var e=null;return e=this.state.data.get("site"),i("_getMetaDataSite",e,arguments),e},_getMetaDataText:function(){var e=null;return e=this.getIntl("MAIL"),this.context.session&&this.context.session.isCorpUser&&(e=this.getIntl("CORPMAIL")),i("_getMetaDataText",e,arguments),e},_getNodeButton:function(){var e=this.getConf(y,["data","icon","mail"]);return r.createElement(d,{id:"uh-mail",className:this.getClassName(y,["style","button","content"]),href:this._getMetaDataLink(),i13nModel:this.getI13n(y,"mail"),hasPanel:this.state.isVisible||this.state.data.get("state")===y.state.signed_out,onHoverPayload:this.getClassName(y,["onHoverI13n"]),style:this.getClassName(y,["style","button","inline"])},r.createElement(h,{asset:e.get("asset").toJS(),height:e.get("height")||e.get("size"),width:e.get("width")||e.get("size"),color:this.getClassName(y,["style","button","icon"])}),r.createElement("b",{className:this.getClassName(y,["style","button","text"])},this._getMetaDataText()),this._getNodeCount())},_getNodeCount:function(){var e=null;return this.state.data.get("state")!==y.state.signed_out&&this.context.conf.getIn(["ui","mailcount"])&&(e=r.createElement(m,{mail:this.context.conf.get("mail")})),e},_getNodePreview:function(){var e=null;return this.state.data.get("state")!==y.state.signed_in&&this.state.data.get("state")!==y.state.middle_auth||!this.context.conf.getIn(["ui","mailpreview"])||(e=r.createElement(p,{mail:this.context.conf.get("mail"),hoverState:this.state.data.get("hover")})),e},getData:function(){var e,t=this.stores.user;return e=t.isSignedIn()?y.state.signed_in:t.isRecognized()?y.state.middle_auth:y.state.signed_out,o.Map({alias:t.getAlias(),hover:!1,site:c.getSite(this.context)||this.context.session.dimensions.site,state:e})},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(b),this.stores.user=this.getStore(v),{data:this.getData()}},onChange:function(){var e=this.getData();this.mounted&&(i("onChange","data",e),this.setState({data:e}))},handleMouseEnter:function(e){this.setState({data:this.getData().set("hover",!0)}),this.toggleMenu(e)},handleMouseLeave:function(e){this.setState({data:this.getData().set("hover",!1)}),this.toggleMenu(e)},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},render:function(){return i("render","data",this.state.data),r.createElement("li",{className:this.getClassName(y,["style","button","wrapper"]),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this._getNodeButton(),this._getNodePreview())}});e.exports=y},2600:function(e,t,n){"use strict";var s=n(4),i=n(2),o=n(10),a=n(1617),r=n(1832),l=n(2601),c=n(1103),u=n(16),h=n(1548),m=o({displayName:"MailPreview",mixins:[c,u],statics:{base:["mail"],storeListeners:[h]},propTypes:{mail:s.object,hoverState:s.bool},getDefaultProps:function(){return{hoverState:!1}},getInitialState:function(){var e=this.props.mail.toJS(),t=e.preview,n=a(t.api);return this.panelConfig={composeUrl:e.compose.url||"https://mail.yahoo.com/compose",gotoUrl:e.url||"https://mail.yahoo.com",msgUrl:t.urls.message||"https://mrd.mail.yahoo.com/msg?fid=Inbox&src=hp&mid="},this.fetchConfig={url:n,api:e.api,body:t.body,timeout:t.timeout,prefix:t.jsonp.prefix,useCors:this.context.conf.getIn(["mail","useCors"])},this.mailStore=this.getStore(h),this.fetchInterval=t.fetchInterval,this.lastFetchedTime=null,{mailItems:null}},componentWillReceiveProps:function(e){var t=Date.now();e.hoverState&&t-this.lastFetchedTime>this.fetchInterval&&(this._fetch(),this.lastFetchedTime=t)},shouldComponentUpdate:function(e,t){return null!==t.mailItems||!this.props.hoverState&&e.hoverState},onChange:function(e){var t=this._getMailPreviewFromStore(),n=this._getUnauthorizedUserFromStore();this.setState({mailItems:t,unauthorizedUser:n})},_fetch:function(){this.executeAction(r.getMailPreview,this.fetchConfig)},_getMailPreviewFromStore:function(){return this.mailStore.getMailPreview()},_getUnauthorizedUserFromStore:function(){return this.mailStore.getUnauthorizedUser()},render:function(){return i.createElement("div",{id:"uh-mail-preview",className:"Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px) Pos(a) End(0) T(40px) W(280px) D(n) uh-menu-open_D(b)"},i.createElement(l,{items:this.state.mailItems,unauthorizedUser:this.state.unauthorizedUser,panel:this.panelConfig}))}});e.exports=m},2601:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=n(1084),o=n(2),a=n(10),r=n(85).FormattedRelative,l=n(321).Icon,c=n(1738),u=n(322).I13nAnchor,h=a({displayName:"MailItems",mixins:[n(1103)],statics:{base:["mail"]},render:function(){var e=this,t="",n={elm:"itm",itc:"0",slk:"go-to-mail",subsec:"middle-auth"},a=!0;if(e.props.unauthorizedUser){a=!1;t=o.createElement("li",{className:"Ta(c) D(b)"},o.createElement(u,{className:"C(mailLinkHoverColor) C(mailLinkHoverColor):h C(mailLinkHoverColor):v Td(n) Fz(m) Hy(n) Py(16px) D(ib)",href:e.props.panel.gotoUrl,i13nModel:n},e.getIntl("SIGNIN")),e.getIntl("TO_VIEW_MAIL"))}else if(e.props.items&&-1!==e.props.items)a=!1,t=e.props.items.length>0?e.props.items.map((function(t,n){var s,a,l,c,h="";if(t&&t.messageInfo)h=t.messageInfo.from.name,s=t.messageInfo.flags.isRead,a=t.messageInfo.mid,l=t.messageInfo.subject,c=new Date(1e3*t.messageInfo.receivedDate);else{if(!(t&&t.messages&&t.messages.headers&&t.messages.headers.from&&t.messages.headers.date))return null;h=t.messages.headers.from.name||t.messages.messages.headers.from.email,s=t.messages.flags&&t.messages.flags.read?"1":"0",a=t.messages.id,l=t.messages.headers.subject?t.messages.headers.subject:"",c=new Date(1e3*t.messages.headers.date)}var m=i({firstEmail:0===n},"Ta(start)","D(b)"),p=i({"isRead C(textColor)":"1"===s},"D(b)","Px(20px)","Py(15px)","Td(n)","Bgc(#c2dfff):h"),d=i({"Fw(b) C($c-fuji-grey-l)":"0"===s},"D(b)","Fz(13px)","Ell"),g=i({"C($c-fuji-grey-l)":"0"===s},"D(b)","Cl(b)","Ell","Fz(13px)","Pt(4px)"),f=i("Fl(end)","Fz(13px)","C($c-fuji-grey-g)","C($c-fuji-grey-g):h","C($c-fuji-grey-g):v");return o.createElement("li",{key:n,className:m},o.createElement(u,{className:p,href:e.props.panel.msgUrl+a,i13nModel:{elm:"itm",itc:"0",slk:"email",subsec:"mail",cpos:n+1}},o.createElement("div",null,o.createElement("div",{className:f},o.createElement(r,{value:c})),o.createElement("div",{className:d},h)),o.createElement("div",{className:g},l)))})):o.createElement("li",{className:"Ta(c) D(b)"},o.createElement("div",{className:"Fz(m) Hy(n) P(10px)"},e.getIntl("HAVE_NO_NEW_MESSAGES")));else if(e.props.items&&-1===e.props.items){a=!1;t=o.createElement("li",{className:"Ta(c) D(b)"},o.createElement(u,{className:"C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Td(n) Fz(m) Hy(n) P(10px)",href:e.props.panel.gotoUrl,i13nModel:n},o.createElement("div",null,e.getIntl("UNABLE_TO_PREVIEW_MAIL"))))}var h=i({"D(n)":!1===a},"P(10px)","Ti(-9999px)","Bg(uhSpinner)","H(17px)"),m=i({"D(n)":!0===a},"Pos(r)","W(100%)","My(0)","Td(n)");return o.createElement("div",null,o.createElement("div",{className:h}),o.createElement("ul",{className:m},t,!e.props.unauthorizedUser&&o.createElement("li",{className:"Lh(57px) Bdtw(1px) Bdts(s) Bdtc(#e0e0e4) Bgc(#f9f9f9)"},o.createElement(u,{id:"uh-mail-compose",className:"uh-mail-compose Mend(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) Fl(end) Fz(s) Td(n)",href:e.props.panel.composeUrl,i13nModel:{elm:"btn",itc:"0",slk:"compose",subsec:"mail"}},o.createElement(l,s({asset:c,height:"24",width:"24",color:"#000"},{style:{verticalAlign:"middle"},className:"uh-mail-compose:h_Fill(mailLinkHoverColor) uh-mail-compose:h_Stk(mailLinkHoverColor)"})),o.createElement("b",{className:"Mstart(5px)"},e.getIntl("COMPOSE"))),o.createElement(u,{id:"uh-mail-goto",className:"Mstart(16px) C($c-fuji-grey-l) C(mailLinkHoverColor):h C($c-fuji-grey-l):v Fz(13px) D(ib) Fz(s) Ta(start) Td(n)",href:e.props.panel.gotoUrl,i13nModel:{elm:"btn",itc:"0",slk:"go-to-mail",subsec:"mail"}},e.getIntl("GO_TO_MAIL")))))}});e.exports=h},2602:function(e,t,n){"use strict";var s=n(4),i=n(2),o=n(10),a=n(1103),r=n(2159),l=n(1833),c=n(321).Icon,u=n(2603).NotificationClient,h=n(63).RapidManager,m=n(1099),p=n(1),d=o({contextTypes:{beacon:s.func.isRequired,conf:s.object.isRequired,i13n:s.object,subscriptionHelper:s.object},displayName:"Notifications",mixins:[a,l],statics:{base:["notifications"],i13n:{notifications:{elm:"btn",itc:"1",slk:"notifications",sec:"hd",subsec:"notifications-badge"}}},getInitialState:function(){return{}},componentDidMount:function(){this.rapidInstance=h&&h.getRapidInstance(),this.rapidInstance&&this.rapidInstance.addModules&&this.rapidInstance.addModules("uh-notifications",0),this.initNotificationClient()},componentWillMount:function(){this.handleRefreshPanel=m.debounce(this.handleRefreshPanel,200)},componentWillUnmount:function(){this.refreshPanelInterval&&clearInterval(this.refreshPanelInterval)},shouldComponentUpdate:function(e,t){return t.isVisible!==this.state.isVisible},initNotificationClient:function(){var e=this.context.conf&&this.context.conf.get("notifications"),t=e&&e.get("notificationClient").toJS();if(t.enabled&&"false"!==t.enabled){t.badge=t.badge||{},t.service=t.service||{},t.panel=t.panel||{},t.badge.selector="#yns-uh-badge";var n=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");t.service.url=n+(t.historyServicePath||""),t.panel.parentSelector="#yns-notif-panel-container",t.panel.headerMsg=this.getIntl("NOTIFICATIONS")||"",t.panel.notificationCenterNavMsg=this.context.intl.formatMessage({id:"NOTIFICATION_CENTER_NAV_MSG"},{newCount:"{newCount}"})||"",t.panel.errorMsg=this.getIntl("PLEASE_CHECK_BACK_LATER")||"",t.panel.emptyPanelMsg=this.getIntl("NO_NEW_NOTIFICATIONS")||"";var s=e.get("hasNotificationCenterLink");if(s&&"false"!==s||(t.panel.notificationCenterPath=null),u&&!this.notificationClient&&(this.notificationClient=new u(t),this.notificationClient&&this.notificationClient.helpers&&(this.handleRefreshPanel(!0),e.get("polling")))){var i=1e3*e.get("pollingInterval")||3e5;this.refreshPanelInterval=setInterval(this.handleRefreshPanel,i,!0)}this.notificationClient&&this.notificationClient.helpers||this.context.beacon("error","bell_notif",{code:"initializeFail",msg:this.notificationClient?"Validation Failure":"Instantiation Failure"})}},handleRefreshPanel:function(e){var t=this,n=t.getConf(d,["notificationClient","badge","hideClass"]);if(t.notificationClient){var s=m.getNotifTimestampSubcookie();0===s&&m.setBackoffSubcookie("lnct"),t.notificationClient.helpers.refreshPanelNode({matrixParams:{lastUpdate:s}},(function(s,i){if(s)t.context.beacon("error","bell_notif",{code:"refreshFail",msg:s&&s.message});else if(e){var o=t.refs.badgeCount;if(o&&o.className.indexOf(n)<0){t.context.i13n.executeEvent("beacon",{beaconType:"beaconLinkViews",arguments:[{sec:"hd",_links:[{elm:"btn",slk:"notification",subsec:"notification-badge",cat:o.innerText}]},2]})}}else t.resetPanelAccessibility(),m.setBackoffSubcookie("lnct"),t.rapidInstance&&t.rapidInstance.refreshModule&&t.rapidInstance.refreshModule("uh-notifications",2),t.notificationClient.helpers.resetBadge()}))}},handleMouseEnter:function(e){this.notificationClient&&this.notificationClient.helpers&&!this.state.isVisible&&this.handleRefreshPanel(),this.toggleMenu(e)},handleMouseLeave:function(e){this.toggleMenu(e)},resetPanelAccessibility:function(){var e=this.getConf(d,["notificationClient","panel","maxCount"])||0,t=window&&p(window,["document","body","className"],""),n=this.refs.notifPanelContainer.querySelectorAll(".yns-container"),s=n.length;t.indexOf("display-push-promos")<0&&(e+=1);for(var i=e;i<s;i++)n[i].style.display="none"},render:function(){var e=this.getConf(d,["data","icon"]),t=i.createElement(r,{id:"yns-uh-bell",i13nModel:this.getI13n(d,"notifications"),hoverI13Params:this.getI13n(d,"notifications"),hasPanel:this.state.isVisible,"aria-label":this.getIntl("NOTIFICATIONS"),className:"Pos(r)"},i.createElement(c,{asset:e.get("asset").toJS(),height:e.get("size"),width:e.get("size"),color:this.getClassName(d,["style","button","icon"])}),i.createElement("span",{id:"yns-uh-badge",ref:"badgeCount",className:this.getClassName(d,["style","notificationsCount","wrapper_1"])}));return i.createElement("li",{className:this.getClassName(d,["style","button","wrapper"]),onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter,onFocus:this.handleMouseEnter,onBlur:this.handleMouseLeave,id:"uh-notifications"},t,i.createElement("div",{id:"yns-notif-panel-container",ref:"notifPanelContainer",className:"Bxsh(customShadowFlyoutMenu) Bgc(menuBgc) Bdrs(4px) Pos(a) End(0) T(40px) W(380px) D(n) uh-menu-open_D(b) Mah(470px) Ov(h)"}))}});e.exports=d},2603:function(e,t,n){"use strict";e.exports={NotificationClient:n(2604)}},2604:function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=function(){function e(t){i(this,e),this._config=t}return o(e,[{key:"_getRequestUrl",value:function(e){var t=e.url||this._config.service.url;if(t){var n=t.split("?"),s={path:n[0],queryParams:n[1]?n[1].split("&"):[]};n=s.path.split(";"),s.path=n[0],s.matrixParams=n.slice(1);var i=e.queryParams,o=e.matrixParams;o&&Object.keys(o).forEach((function(e){s.matrixParams.push(encodeURIComponent(e)+"="+encodeURIComponent(o[e]||""))})),i&&Object.keys(i).forEach((function(e){s.queryParams.push(encodeURIComponent(e)+"="+encodeURIComponent(i[e]||""))}));var a=s.path;return s.matrixParams.length&&(a+=";"+s.matrixParams.join(";")),s.queryParams.length&&(a+="?"+s.queryParams.join("&")),a}}},{key:"_getRequestBody",value:function(e){return e&&JSON.stringify(e)||""}},{key:"_parseRequestResult",value:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}return{css:(e=e||{}).css,count:e.count,markup:e.html,newCount:e.newCount}}},{key:"read",value:function(e,t){this._attemptRequest("GET",e,t)}},{key:"update",value:function(e,t){this._attemptRequest("PUT",e,t)}},{key:"create",value:function(e,t){this._attemptRequest("POST",e,t)}},{key:"_attemptRequest",value:function(e,t,n){var s=this._config.service.attemptCount;t||(t={});var i=this._getRequestUrl(t),o=this._getRequestBody(t.body);this._sendRequest({body:o,method:e,url:i},s,n)}},{key:"_sendRequest",value:function(e,t,n){var s=this,i=s._config.service,o=1e3*i.attemptDelay,a=(e=e||{},e.url),r=e.body,l=new XMLHttpRequest;l.open(e.method,a),l.responseType=i.responseType,l.timeout=i.timeout;var c=function(){t>0?(t--,setTimeout((function(){s._sendRequest(e,t,n)}),o)):n&&n(new Error("Error: "+l.status+" "+l.statusText),null)};l.onload=function(){if(200===l.status){var t=s._parseRequestResult(l.response||l.responseText);n&&n(null,t,e)}else c()},l.onerror=c,"GET"===e.method?l.send():l.send(r)}}]),e}();function r(e,t){e&&!l(e,t)&&(e.className=e.className+" "+t)}function l(e,t){var n=e&&e.className&&e.className.split(" ");return!!n&&-1!==n.indexOf(t)}function c(e,t){if(e){var n=e.className&&e.className.split(" ");if(n){var s=n.indexOf(t);s>=0&&n.splice(s,1),e.className=n.join(" ")}}}function u(e,t){if(e){if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}var h=function(){function e(t,n){i(this,e);this._config=t,this._markup="",this._request=n}return o(e,[{key:"_replaceAllNotifications",value:function(e){this._markup=e.markup||"",this._newCount=e.newCount&&parseInt(e.newCount,10)||0,this._count=e.count&&parseInt(e.count,10)||0}},{key:"resetNewCount",value:function(){this._newCount=0}},{key:"_requestNotifications",value:function(e,t){var n=this,s=n._config.panel,i={count:s.maxCount,imageTag:s.imageTag};e||(e={}),u(i,e.matrixParams);n._request.read({matrixParams:i},(function(e,s){!e&&s&&n._replaceAllNotifications(s),s=s||{},t&&t(e,s)}))}},{key:"getNotifications",value:function(){return{count:this._count,markup:this._markup,newCount:this._newCount}}},{key:"fetchNotifications",value:function(e,t){this._requestNotifications(e,t)}}]),e}(),m="yns-panel-loading",p="yns-panel",d="yns-hide",g="yns-panel-padding-btm",f=function(){function e(t,n){i(this,e);this._config=t,this._panelNode=null,this._store=n}return o(e,[{key:"_generatePanelMarkup",value:function(e,t){var n=this._config,s=void 0,i=void 0;"undefined"!=typeof window&&(s=window.Notification&&"granted"===window.Notification.permission,i=l(document.body,n.promos.eligibleBodyClass));var o=n.promos.enableNotifOnboard&&!s&&i?'<li class="yns-container yns-promo"><div class="yns-link"><img class="yns-img" src="https://s.yimg.com/cv/apiv2/notifications/default-notif-img.png-168x168.png" /><div class="yns-content"><span class="yns-promo-title yns-title">{notifOnboardMsg}</span><span class="yns-promo-button"><button class="yns-promo-ctr js-push-subscribe" data-subscription-topic="{subscriptionTopic}" data-ylk="sec:hd;subsec:notifications-promo;slk:Notify Me;" data-subscription-ylk="sec:hd;subsec:notifications-promo;" >{notifOnboardBtnLabel}</button></span></div></div></li>':"";o&&(o=o.replace("{notifOnboardBtnLabel}",n.promos.notifOnboardBtnLabel).replace("{notifOnboardMsg}",n.promos.notifOnboardMsg).replace("{subscriptionTopic}",n.promos.subscriptionTopic));var a=t.newCount>n.panel.maxCount?t.newCount:"",r=n.panel.notificationCenterPath,c=r?"":d,u=n.panel.headerMsg?"":" "+d,h=r?g:"",m=void 0;t.count?m=t.markup:m='<li class="yns-container yns-empty"><div class="yns-content">{emptyPanelMsg}</div></li>'.replace("{emptyPanelMsg}",n.panel.emptyPanelMsg);return e=e.replace("{notifMarkup}",m).replace("{promoMarkup}",o).replace("{hideClass}",c).replace("{notifCenterLink}",r).replace("{paddingClass}",h).replace("{headerMsg}",n.panel.headerMsg).replace("{hideHeaderClass}",u).replace(/{notificationCenterNavMsg}/g,n.panel.notificationCenterNavMsg).replace(/{newCount}/g,a)}},{key:"render",value:function(e,t){if(this._panelNode){var n=void 0,s=this._panelNode,i=void 0,o=void 0;switch(e){case"expanded_panel":n='<div class="yns-panel-header{hideHeaderClass}"><span class="yns-panel-header-title">{headerMsg}</span></div><div class="yns-panel-data"><ul class="yns-notifications {paddingClass}">{promoMarkup}{notifMarkup}</ul></div><div class="yns-panel-footer-action {hideClass}"><a class="yns-navigate-center" href="{notifCenterLink}" data-ylk="sec:hd;subsec:notifications-viewall;slk:{notificationCenterNavMsg};">{notificationCenterNavMsg}</a></div>',o=this._store.getNotifications(),i=this._generatePanelMarkup(n,o),s.innerHTML=i;break;case"error_panel":i=(n='<div class="yns-panel-error"><span> {errorMsg} </span></div>').replace("{errorMsg}",this._config.panel.errorMsg),s.innerHTML=i}t&&t()}else t&&t(new Error("No panel parent"))}},{key:"createPanelParentNode",value:function(e){e&&(e.innerHTML='<div class="yns-panel" id="yns-panel"></div>',this._panelNode=document.getElementById(p))}},{key:"updateBadgeNode",value:function(e){if(e){var t=this._store.getNotifications().newCount,n=this._config.badge.maxCount;if(t)e.innerHTML=t>n?n+"+":t;else e.innerHTML=""}}},{key:"addStyles",value:function(e){if(e&&"undefined"!=typeof window){var t=document.getElementById(this._config.panel.styleTagId);t||((t=document.createElement("style")).type="text/css",t.id=this._config.panel.styleTagId,t.innerText=e,document.head.appendChild(t))}}}]),e}(),_=function(){function e(t,n,s){i(this,e);this._store=n,this._view=s,this._config=t;var o=this._config.panel;this._panelParentNode=document.querySelector(o.parentSelector),this._badgeNode=this._config.badge.selector&&document.querySelector(this._config.badge.selector),this._indicatorNode=o.indicatorSelector&&document.querySelector(o.indicatorSelector)}return o(e,[{key:"createPanelParentNode",value:function(){this._view.createPanelParentNode(this._panelParentNode),this._notifPanelNode=document.getElementById(p)}},{key:"refreshPanelNode",value:function(e,t){var n=this;r(n._notifPanelNode,m),n._store.fetchNotifications(e,(function(e,s){e?n._notifPanelNode.innerHTML||(n._view.render("error_panel"),r(n._notifPanelNode,m)):(n._view.render("expanded_panel"),n._view.updateBadgeNode(n._badgeNode),n._showBadge(),n._showIndicator(),n._view.addStyles(s.css)),c(n._notifPanelNode,m),t&&t(e,s)}))}},{key:"resetBadge",value:function(){this._store.resetNewCount(),this._view.updateBadgeNode(this._badgeNode),r(this._badgeNode,this._config.badge.hideClass)}},{key:"_showIndicator",value:function(){this._indicatorNode&&(this._store.getNotifications().newCount?r(this._indicatorNode,this._config.panel.indicatorClass):c(this._indicatorNode,this._config.panel.indicatorClass))}},{key:"_showBadge",value:function(){this._store.getNotifications().newCount?c(this._badgeNode,this._config.badge.hideClass):r(this._badgeNode,this._config.badge.hideClass)}}]),e}(),C={promos:{eligibleBodyClass:"display-push-promos",enableNotifOnboard:!0,notifOnboardBtnLabel:"Notify Me",notifOnboardMsg:"Get Notifications for Your Favorite Topics",subscriptionTopic:"gondor_homerun_news"},badge:{hideClass:"",maxCount:5,selector:""},panel:{emptyPanelMsg:"You have no new notifications.",errorMsg:"",headerMsg:"Notifications",imageTag:"img:40x40|2|80",indicatorClass:"yns-indicator",indicatorSelector:null,maxCount:6,notificationCenterNavMsg:"View all {newCount} notifications",notificationCenterPath:"",styleTagId:"notificationStyles",parentSelector:null},service:{attemptCount:2,attemptDelay:1,url:null,responseType:"json",timeout:1500}},b=function(){function e(t){i(this,e);this.config=this._parseConfig(t),this._validateRequiredConfigs()&&(this._request=new a(this.config),this._store=new h(this.config,this._request),this._view=new f(this.config,this._store),this._panelController=new _(this.config,this._store,this._view),this._panelController.createPanelParentNode(),this._assignHelperMethods())}return o(e,[{key:"_parseConfig",value:function(e){var t={};for(var n in u(t,C),t)if(t.hasOwnProperty(n)){var i=t[n],o=e[n];"object"===(void 0===i?"undefined":s(i))?u(i,o):t[n]=e[n]}return t}},{key:"_validateRequiredConfigs",value:function(){var e=this.config;return!(!e.panel.parentSelector||!e.service.url)}},{key:"_assignHelperMethods",value:function(){var e=this;e.helpers={refreshPanelNode:e._panelController.refreshPanelNode.bind(e._panelController),resetBadge:e._panelController.resetBadge.bind(e._panelController),resetIndicator:function(){c(e._panelController._indicatorNode,e.config.panel.indicatorClass)}}}}]),e}();e.exports=b},2605:function(e,t,n){"use strict";var s=n(0)("uh:components:profile:Profile"),i={get:n(86)},o=n(16),a=n(182),r=n(4),l=n(2),c=n(10),u=n(1099),h=n(1621),m=n(2606),p=n(2607),d=n(2160),g=n(2161),f=n(1140),_=n(1136),C=n(325),b=c({displayName:"Profile",mixins:[o],statics:{storeListeners:[f,_,C],state:{middle_auth:"middle_auth",signed_in:"signed_in",signed_out:"signed_out"}},propTypes:{triggerAccountFetch:r.func,extraAccountInfoComponent:r.oneOfType([r.node,r.func,r.object]),componentProps:r.object},contextTypes:{conf:r.object.isRequired,session:r.object.isRequired},getConf:function(e){var t=this.context.conf.get("profile"),n=null;switch(e){case"mode":n=t.get("mode");break;case"defaultImg":n=t.get("defaultImg");break;case"authStateCheck":n=t.get("authStateCheck")}return n},getData:function(){var e,t=this.stores.profile,n=this.stores.route,s=this.stores.user,i=n&&n.getCurrentNavigate(),o=this.context.session,r=s&&s.getFirstName()||t&&t.getProfile().nickName;e=u.getPageUrl(i,o.host,o.protocol);var l,c=t&&this.validateImage(t.getProfile().imageUrl)||this.getConf("defaultImg")||null;return l=s.isSignedIn()?b.state.signed_in:s.isRecognized()?b.state.middle_auth:b.state.signed_out,a.Map({alias:s.getAlias(),first_name:r,guid:s.getGUID(),image:c,page_url:e,site:u.getSite(this.context)||this.context.session.dimensions.site,state:l,yid:s.getLogin()})},validateImage:function(e){return e&&!/(profile_|39361574426_98028a_)/.test(e)?e:null},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(f),this.stores.profile=this.getStore(_),this.stores.route=this.getStore("RouteStore"),this.stores.user=this.getStore(C),"client"!==this.getConf("mode")&&this.stores.user.isLoaded()&&(this.stores.profile.isLoaded()||this.stores.profile.err)?{data:this.getData()}:{data:a.Map()}},componentDidMount:function(){s("componentDidMount","data",this.getData()),this.mounted=!0,"client"===this.getConf("mode")&&(this.stores.profile.isLoaded()?this.setState({data:this.getData()}):this.executeAction(h,this.props))},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();this.mounted&&(s("onChange","data",e),e.state===b.state.signed_in?this.stores.profile.isLoaded()&&this.setState({data:e}):this.setState({data:e}))},render:function(){var e=i.get(this.context.session,"dimensions.authed",!1);if(this.context.session.isFailsafe)return null;var t=null,n=this.state.data;if(s("render","data",n),n.isEmpty())t="client"===this.getConf("mode")&&u.isEnabled(this.getConf("authStateCheck"))&&"0"===e?l.createElement(g,{data:n}):l.createElement(p,null);else switch(n.get("state")){case b.state.middle_auth:t=l.createElement(m,{data:n,componentProps:this.props.componentProps});break;case b.state.signed_in:t=l.createElement(d,{triggerAccountFetch:this.props.triggerAccountFetch,extraAccountInfoComponent:this.props.extraAccountInfoComponent,data:n});break;case b.state.signed_out:t=l.createElement(g,{data:n})}return t}});e.exports=b},2606:function(e,t,n){"use strict";var s=n(4),i=n(2),o=n(10),a=n(1105),r=n(2160),l=n(2161),c=n(1),u=o({displayName:"MiddleAuthProfile",mixins:[a],propTypes:{data:s.object.isRequired,componentProps:s.object},render:function(){var e=this.props.data,t=c(this,["props","componentProps","componentConfig","uh","ui","middleAuthSignedOut"],!1);return i.createElement(t?l:r,{data:e})}});e.exports=u},2607:function(e,t,n){"use strict";var s=n(1084),i=n(0)("uh:components:profile:NullProfile"),o=n(321).Icon,a=n(1665),r=n(4),l=n(2),c=n(10),u=n(1103),h=n(1105),m=c({contextTypes:{conf:r.object.isRequired,session:r.object.isRequired,theme:r.object.isRequired},displayName:"NullProfile",mixins:[u,h],statics:{base:["profile"],className:{style:{button:{wrapper:"_getClassNameWrapper"}}}},_getClassNameWrapper:function(){var e=[];return e.push(this.getTheme(m,["style","button","wrapper"])),e.push("V(h)"),e=0!==e.length?s(e):null,i("_getClassNameWrapper",e,arguments),e},render:function(){return l.createElement("li",{className:this.getClassName(m,["style","button","wrapper"])},l.createElement(o,{asset:a,height:"34",width:"34",color:"#400090"}))}});e.exports=m},2608:function(e,t,n){"use strict";var s=n(0)("uh:components:search:Search"),i=n(182),o=n(4),a=n(2),r=n(10),l=n(1099),c=n(1734),u=n(16),h=n(1140),m=r({displayName:"Search",mixins:[u],contextTypes:{session:o.object.isRequired},propTypes:{enableFocusBeacon:o.bool,footerTemplateComponent:o.node,onSubmit:o.func,resultTemplateComponent:o.oneOfType([o.node,o.func,o.object]),showFooter:o.bool,searchComponent:o.oneOfType([o.node,o.func,o.object])},statics:{storeListeners:[h]},getData:function(){var e=this.context.session.dimensions,t=i.Map({bucket:e.bucket,device:e.device,enable_focus_beacon:this.props.enableFocusBeacon,footer_component:this.props.footerTemplateComponent,handle_submit:this.props.onSubmit,lang:e.lang,partner:e.partner,placeholder:" ",region:e.region,show_footer:this.props.showFooter,site:l.getSite(this.context)||e.site,template_component:this.props.resultTemplateComponent});return s("getData","data",t),t},getInitialState:function(){return this.stores={},this.stores.header=this.getStore(h),s("getInitialState","this.stores.header.getState()",this.stores.header.getState()),{data:this.getData()}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},onChange:function(){var e=this.getData();s("onChange","data",e),this.mounted&&this.setState({data:e})},render:function(){var e=this.state.data;return s("render","data",e),a.createElement(this.props.searchComponent||c,{data:e})}});e.exports=m},2609:function(e,t,n){"use strict";var s={cloneDeep:n(339),isEqual:n(190)},i=n(0)("uh:components:nav/Topbar"),o=n(1133),a=n(1099),r=n(4),l=n(2),c=n(10),u=n(87),h=n(119),m=n(2610),p=n(1103),d=n(16),g=n(1834),f=c({autobind:!1,contextTypes:{conf:r.object.isRequired,session:r.object.isRequired},displayName:"Topbar",mixins:[p,d],propTypes:{data:r.object},statics:{base:["topbar"],storeListeners:["RouteStore"]},_formatItem:function(e,t){var n,s=e,a=s.url;return this._isForceAbsolute(t)||(a=o.convertUrl(a,this._getSite())),n={id:t,name:this._formatTitle(t,s.name),order:e.order,url:a,follow:this._isFollow(a)},i("_formatItem",s,n),n},_formatTitle:function(e,t){return t},_getData:function(e,t){var n;e=s.cloneDeep(e);var i,o=this.getConf(f,["data","more"]),a=[];if(o<=0||0===e.length)return[];"home"===t?(e=e[0].children,i=1):"main"===t?(e=e.slice(0,o),i=1):"more"===t&&(e=e.slice(o),i=o+1);for(var r=0;r<e.length;r++)(n=e[r]).children=undefined,n.order=i,i++,n=this._formatItem(n,n.id),a.push(n);return a},_getSite:function(){return this.context.session.dimensions.site},_handleClick:function(e,t){var n=this.state.data,o=s.cloneDeep(n);Object.keys(n.is_open).map((function(e){o.is_open[e]=t===e&&!n.is_open[e]})),this.currentTarget=e.currentTarget,this._addBodyClick(t),i("_handleClick","name",t),i("_handleClick","prev",n),i("_handleClick","next",o),s.isEqual(n,o)||this.setState({data:o})},_addBodyClick:function(e){this.bodyClickHandler?this._removeBodyClick():this.bodyClickHandler=h.listen(document,"click",function(t){if(!this.currentTarget.contains(t.target)){var n=this.state.data;this.currentTarget.nextSibling.contains(t.target)||(n.is_open[e]=!1,this.setState({data:n}),this._removeBodyClick())}}.bind(this))},_removeBodyClick:function(){this.bodyClickHandler&&(this.bodyClickHandler.remove(),this.bodyClickHandler=null)},_isAbsolute:function(e){var t=u.parse(e);return!t||null!==t.hostname},_isFollow:function(e){var t=u.parse(e);return!!a.isEnabled(this.getConf(f,["data","force_absolute_all"]))||(!t||null!==t.hostname)&&(!t||t.hostname!==this.context.session.host)},_isForceAbsolute:function(e){if(a.isEnabled(this.getConf(f,["data","force_absolute_all"])))return!0;var t=this.getConf(f,["data","force_absolute"]);return!(!t.has(e)||!t.get(e))},_getConfLink:function(){var e=this.context.session,t={protocol:["de","es","e1","cf","fr","it","br"].indexOf(e.dimensions.intl)>=0?"http":e.protocol,host:e.dimensions.intl+".everything.yahoo.com/"};return"cf"===e.dimensions.intl&&(t.host="fr-ca.sites.yahoo.com/"),"e1"===e.dimensions.intl&&(t.host="es-us.sitios.yahoo.com/"),"xe"===e.dimensions.intl&&(t.host="en-maktoob.everything.yahoo.com/"),"us"===e.dimensions.intl&&(t.host="everything.yahoo.com/"),u.format(t)},_processMainItems:function(e,t){return t.length>0&&e.push(this._formatItem({url:this._getConfLink(),order:e.length+t.length+1,name:this.getIntl(this.getConf(f,["data","more_item","title"]).toUpperCase())},"more")),e},getData:function(){var e=this.props.data&&this.props.data.items||this.stores.nav.getItems(),t=this._getData(e,"more"),n={home:this._getData(e,"home"),more:t,main:this._processMainItems(this._getData(e,"main"),t),is_open:{home:!1,more:!1},homeSwitcher:this.getConf(f,["data","homeSwitcher"])};return i("getData",n),n},getInitialState:function(){return this.stores={},this.stores.nav=this.getStore(g),this.stores.route=this.getStore("RouteStore"),i("getInitialState","this.stores.nav.getState()",this.stores.nav.getState()),{data:this.getData()}},onChange:function(){if(this.mounted){var e=this.getData();i("onChange","data",e),this.setState({data:e})}},componentDidMount:function(){this.mounted=!0},componentWillMount:function(){this._handleClick=this._handleClick.bind(this),this.onChange=this.onChange.bind(this)},componentWillUnmount:function(){this.mounted=!1,this._removeBodyClick()},render:function(){var e=this.state.data,t={click:this._handleClick};return i("render","data",e),l.createElement(m,{data:e,methods:t})}});e.exports=f},2610:function(e,t,n){"use strict";var s=n(1084),i=n(0)("uh:components:nav/TopbarItems"),o=n(1099),a=Object.assign,r=n(4),l=n(2),c=n(10),u=n(322).I13nAnchor,h=n(2611),m=n(2612),p=n(2162),d=n(1103),g=n(1105),f=c({contextTypes:{conf:r.object.isRequired,getStore:r.func,session:r.object.isRequired,theme:r.object.isRequired},getDefaultProps:function(){return{data:{home:[],main:[],more:[],is_open:{home:!1,more:!1},homeSwitcher:{enabled:!1,link:"https://www.yahoo.com/?p=dnr",title:"Back to Yahoo.com"}},methods:{click:function(){}}}},getInitialState:function(){return{showSwitcher:!1}},displayName:"TopbarItems",mixins:[d,g],propTypes:{data:r.object.isRequired,methods:r.object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{wrapper:"_getClassNameWrapper",content:"_getClassNameContent"}}},node:{nav_home:"_getNodeNavHome",nav_main:"_getNodeNavMain",nav_more:"_getNodeNavMore",nav_switcher:"_getNodeHomeSwitcher"}},_getClassNameLinkHomeIconHomeStyle:function(e){var t=null,n=["style","nav_main","link_home","icon","home"];return(t=this.getClassName(f,n.concat(["inline"])))&&(t=a(t,e?{fill:this.getClassName(f,n.concat(["color_2"]))}:{fill:this.getClassName(f,n.concat(["color_1"]))})),i("_getClassNameLinkHomeIconHomeStyle",t,arguments),t},_getClassNameLinkHomeContent:function(e){var t=[],n=["style","nav_main","link_home"];return t.push(this.getClassName(f,n.concat(["content_1"]))),e&&t.push(this.getClassName(f,n.concat(["content_2"]))),t=s(t),i("_getClassNameLinkHomeContent",t,arguments),t},_getClassNameLinkHomeWrapper:function(e){var t=[],n=["style","nav_main","link_home"];return t.push(this.getClassName(f,n.concat(["wrapper_1"]))),e&&t.push(this.getClassName(f,n.concat(["wrapper_2"]))),t.push(this.getClassName(f,n.concat(["wrapper_3"]))),t=s(t),i("_getClassNameLinkHomeWrapper",t,arguments),t},_getClassNameWrapper:function(){var e=[];return e.push(this.getClassName(f,["style","nav_main","wrapper_1"])),e.push(this.getClassName(f,["style","nav_main","wrapper_2"])),e=s(e),i("_getClassNameNavMainWrapper",e,arguments),e},_getClassNameContent:function(){var e=[];return e.push(this.getClassName(f,["style","nav_main","content_1"])),e.push(this.getClassName(f,["style","nav_main","content_2"])),e.push(this.getClassName(f,["style","nav_main","content_3"])),e=s(e),i("_getClassNameNavMainContent",e,arguments),e},_getNodeHomeSwitcher:function(){var e=null,t=this.context&&this.context.getStore("RouteStore"),n=t&&t.getCurrentNavigate(),s=this.props.data.homeSwitcher,i=s&&o.isEnabled(s.get("enabled")),a=Object.assign({},{subsec:"uh",slk:"Back to Yahoo.com",cpos:0});return i&&n&&n.url&&n.url.indexOf("p=us")>-1&&(e=l.createElement("li",{className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},l.createElement(u,{href:s.get("link"),i13nModel:a,className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)"},s.get("title")))),e},_getNodeNavHome:function(e,t){var n={group:"main",icon:!0,index:t,item:e},s=this._getItems("home"),i=this.props.methods||{};return i.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,i.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,i.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===s.length?l.createElement(p,{key:e.id,data:n,methods:i}):(n.is_open=this.props.data.is_open.home,l.createElement(m,{key:e.id,data:n,methods:i},s))},_getNodeNavMain:function(){var e=this._getItems("main");return 0===e.length?null:e.map(function(e,t){return"home"===e.id?this._getNodeNavHome(e,t):"more"===e.id?this._getNodeNavMore(e,t):l.createElement(p,{key:e.id,data:{group:"main",item:e,index:t}})}.bind(this))},_getNodeNavMore:function(e,t){var n={group:"main",index:t,item:e},s=this._getItems("more"),i=this.props.methods;return i.getClassNameLinkHomeIconHomeStyle=this._getClassNameLinkHomeIconHomeStyle,i.getClassNameLinkHomeContent=this._getClassNameLinkHomeContent,i.getClassNameLinkHomeWrapper=this._getClassNameLinkHomeWrapper,0===s.length?l.createElement(p,{key:e.id,data:n,methods:i}):(n.is_open=this.props.data.is_open.more,l.createElement(m,{key:e.id,data:n,methods:i},s))},_getItems:function(e){var t=this.props.data[e];return i("_getItems","items",e,t),t},_getPromo:function(){return o.isEnabled(this.context.conf.getIn(["ui","topbarPromo"],!1))?l.createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Pend(14px) Mend(0) D(n)--md1160"},l.createElement("a",{className:"C(#fff) Pstart(78px) Td(n)! Td(u)!:h Fz(13px)",href:this.context.conf.getIn(["topbar","promo","link"],!1),target:"_blank",rel:"noopener noreferrer"},l.createElement("img",{className:"Pend(4px) Va(m)",src:this.context.conf.getIn(["topbar","promo","icon"]),width:"13",height:"13",alt:this.context.conf.getIn(["topbar","promo","iconAlt"])}),l.createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:this.context.conf.getIn(["topbar","promo","text"])}}),l.createElement("span",{className:"Va(m)",dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}}))):l.createElement(h,null)},render:function(){return l.createElement("div",{id:"masterNav",className:this.getClassName(f,["style","nav_main","wrapper"])},l.createElement("ul",{id:"eyebrow",role:"navigation",className:this.getClassName(f,["style","nav_main","content"])},this._getNodeNavMain(),this._getNodeHomeSwitcher(),this._getPromo()))}});e.exports=f},2611:function(e,t,n){"use strict";var s={set:n(1187)},i=n(0)("uh:components:nav/TopbarFFPromo"),o=n(4),a=n(2),r=n(10),l=n(1099),c=n(1140),u=n(1677),h=r({autobind:!1,mixins:[n(16)],contextTypes:{conf:o.object.isRequired,executeAction:o.func.isRequired,getStore:o.func,session:o.object.isRequired},displayName:"TopbarFFPromo",statics:{storeListeners:[c]},_getData:function(){var e={showFFPromo:this.headerStore.getShowFFPromo(),content:null,link:null},t=l.getSite(this.context)||this.context.session.dimensions.site;if(e.showFFPromo)switch(t){case"finance":e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-finance-try"].join(""),e.content="Try Yahoo Finance on Firefox";break;case"news":e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-news-try"].join(""),e.content="Try Yahoo News on Firefox";break;case"sports":e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-sports-try"].join(""),e.content="Try Yahoo Sports on Firefox";break;default:e.link=["https://www.mozilla.org/firefox/new/?","utm_source=yahoo&utm_medium=referral&","utm_campaign=y-uh&utm_content=y-install-new-firefox"].join(""),e.content="Install the new Firefox"}return e},componentWillMount:function(){this.onChange=this.onChange.bind(this)},componentDidMount:function(){if(this.headerStore.getShowFFPromo()===undefined){var e=this.context.conf.get("profile").get("mode")||"server",t={};this.context.conf.get("ui").get("topbarFFPromo")&&(s.set(t,"componentProps.componentConfig.uh.profile.mode",e),s.set(t,"componentProps.componentConfig.uh.ui.topbarFFPromo",!0),this.context.executeAction(u,t))}},getInitialState:function(){return this.headerStore=this.context.getStore(c),this._getData()},onChange:function(){this.setState(this._getData())},shouldComponentUpdate:function(e,t){var n=this.state;return t.showFFPromo!==n.showFFPromo||t.link!==n.link||t.content!==n.content},render:function(){i("render");var e=this.state,t=null;return e&&e.showFFPromo&&e.link&&e.content&&(t=a.createElement("li",{id:"uh-tb-firefoxpromo",className:"Pos(a) Lh(1.7) End(0) D(ib) Mend(18px) Pstart(14px) D(n)--sm1024"},a.createElement("a",{className:"C(#fff) Pstart(4px) Td(n)! Td(u)!:h Fz(13px)",href:e.link,target:"_blank",rel:"noopener noreferrer"},a.createElement("img",{className:"Pend(4px) Va(m)",src:"https://s.yimg.com/kx/yucs/uh3s/promo-ff/1/images/ff_icon-compressed.png",width:"15",height:"15",alt:"Firefox"}),a.createElement("span",null,e.content),a.createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;&raquo;"}})))),t}});e.exports=h},2612:function(e,t,n){"use strict";var s=n(1084),i=n(0)("uh:components:nav/TopbarNavDropdownItem"),o=n(1099),a=Object.assign,r=n(4),l=n(2),c=n(10),u=n(2613),h=n(322).I13nAnchor,m=n(321).Icon,p=n(1103),d=n(1105),g=c({contextTypes:{conf:r.object.isRequired,session:r.object.isRequired,theme:r.object.isRequired},displayName:"TopbarNavDropdownItem",getDefaultProps:function(){return{data:{group:"main",icon:!1,item:{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1},index:-1,is_open:!1,getClassNameLinkHomeIconHomeStyle:function(){}},methods:{getClassNameLinkHomeIconHomeStyle:function(){},getClassNameLinkHomeContent:function(){},getClassNameLinkHomeWrapper:function(){}}}},mixins:[p,d],propTypes:{data:r.object.isRequired,methods:r.object.isRequired},statics:{base:["topbar"],className:{style:{nav_main:{link_home:{content:"_getClassNameLinkHomeContent",wrapper:"_getClassNameLinkHomeWrapper",icon:{down_arrow:{style:"_getClassNameLinkHomeIconStyleDownArrow"},home:{style:"_getClassNameLinkHomeIconStyleHome"}}},link_more:{content:"_getClassNameLinkMoreContent",wrapper:"_getClassNameLinkMoreWrapper",icon:{down_arrow:{style:"_getClassNameLinkMoreIconStyleDownArrow"}}}}}},i13n:{link:{elm:"itm",itc:"0",sec:"uh"}}},_getClassNameLinkHomeIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_home","icon","down_arrow"];return(e=this.getClassName(g,t.concat(["inline"])))&&(e=this._isMenuOpen()?a(e,{fill:this.getClassName(g,t.concat(["color_2"]))}):a(e,{fill:this.getClassName(g,t.concat(["color_1"]))})),i("_getClassNameLinkHomeIconStyleDownArrow",e,arguments),e},_getClassNameLinkHomeIconStyleHome:function(){var e=this.props.methods.getClassNameLinkHomeIconHomeStyle.call(this,this._isMenuOpen());return i("_getClassNameLinkHomeIconStyleHome",e,arguments),e},_getClassNameLinkHomeContent:function(){var e=this.props.methods.getClassNameLinkHomeContent.call(this,this._isMenuOpen());return i("_getClassNameLinkHomeContent",e,arguments),e},_getClassNameLinkHomeWrapper:function(){var e=this.props.methods.getClassNameLinkHomeWrapper.call(this,this._isMenuOpen());return i("_getClassNameLinkHomeWrapper",e,arguments),e},_getClassNameLinkMoreIconStyleDownArrow:function(){var e=null,t=["style","nav_main","link_more","icon","down_arrow"];return(e=this.getClassName(g,t.concat(["inline"])))&&(e=this._isMenuOpen()?a(e,{fill:this.getClassName(g,t.concat(["color_2"]))}):a(e,{fill:this.getClassName(g,t.concat(["color_1"]))})),i("_getClassNameLinkMoreIconStyle",e,arguments),e},_getClassNameLinkMoreContent:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(g,t.concat(["content_1"]))),this._isMenuOpen()&&e.push(this.getClassName(g,t.concat(["content_2"]))),e=s(e),i("_getClassNameLinkMoreContent",e,arguments),e},_getClassNameLinkMoreWrapper:function(){var e=[],t=["style","nav_main","link_more"];return e.push(this.getClassName(g,t.concat(["wrapper_1"]))),this._isMenuOpen()&&e.push(this.getClassName(g,t.concat(["wrapper_2"]))),e=s(e),i("_getClassNameLinkMoreWrapper",e,arguments),e},_getNodeContent:function(){return this.props.data.icon?l.createElement("span",null,this._getNodeIcon(),l.createElement("b",{className:this.getClassName(g,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())):l.createElement("span",{className:this.getClassName(g,["style",this._getGroup("nav_"),this._getId("link_"),"text"])},this._getName())},_getNodeIcon:function(){return this._getIcon(this._getId())},_getNodeIconDownArrow:function(){return this.context.session.isLightWeightBrowser?null:this._getIcon("down_arrow")},_getNodeLink:function(){return l.createElement(h,{id:this._getId("uh-tb-","-link"),className:this.getClassName(g,["style",this._getGroup("nav_"),this._getId("link_"),"content"]),href:this._getUrl(),follow:!1,onClick:this._handleClick,onKeyDown:this._handleKeyDown,role:"button",i13nModel:this.getI13n(g,"link",{slk:this._getId(),subsec:"tb",cpos:this._getIndex()+1+""})},this._getNodeContent(),this._getNodeIconDownArrow())},_getNodeMenu:function(){if(!this._isMenuOpen())return null;var e={group:this._getId(),items:this.props.children};return l.createElement(u,{data:e})},_getGroup:function(e,t){return o.strExpand(this.props.data.group,e,t)},_getIcon:function(e){var t=this.getConf(g,["data","icon",e]);return l.createElement(m,{asset:t.get("asset").toJS(),height:t.get("size"),width:t.get("size"),color:this.getClassName(g,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"color"]),style:this.getClassName(g,["style",this._getGroup("nav_"),this._getId("link_"),"icon",e,"style"])})},_getId:function(e,t){return o.strExpand(this.props.data.item.id,e,t)},_getIndex:function(){return this.props.data.index},_getName:function(){return this.props.data.item.name},_getUrl:function(){return this.props.data.item.url},_handleClick:function(e){e.preventDefault(),i("_handleClick","id",this._getId()),this.props.methods.click.call(this,e,this._getId())},_handleKeyDown:function(e){13!==e.keyCode&&40!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),i("_handleKeyDown","keyCode",e.keyCode,"id",this._getId()),40===e.keyCode||this.props.methods.click.call(this,e,this._getId()))},_isMenuOpen:function(){return this.props.data.is_open},render:function(){return i("data",this.props.data),l.createElement("li",{key:this._getIndex(),id:this._getId("uh-tb-"),className:this.getClassName(g,["style",this._getGroup("nav_"),this._getId("link_"),"wrapper"])},this._getNodeLink(),this._getNodeMenu())}});e.exports=g},2613:function(e,t,n){"use strict";var s=n(0)("uh:components:nav/TopbarNavDropdownMenu"),i=n(1099),o=n(4),a=n(2),r=n(10),l=n(2162),c=n(1103),u=n(1105),h=r({contextTypes:{conf:o.object.isRequired,session:o.object.isRequired,theme:o.object.isRequired},displayName:"TopbarNavDropdownMenu",getDefaultProps:function(){return{data:{group:"main",items:[{id:"home",name:"Home",url:"http://www.yahoo.com",order:-1,follow:!1}]}}},mixins:[c,u],propTypes:{data:o.object.isRequired},statics:{base:["topbar"]},_getGroup:function(e,t){return i.strExpand(this.props.data.group,e,t)},_getNodeMenuItems:function(){var e=this.props.data.items;return 0===e.length?null:e.map(function(e,t){return a.createElement(l,{key:e.id,data:{group:"more",item:e,index:t}})}.bind(this))},render:function(){return s("data",this.props.data),a.createElement("div",{id:this._getGroup("uh-tb-","-menu")},a.createElement("div",{className:this.getClassName(h,["style",this._getGroup("nav_"),"wrapper"]),style:this.getClassName(h,["style",this._getGroup("nav_"),"inline"])},a.createElement("ul",{className:this.getClassName(h,["style",this._getGroup("nav_"),"content"])},this._getNodeMenuItems())))}});e.exports=h},2614:function(e,t,n){"use strict";var s=n(2),i=n(10),o=n(4),a=n(1084),r=n(1099),l=i({contextTypes:{executeAction:o.func.isRequired,getStore:o.func.isRequired,renderTarget:o.object,session:o.object},propTypes:{label:o.string,labelBackground:o.string,labelColor:o.string,pointerColor:o.string},displayName:"ShareReminder",getInitialState:function(){return{showReminder:!1}},getDefaultProps:function(){return{label:"Remember to share!",labelBackground:"Bgc(#2592fc)",labelColor:"C(#fff)",pointerColor:"Bdtc(#2592fc) Bdbc(#2592fc)"}},componentDidMount:function(){this.setState({showReminder:!0})},render:function(){if(!this.state.showReminder)return null;if(!(this.props.componentConfig||{}).enableFBShareReminder||!r.isFacebookApp())return null;var e=this.props,t={bubble:"reminder-bubble Pos(a) Ov(v) D(ib) Z(1) H(a) W(a) T(3px) P(0) End(0)",container:"Pos(f) End(2px)",cover:"Z(1) Pos(r) W(130px)",label:a("Pos(r) Bdrs(5px) Pstart(4px) Pend(4px) Pt(8px) Pb(8px) Fz(11px) Ff(Helvetica Neue) Fw(n)",e.labelBackground,e.labelColor,"reminder-label"),pointer:a("Pos(a) Bds(s) Bdtw(0) Bdstartw(6px) Bdbw(7px) Bdendw(6px) Bdstartc(t)","Bdendc(t) D(b) H(0) W(0) Z(1) T(0) Start(72%)",e.pointerColor)};return s.createElement("div",{className:"reminder-bubble-container"},s.createElement("div",{className:t.container},s.createElement("div",{className:t.cover},s.createElement("div",{className:t.pointer}),s.createElement("div",{className:t.bubble},s.createElement("div",{className:t.label},e.label)))))}});e.exports=l}}]);