(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1001:function(e,t,n){e.exports={controllerViews:{LiveCoverage:n(3576)},stores:{LiveCoverageStore:n(2264)}}},1989:function(e,t,n){if(void 0===r)var r={};r.TwitterReply={name:"TwitterReply",height:96,width:96,path:"M55.822 45.15h-6.738V34.31s.098-.72-.715-1.488c-.815-.766-1.86.07-1.86.07l-19.762 13.77S26 47.24 26 48.132c0 .894.63 1.39.63 1.39l19.772 13.77s1.152.476 1.92-.005c.766-.48.762-1.584.762-1.584v-7.357h6.867c8.364 0 8.51 8.94 11.433 8.94 1.58 0 2.617-.765 2.617-5.17C70 45.467 55.822 45.15 55.822 45.15z"},e.exports&&(e.exports=r.TwitterReply)},1990:function(e,t,n){if(void 0===r)var r={};r.TwitterRetweet={name:"TwitterRetweet",height:96,width:96,path:"M68.594 49.773h-4.387V37.057c0-1.477-1.207-2.686-2.684-2.686H49.535c-1.48 0-2.687 1.21-2.687 2.687v2.068c0 1.477 1.207 2.686 2.687 2.686h7.232v7.964h-4.39c-1.44 0-1.854.9-.927 2l7.11 8.4c.93 1.102 2.478 1.115 3.43.037l7.49-8.472c.954-1.08.557-1.965-.886-1.965zM46.47 54.19h-7.24v-7.964h4.392c1.44 0 1.86-.898.926-2l-7.11-8.4c-.93-1.1-2.472-1.115-3.427-.035l-7.49 8.474c-.952 1.08-.558 1.963.882 1.963h4.393v12.718c0 1.477 1.21 2.684 2.686 2.684h11.99c1.478 0 2.682-1.208 2.682-2.685v-2.068c-.002-1.475-1.206-2.688-2.683-2.688z"},e.exports&&(e.exports=r.TwitterRetweet)},1991:function(e,t,n){if(void 0===r)var r={};r.TwitterStar={name:"TwitterStar",height:96,width:96,path:"M62.088 51.97l7.355-7.9s1.05-1.303.266-2.63c-.552-.927-2.224-.937-2.224-.937h-8.41s-1.52.092-2.55-.545-1.657-1.922-1.657-1.922l-4.44-8.463s-.733-2.232-2.4-2.232c-1.67 0-2.368 2.177-2.368 2.177l-4.395 8.385s-.742 1.27-1.773 1.908c-1.035.64-2.898.693-2.898.693h-8.262s-1.777.062-2.22 1.14c-.44 1.08.517 2.44.517 2.44L33.91 51.9s.945.968 1.164 2.036c.223 1.064.02 2.27.02 2.27l-2.035 9.763s-.414 1.33.578 2.175c.996.848 2.39.29 2.39.29l9.517-4.575s1.094-.758 2.488-.758c1.402 0 2.464.746 2.464.746l9.422 4.53s1.742.726 2.695-.16c.954-.886.356-2.425.356-2.425l-1.98-9.52s-.438-1.05-.176-2.338c.254-1.29 1.278-1.965 1.278-1.965z"},e.exports&&(e.exports=r.TwitterStar)},2264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(13)),o=s(n(86)),a=s(n(2818));function s(e){return e&&e.__esModule?e:{"default":e}}var l=(0,r["default"])("LiveCoverage:LiveCoverageStore"),u=(0,i["default"])({storeName:"LiveCoverageStore",statics:{handlers:{GET_LIVE_COVERAGE_POSTS_SUCCESS:"_getLiveCoverageSuccess",GET_MORE_LIVE_COVERAGE_POSTS_SUCCESS:"_getMoreLiveCoverageSuccess",GET_NEW_LIVE_COVERAGE_POSTS_SUCCESS:"_getNewLiveCoverageSuccess",GET_NEW_LIVE_COVERAGE_POSTS_FAILURE:"_getNewLiveCoverageFailure",APPEND_NEW_LIVE_COVERAGE_POSTS_SUCCESS:"_appendNewLiveCoverageSuccess"}},initialize:function(){this.liveCoverage={},this.newLiveCoverage={},this.newLiveCoverageFailureCount=0,this.moreLiveCoveragePostsCount=null},_appendNewLiveCoverageSuccess:function(e){l("_appendNewLiveCoverageSuccess"),this.newLiveCoverage.posts&&this.newLiveCoverage.posts.length>=1&&(this.newLiveCoverage.posts.forEach((function(e,t,n){n[t]&&(n[t].isNew=!0)})),this.liveCoverage.posts=this.newLiveCoverage.posts.concat(this.liveCoverage.posts)),this._updatePosts(this.newLiveCoverage),this.newLiveCoverage=[],this.emitChange()},_getLiveCoverageSuccess:function(e){l("_getLiveCoverageSuccess",e),this.liveCoverage=e.liveCoverage,this._checkAndDeletePosts(e.liveCoverage.deletedPosts,this.liveCoverage.pinnedPosts),this.emitChange()},_getNewLiveCoverageSuccess:function(e){l("_getNewLiveCoverageSuccess",e),this.newLiveCoverageFailureCount=0,(0,o["default"])(e,"liveCoverage.posts.length",0)>0&&(this.newLiveCoverage.posts?this.newLiveCoverage.posts=this.newLiveCoverage.posts.concat(e.liveCoverage.posts):this.newLiveCoverage=e.liveCoverage),this._updatePosts(e.liveCoverage),this.emitChange()},_getNewLiveCoverageFailure:function(e){l("_getNewLiveCoverageFailure",e),this.newLiveCoverageFailureCount++,this.emitChange()},_updatePosts:function(e){e&&(this._updatePinnedPosts(e),this._checkAndDeletePosts(e.deletedPosts,this.liveCoverage.posts))},_updatePinnedPosts:function(e){if(e.pinnedPosts){var t=e.pinnedPosts,n=e.deletedPosts;if(this.liveCoverage.pinnedPosts=t,t.length>0){var r=t[0].post_id;(0,a["default"])(this.liveCoverage.posts,(function(e){return r===e.post_id}))}this._checkAndDeletePosts(n,this.liveCoverage.pinnedPosts)}},_checkAndDeletePosts:function(e,t){t&&t.length&&e&&e.length>0&&(0,a["default"])(t,(function(t){return e.indexOf(t.post_id)>=0}))},_getMoreLiveCoverageSuccess:function(e){l("_getMoreLiveCoverageSuccess",e),this.moreLiveCoveragePostsCount=(0,o["default"])(e,"liveCoverage.posts.length",0),this.moreLiveCoveragePostsCount>0&&(this.liveCoverage.posts=this.liveCoverage.posts.concat(e.liveCoverage.posts)),this._updatePosts(e.liveCoverage),this.emitChange()},getLiveCoverage:function(){return l("getLiveCoverage",this.liveCoverage),this.liveCoverage},getNewLiveCoverage:function(){return l("getNewLiveCoverage",this.newLiveCoverage),this.newLiveCoverage},getMoreLiveCoveragePostsCount:function(){return l("getMoreLiveCoveragePostsCount",this.moreLiveCoveragePostsCount),this.moreLiveCoveragePostsCount},getNewLiveCoverageFailureCount:function(){return l("getNewLiveCoverageFailureCount",this.newLiveCoverageFailureCount),this.newLiveCoverageFailureCount},dehydrate:function(){return{liveCoverage:this.liveCoverage,newLiveCoverage:this.newLiveCoverage}},rehydrate:function(e){this.liveCoverage=e.liveCoverage,this.newLiveCoverage=e.newLiveCoverage}});t["default"]=u,e.exports=t["default"]},2267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseTweetWidget=function(e){var t=(0,r["default"])(e=e||{},"twitter_post",null);function n(e){return!!((0,r["default"])(e=e||{},"media_entities[0].expanded_url","").indexOf("/video/1")>0||(e.url_entities||[]).length&&!(e.media_entities||[]).length)}if(!Array.isArray(t))return n(e.twitter_post);for(var i=0;i<t.length;i++){if(n(t[i]))return!0}return!1},t.isGraphiq=function(e){return(e=e||"").indexOf("graphiq.com")>0},t.parseGraphiq=function(e,t){if(!e||!t)return;var n=e.match(l);if(!n)return;for(var r=[],o=0,f=0;f<n.length;f++){var d=n[f].match(a);if(d){r.push({});var p=d[0].match(s);r[o].id=p[1],o++}else{var v=n[f].match(u);if(r[o-1]){r[o-1].link=v[1];var h=n[f].match(c);h&&(r[o-1].text=h[1])}}}return(0,i["default"])(r,"id").map((function(e){return{id:e.id,text:e.text||"",link:e.link||""}})).map((function(e){return t.replace(/LINK/g,e.link||" ").replace(/LABEL/,e.text||" ").replace(/WIDGET_ID/,e.id)}))},t.shouldUseMockData=function(e){return"true"===(0,r["default"])(e,"query.useMockData")&&e.isYnet},t.getOrignalResolution=function(e){if(!e)return null;return(0,r["default"])(e,"resolutions",[]).find((function(e){return"original"===e.tag}))};var r=o(n(86)),i=o(n(1854));function o(e){return e&&e.__esModule?e:{"default":e}}var a=/graphiq.com\/[a-z]*\/(.*?)"/g,s=/graphiq.com\/[a-z]*\/(.*?)"/,l=/href=(.*?)<\/a>/g,u=/(?:href=")(.*?)(?:">)/,c=/>(.[\s]*[\w]+[\s\|\s]*[\w]+[\s]*)</i},2268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(2)),o=n(322),a=d(n(3581)),s=n(85),l=n(1090),u=d(n(1580)),c=d(n(86)),f=n(2524);function d(e){return e&&e.__esModule?e:{"default":e}}var p=["IMAGE","TEXT","HTML"],v=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"renderContent",value:function(e,t,n){var r=(0,o.createI13nNode)("p",{scanLinks:{enable:!0,tags:["a"]}}),s=n?e:new a["default"](e,{social:"twitter"}).getText();return i["default"].createElement(r,{className:"Py(10px) M(0) Ov(h)",dangerouslySetInnerHTML:{__html:s},i13nModel:(0,f.getI13nModel)("context-link-click",{g:t})})}},{key:"renderImg",value:function(e){if(!(e&&e.url&&e.height&&e.width))return null;var t=(0,c["default"])(e,"width",0),n=(0,c["default"])(e,"height",0);return i["default"].createElement("div",{className:"media-img Pos(r) C(#000) H(0) Ovy(h)",style:{paddingBottom:n/(t/100)+"%"}},i["default"].createElement(l.Img,{url:e.url,className:"D(b) Mih(127px) W(100%)",forceLoad:!0,delayed:!0}))}},{key:"renderPostedTime",value:function(e){return e?i["default"].createElement("div",{className:"posted-time C($c-fuji-blue-1-a) Fw(b)"},i["default"].createElement(s.FormattedRelative,{value:new Date(e)})):null}},{key:"renderAttribution",value:function(e,t){var n=e.creator,r=e.publish_time,o=void 0,a=void 0,s=void 0,l=void 0;if(n&&-1!==p.indexOf(e.type)){var c=n.avatar_url,f=c===undefined?"":c,d=n.name,v=d===undefined?"":d,h=n.avatar_image;if(h){var g=h.original_height,m=h.resolutions,_=m===undefined?[]:m,w=_.find(g&&g===h.original_width?function(e){return"original"===e.tag}:function(e){return e.height===e.width});o=w&&w.url}a=i["default"].createElement(u["default"],{className:"creator-avatar Mend(10px)",name:v,size:40,src:o||f}),s=t?i["default"].createElement("div",{className:"creator-name D(ib) Va(t) Ta(start) C($c-fuji-grey-f)"},v):i["default"].createElement("span",{className:"creator-name C($c-fuji-grey-l)"},v)}return t?i["default"].createElement("div",{className:"post-attribution Lh(40px) Fz(15px) Fw(b)"},a,s):(l=this.renderPostedTime(1e3*r),i["default"].createElement("div",{className:"post-attribution Fz(14px) Lh(20px)"},a,i["default"].createElement("div",{className:"D(ib) H(40px) Va(t) Bxz(bb) Ta(start)"},l,s)))}}]),t}(i["default"].Component);t["default"]=v,e.exports=t["default"]},2524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getI13nModel=function(e,t){return t?Object.assign({},i[e],t):i[e]};var r="live-coverage",i={"module-view":{sec:r,slk:"module"},"post-view":{sec:r,slk:"post"},"view-more-click":{sec:r,slk:"Show More",elm:"btn",itc:1},"new-posts-click":{sec:r,slk:"View New Posts",elm:"btn",itc:1},"twitter-action-click":{sec:r,slk:"Twitter",elm:"btn",itc:1},"context-link-click":{sec:r,slk:"Context Link",elm:"txt",itc:1}}},2830:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(4)),o=h(n(2)),a=n(321),s=h(n(2268)),l=h(n(1604)),u=h(n(3582)),c=h(n(1580)),f=n(85),d=h(n(1084)),p=h(n(86)),v=n(2267);function h(e){return e&&e.__esModule?e:{"default":e}}var g=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"renderTimestamp",value:function(e,t){return e&&!t?o["default"].createElement("div",{className:"D(ib) Fz(14px) Fl(end) C($c-fuji-grey-l) Lh(32px) H(32px)"},o["default"].createElement(f.FormattedDate,{value:1e3*e,day:"numeric",month:"long",year:"numeric"})):""}},{key:"renderTwitterUserHead",value:function(e,t){var n=this.props,r=n.config,i=n.config.isSummaryView?16:20,s=t||n.isPinned,u=s?null:this.renderPostedTime(n.postTime);if(!e)return o["default"].createElement("div",{className:"post-attribution Fz(14px) Lh(20px) Fw(b)"},u);var f=(0,v.getOrignalResolution)(e.media_image),p=o["default"].createElement(c["default"],{name:e.screen_name,size:40,src:f&&f.url||e.media_url});return o["default"].createElement("div",{className:"post-attribution Mstart(50px) Mend(20px) Fz(14px) Lh(20px)"},o["default"].createElement("div",{className:"D(ib) H(40px) Mend(10px) Mstart(-50px) Va(t)"},o["default"].createElement("a",{className:"tweet-screen-name Cur(p)","data-screen_name":e.screen_name,href:r.twitter_intent_url_prefix+r.twitter_user_url_suffix+e.screen_name,rel:"nofollow",target:"_blank"},p)),o["default"].createElement("div",{className:"D(ib) Va(t) Bxz(bb) Ta(start) Pend(10px) W(100%)"},u,o["default"].createElement("a",{className:(0,d["default"])("tweet-screen-name Cur(p) Td(n) Pend(10px) Lh(14px)",{"D(b) Py(3px)":s,"D(ib)":!s}),"data-screen_name":e.screen_name,href:r.twitter_intent_url_prefix+r.twitter_user_url_suffix+e.screen_name,rel:"nofollow",target:"_blank"},o["default"].createElement("span",{className:"C($c-fuji-grey-l)"},e.name)),o["default"].createElement("a",{className:"tweet-screen-name Cur(p) C($c-fuji-blue-1-a) D(ib) Lh(14px) Py(3px)","data-screen_name":e.screen_name,href:r.twitter_intent_url_prefix+r.twitter_user_url_suffix+e.screen_name,rel:"nofollow",target:"_blank"},o["default"].createElement("span",null,"@",e.screen_name))),o["default"].createElement("div",{className:"D(ib) Pt(10px) C($c-fuji-grey-l) Mend(-20px) Va(t)"},o["default"].createElement(a.Icon,{asset:l["default"],className:"Cur(d)!",width:i,height:i,color:"#1da1f2"})))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.config.isSummaryView,r=e.mode,i=e.postId,a=e.tweet,s=(0,p["default"])(a,"id",null);if(!a||!s||!i)return null;var l=(0,p["default"])(a,"user",null),c=(0,p["default"])(a,"publish_time",null),f=(0,v.getOrignalResolution)((0,p["default"])(a,"media_entities[0].media_image",{})),h=(0,p["default"])(a,"text",null),g="EMBED"===r;return o["default"].createElement("div",{className:(0,d["default"])("lc-tweet-post Cl(b)",{"Mt(10px) P(20px) Pb(0) Bdw(1px) Bds(s) Bdrs(4px) Bdc($c-fuji-grey-d)":g})},this.renderTwitterUserHead(l,g),o["default"].createElement("div",{className:(0,d["default"])({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!g&&!n,"Pb(10px)":n})},o["default"].createElement("div",{className:n?"Pt(10px)":""},this.renderContent(h,i)),o["default"].createElement("div",{className:(0,d["default"])({"Mt(18px)":f},{"Pt(10px)":n})},this.renderImg(f)),o["default"].createElement("div",{className:"D(ib)"},o["default"].createElement(u["default"],{config:t,tweetId:s,postId:i,retweetCount:(0,p["default"])(a,"retweet_count",0),favoriteCount:(0,p["default"])(a,"favorites_count",0)})),this.renderTimestamp(c,n)))}}]),t}(s["default"]);g.propTypes={config:i["default"].object.isRequired,postId:i["default"].string.isRequired,tweet:i["default"].object.isRequired,mode:i["default"].string},t["default"]=g,e.exports=t["default"]},2831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(n(4));var r=o(n(2)),i=n(1448);function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(e){var t=e.markup;return t?r["default"].createElement(i.Tweet,{className:"lc-tweet-widget Pb(20px)"+(e.isEmbed?"":" Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d)"),content:'<blockquote class="twitter-tweet">'+t+"</blockquote>",type:"tweet"}):null};a.displayName="TweetWidget",t["default"]=a,e.exports=t["default"]},2832:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(n(4));var r=o(n(2)),i=n(1448);function o(e){return e&&e.__esModule?e:{"default":e}}t["default"]=function(e){var t=e.sourceURL,n=e.text;if(!t)return null;var o='<p><a href="'+t+'">'+(n&&n.length?n:"instagram")+"</a></p>",a="instagram-media"+(e.isEmbed?"":" Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d)");return r["default"].createElement(i.Instagram,{id:parseInt(e.id),className:a,content:o})},e.exports=t["default"]},3576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=O(n(4)),o=O(n(2)),a=O(n(1636)),s=O(n(2264)),l=O(n(183)),u=O(n(3577)),c=O(n(3578)),f=O(n(3579)),d=O(n(3580)),p=O(n(3583)),v=O(n(3584)),h=O(n(2830)),g=O(n(2831)),m=O(n(2832)),_=n(1448),w=O(n(323)),b=n(85),y=n(322),C=n(321),x=O(n(1134)),P=O(n(3585)),E=O(n(3586)),N=O(n(86)),T=O(n(1084)),k=O(n(58)),L=O(n(119)),M=n(2524),S=n(2267);function O(e){return e&&e.__esModule?e:{"default":e}}var I,B,j="undefined"!=typeof window;j&&(I=window,B=document);var R=["IMAGE","TEXT","HTML","TWITTER","INSTAGRAM"],F=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.state={isLive:!1,fetching:!1,viewMore:!0,scrollBeyondTop:!0,scrollBelowBottom:!1};var i=e.config||{};r.fetchNewPostsTimeoutId=null,r.newPostsClickTime=Date.now(),r.fixedMenuHeight=e.fixedMenuHeight||i.fixedMenuHeight;return["fetchNewPosts","handleViewMoreClick","handleNewPostsClick","handleTweetLinksClick","handleScroll","onFocus","onBlur","onVisibilityChange","renderPost","updateContainerBoundary"].forEach((function(e){r[e]=r[e].bind(r)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;this.startNewPostsRefresh(),this._subscribers=[(0,k["default"])("scroll",this.handleScroll,{enableScrollInfo:!0}),(0,k["default"])("resize",this.handleScroll,{enableScrollInfo:!0}),(0,k["default"])("visibilitychange",this.onVisibilityChange)],!B||"undefined"!=typeof B.visibilityState&&"undefined"!=typeof B.hidden||(this._eventListeners=[L["default"].listen(I,"focus",this.onFocus),L["default"].listen(I,"blur",this.onBlur)]),setTimeout((function(){e.updateContainerBoundary()}),100)}},{key:"componentWillUnmount",value:function(){this.stopNewPostsRefresh(),this._subscribers&&this._subscribers.forEach((function(e){return e.unsubscribe()})),this._eventListeners&&this._eventListeners.forEach((function(e){return e.remove()}))}},{key:"componentWillReceiveProps",value:function(e){this.setState({fetching:!1,viewMore:0!==this.props.moreLiveCoveragePostsCount})}},{key:"componentDidUpdate",value:function(){var e=this;setTimeout((function(){e.updateContainerBoundary()}),100)}},{key:"shouldFetchNewPosts",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:(0,N["default"])(this.props,"liveCoverage.posts[0]",{}),t=Date.now(),n=this.props.config.isSummaryView,r=void 0,i=void 0;if(!n)return this.hasFailed()?(this.context.beacon("info","liveCoverage",{code:"pollingStopped",msg:"serviceFailure"}),!1):!(e.post_id&&((r=(0,N["default"])(e,"publish_time",null))>0&&(i=(t/1e3-r)/86400),Math.abs(i)>(0,N["default"])(this.props,"config.max_no_of_days_to_refresh_data",1)||Math.abs((this.newPostsClickTime-Date.now())/1e3/60)>(0,N["default"])(this.props,"config.limit_max_idle_time",20)))||(this.context.beacon("info","liveCoverage",{code:"pollingStopped",msg:"oldEvent"}),!1)}},{key:"startNewPostsRefresh",value:function(e){var t=this;t.shouldFetchNewPosts()&&(e&&(t.stopNewPostsRefresh(),t.fetchNewPosts()),t.fetchNewPostsTimeoutId=setTimeout((function(){t.stopNewPostsRefresh(),t.fetchNewPosts(),t.startNewPostsRefresh()}),(0,N["default"])(t.props,"config.delay",6e4)),this.setState({isLive:!0}))}},{key:"stopNewPostsRefresh",value:function(){clearTimeout(this.fetchNewPostsTimeoutId),this.setState({isLive:!1})}},{key:"updateContainerBoundary",value:function(){if(j){var e=I.pageYOffset||(0,N["default"])(B,"documentElement.scrollTop",0),t=this.refs.livecoverage&&this.refs.livecoverage.getBoundingClientRect();t&&t.top&&(this._topBoundary=t.top+e,this._bottomBoundary=t.bottom+e)}}},{key:"handleResize",value:function(e,t){this.updateContainerBoundary(),this.handleScroll(e,t)}},{key:"handleScroll",value:function(e,t){var n=this.state,r=(0,N["default"])(t,"scroll.top",0),i=this._topBoundary-r>(0,N["default"])(this.props,"config.livecoverage_scrolldetection_offset",0),o=this._bottomBoundary-r<this.fixedMenuHeight;i===n.scrollBeyondTop&&o===n.scrollBelowBottom||this.setState({scrollBeyondTop:i,scrollBelowBottom:o})}},{key:"scrollToTop",value:function(){this.refs.liveCoverageBegin&&this.refs.liveCoverageBegin.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"handleNewPostsClick",value:function(e){this.newPostsClickTime=Date.now(),this.context.executeAction(u["default"]),e.preventDefault&&(e.preventDefault(),this.scrollToTop())}},{key:"handleViewMoreClick",value:function(e){e.preventDefault&&e.preventDefault(),this.setState({fetching:!0,viewMore:!1});var t=this.props.liveCoverage.posts,n=t[t.length-1];n.post_id&&this.context.executeAction(f["default"],{event_id:this.props.liveCoverage.event[0].event_id,post_id:n.post_id,direction:(0,N["default"])(this.props,"config.down","DOWN"),count:(0,N["default"])(this.props,"config.limit_no_of_posts",10),instanceId:this.props.id})}},{key:"handleTweetLinksClick",value:function(e){var t=this.props,n=t.config,r=t.config,i=r.twitter_intent_url_prefix,o=r.twitter_reply_url_suffix,a=r.twitter_retweet_url_suffix,s=r.twitter_favorite_url_suffix,l=!1,u="";"A"===(0,N["default"])(e,"target.nodeName","")&&(0,N["default"])(e,"target.className","").includes("tweet-")&&(e.preventDefault&&e.preventDefault(),""!==(0,N["default"])(e,'target.dataset["screen_name"]',"")&&(l=!0,u=i+n.twitter_user_url_suffix+(0,N["default"])(e,'target.dataset["screen_name"]',"")));var c=void 0;if("A"===(0,N["default"])(e,"target.parentNode.nodeName","")?c=(0,N["default"])(e,"target.parentNode",null):"A"===(0,N["default"])(e,"target.parentNode.parentNode.nodeName","")&&(c=(0,N["default"])(e,"target.parentNode.parentNode",null)),c&&(0,N["default"])(c,"className","").includes("tweet-")){if(e.preventDefault&&e.preventDefault(),""!==(0,N["default"])(c,'dataset["screen_name"]',""))l=!0,u=i+n.twitter_user_url_suffix+(0,N["default"])(c,'dataset["screen_name"]',"");else{var f=(0,N["default"])(c,'parentNode.dataset["tweet_id"]',"");if(""!==f){l=!0;var d=(0,N["default"])(c,"className","");d.includes("tweet-reply")?u=i+o+f:d.includes("tweet-retweet")?u=i+a+f:d.includes("tweet-favorite")&&(u=i+s+f)}}l=!0}l&&I&&I.open(u,"YahooLiveCoverageTwitterWindow","width=575,height=400")}},{key:"handleFailureNoticeClick",value:function(e){I&&I.location.reload()}},{key:"onFocus",value:function(e){this.newPostsClickTime=Date.now(),this.startNewPostsRefresh(!0)}},{key:"onBlur",value:function(e){this.stopNewPostsRefresh(),this.context.beacon("info","liveCoverage",{code:"pollingStopped",msg:"lostWindowFocus"})}},{key:"onVisibilityChange",value:function(e){B.hidden?this.onBlur(e):this.onFocus(e)}},{key:"fetchNewPosts",value:function(){if(!this.state.fetching){this.setState({fetching:!0});var e=(0,N["default"])(this.props,"liveCoverage.event[0]",{}),t=(0,N["default"])(this.props,"liveCoverage.posts[0]",{});(0,N["default"])(this.props,"newLiveCoverage.posts.length",0)>0&&(t=(0,N["default"])(this.props,"newLiveCoverage.posts[0]",{})),this.shouldFetchNewPosts(t)&&t.post_id&&e.event_id?this.context.executeAction(f["default"],{event_id:e.event_id,post_id:t.post_id,direction:(0,N["default"])(this.props,"config.up","UP"),count:(0,N["default"])(this.props,"config.limit_no_of_new_posts",20),instanceId:this.props.id}):this.stopNewPostsRefresh()}}},{key:"renderViewMore",value:function(){return o["default"].createElement(y.I13nButton,{className:"view-more-btn D(b) Py(10px) Px(25px) Fz(14px) Tt(c) My(20px) Mx(a) Fw(b) Ff(ss) Ta(c) Cur(p) Bdrs(4px) Bdw(2px) Bd Trsdu(.2s) Bgc(#fff) C($c-fuji-blue-1-a) Bdc($c-fuji-blue-1-a) Bgc($c-fuji-blue-1-a):h C(#fff):h",onClick:this.handleViewMoreClick,i13nModel:(0,M.getI13nModel)("view-more-click")},o["default"].createElement(b.FormattedMessage,{id:"SHOW_MORE"}),o["default"].createElement("a",{href:"?view_all_live_posts=1",className:"D(n)"})," ")}},{key:"renderFooter",value:function(){var e=this.props.config.footer.footerConfigs,t=e.link,n=e.followLink;return o["default"].createElement("div",null,o["default"].createElement("span",{className:"Pos(a) Bxz(bb) W(14px) H(14px) Bgc(#fff) Bdw(4px) Bds(s) Bdc($c-fuji-blue-1-a) Bdrs(50%) Start(-6px) B(1px)"}),o["default"].createElement(w["default"],{className:"view-more-btn D(b) Fz(14px) Td(n) Tt(c) Mb(40px) Fw(b) C($c-fuji-blue-1-a) Ff(ss) Bdw(0) Ta(s) Mstart(25px) Cur(p) Va(m) Trsdu(.2s)",href:t,follow:n,i13nModel:(0,M.getI13nModel)("view-more-click")},o["default"].createElement(b.FormattedMessage,{id:"SHOW_MORE"}),o["default"].createElement(C.Icon,{asset:x["default"],className:"D(ib) Pstart(3px)",width:11,height:15,color:"#188fff"}),o["default"].createElement("u",{className:"StretchedBox Z(1)"})))}},{key:"renderLiveIndicator",value:function(){if(this.hasFailed())return null;var e="C(#fff) Bgc($c-fuji-red-2-b) Bgi(liveIndicatorGradient)",t="LIVE";return this.state.isLive&&!1!==(0,N["default"])(this.props,"liveCoverage.event[0].is_live")||(e="C($c-fuji-grey-g) Bgc($c-fuji-grey-b)",t="NOTLIVE"),o["default"].createElement("strong",{className:"lc-live-indicator D(ib) Bdrs(2px) Px(30px) Mstart(-5px) Mb(10px) Py(7px) Fz(16px) Ff(ss) "+e},o["default"].createElement(b.FormattedMessage,{id:t}))}},{key:"hasFailed",value:function(){return this.props.newLiveCoverageFailureCount>(0,N["default"])(this.props,"config.max_new_live_coverage_api_failure_count",2)}},{key:"renderFailureNotice",value:function(){return this.hasFailed()?o["default"].createElement(y.I13nButton,{className:"view-more-btn D(b) Py(10px) Px(30px) Fz(14px) Td(n) Tt(c) My(20px) Fw(b) Ff(ss) Ta(c) Cur(p) Va(m) Bdrs(4px) Bdw(2px) Bd Trsdu(.2s) Bgc(#fff) C($c-fuji-blue-1-a) Bdc($c-fuji-blue-1-a) Bgc($c-fuji-blue-1-a):h C(#fff):h",onClick:this.handleFailureNoticeClick,i13nModel:(0,M.getI13nModel)("fail-retry-click")},o["default"].createElement(b.FormattedMessage,{id:"FAIL"})):null}},{key:"renderTweets",value:function(e,t){var n=this,r=e.media.twitter_post,i=e.publish_time,a=e.post_id;return Array.isArray(r)?r.map((function(e){return o["default"].createElement(h["default"],{config:n.props.config,isPinned:t,key:(0,N["default"])(e,"id",null),postId:a,postTime:1e3*i,tweet:e})})):o["default"].createElement(h["default"],{config:n.props.config,isPinned:t,postId:a,postTime:1e3*i,tweet:r})}},{key:"renderInstagramPosts",value:function(e){var t=(0,N["default"])(e,"media.instagram_post");if(!t)return null;return Array.isArray(t)?t.map((function(e){return o["default"].createElement(m["default"],{key:e.id,id:e.id,sourceURL:e.source_url,text:e.text})})):o["default"].createElement(m["default"],{id:t.id,sourceURL:t.source_url,text:t.text})}},{key:"renderPostByType",value:function(e,t){switch(e.type){case"TEXT":return e.source&&"null"!==e.source?o["default"].createElement(g["default"],{markup:e.source}):o["default"].createElement(v["default"],{isPinned:t,post:e,postId:(0,N["default"])(e,"post_id",null),config:this.props.config});case"IMAGE":return e.source&&"null"!==e.source?o["default"].createElement(_.Instagram,{content:e.source}):o["default"].createElement(p["default"],{post:e,isPinned:t,postId:(0,N["default"])(e,"post_id",null),config:this.props.config});case"TWITTER":if((0,S.shouldUseTweetWidget)(e.media)){var n=[].concat((0,N["default"])(e.media,"twitter_post",{}))[0];return o["default"].createElement(g["default"],{markup:n.source_url?'<a href="'+n.source_url+'">'+(n.text&&n.text.length?n.text:"twitter")+"</a>":e.source})}return this.renderTweets(e,t);case"INSTAGRAM":return this.renderInstagramPosts(e);case"HTML":return o["default"].createElement(d["default"],{isPinned:t,post:e,postId:(0,N["default"])(e,"post_id",null),config:this.props.config});default:return null}}},{key:"renderPost",value:function(e,t){var n=e.post_id,r=this.props.config.isSummaryView;if(-1===R.indexOf(e.type))return null;var i=o["default"].createElement("span",{className:"Pos(a) Bxz(bb) T(0) Start(-11px) Bgc(#fff) Pstart(1px)"},o["default"].createElement(C.Icon,{asset:E["default"],className:"D(ib) Mt(10px) Mb(5px)",width:20,height:20,color:"#ff2429"})),a=o["default"].createElement("span",{className:(0,T["default"])("Pos(a) Bxz(bb) W(14px) H(14px) Bgc(#fff) Bdw(4px) Bds(s) Bdc($c-fuji-blue-1-a) Bgc(#fff) Bdrs(50%) Start(-7px)",{"new-post":e.isNew,"T(7px)":r,"T(10px)":!r}),style:{outline:"10px solid white"}}),s=t?i:a;return o["default"].createElement("li",{key:n,"data-postid":n,className:(0,T["default"])("live-coverage-list post Pos(r) List(n) Pstart(25px) Bdstartw(1px) Bdstartc($c-fuji-grey-d) Bdstarts(s) Ovs(touch)",{"Py(6px) Pend(0)":r,"Py(10px)":!r})},o["default"].createElement(y.I13nDiv,{isLeafNode:!0,i13nModel:(0,M.getI13nModel)("post-view",{g:n})}),s,this.renderPostByType(e,t))}},{key:"renderNewUpdateButton",value:function(){if(0===(0,N["default"])(this.props,"newLiveCoverage.posts.length",0))return null;var e=this.state,t=e.scrollBeyondTop,n=e.scrollBelowBottom;t&&this.handleNewPostsClick({});var r=!t&&!n,i={top:r?this.fixedMenuHeight:"-30px"};return o["default"].createElement("div",{className:(0,T["default"])("W(100%) Start(0)",{"Pos(a)":!r,"Pos(f) Z(11)":r}),style:i},o["default"].createElement(y.I13nButton,{className:"new-posts-btn D(b) Cur(p) Tt(c) Mx(a) Px(20px) Py(6px) Op(0.9) Ta(c) Bdrs(4px) Bgc(#fff) C($c-fuji-blue-1-a) Fz(14px) Fw(b) Ff(ss)",onClick:this.handleNewPostsClick,i13nModel:(0,M.getI13nModel)("new-posts-click")},o["default"].createElement(b.FormattedMessage,{id:"NEW_UPDATES"}),o["default"].createElement(C.Icon,{asset:P["default"],className:"D(ib) Pstart(3px)",width:10,height:15,color:"#188fff"})))}},{key:"render",value:function(){var e=this;if(0===(0,N["default"])(e.props,"liveCoverage.posts.length",0))return null;var t=e.props.liveCoverage.posts.map((function(t){return e.renderPost(t,!1)})),n=e.props,r=n.config,i=r.enableFooter,s=r.isSummaryView,l=n.liveCoverage.pinnedPosts,u=null;r.enablePinnedPosts&&l&&(u=l.map((function(t){return e.renderPost(t,!0)})));var c=(0,T["default"])("tdv2-applet-livecoverage Pos(r) Pstart(10px) Fz(15px) Mt(40px)",{"Pstart(0)":s});return o["default"].createElement("div",{className:c,ref:"livecoverage"},o["default"].createElement("a",{ref:"liveCoverageBegin",className:"Pos(a) Mt(-150px)",href:"#"}),s?o["default"].createElement("div",{className:"Fz(16px) C($c-fuji-grey-l) Ta(start) Fw(b) Mb(20px)"},o["default"].createElement(b.FormattedMessage,{id:"HEADER_TITLE"})):null,e.renderLiveIndicator(),e.renderFailureNotice(),o["default"].createElement(y.I13nDiv,{isLeafNode:!0,i13nModel:(0,M.getI13nModel)("module-view")}),e.renderNewUpdateButton(),o["default"].createElement(a["default"],{component:"ul",className:(0,T["default"])("posts P(0)",{"M(0)":s}),transitionEnterTimeout:500,transitionLeaveTimeout:1e3,transitionName:"action",onClick:e.handleTweetLinksClick},u,t),i?e.renderFooter():e.state.viewMore?e.renderViewMore():null)}}]),t}(o["default"].PureComponent);F.componentConfig="componentLiveCoverage",F.initializeAction=c["default"],F.contextTypes={executeAction:i["default"].func.isRequired,beacon:i["default"].func.isRequired,session:i["default"].object},F=(0,l["default"])(F,[s["default"]],(function(e,t){var n=e.getStore(s["default"]);return{liveCoverage:n.getLiveCoverage(),newLiveCoverage:n.getNewLiveCoverage(),newLiveCoverageFailureCount:n.getNewLiveCoverageFailureCount(),moreLiveCoveragePostsCount:n.getMoreLiveCoveragePostsCount(),config:t.componentConfig}})),t["default"]=F,e.exports=t["default"]},3577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){e.dispatch("APPEND_NEW_LIVE_COVERAGE_POSTS_SUCCESS",null),n&&n()};r.displayName="appendNewLiveCoveragePosts",t["default"]=r,e.exports=t["default"]},3578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(86),o=(r=i)&&r.__esModule?r:{"default":r};var a=function(e,t,n){var r=t.instanceId||(0,o["default"])(t,"componentProps.id",null),i=(0,o["default"])(t,"componentProps.componentConfig.event_id",null),a=(0,o["default"])(t,"componentProps.componentConfig.limit_no_of_posts",10);if(!i)return n&&n();e.service.read("LiveCoverageService.event.posts",{instanceId:r,event_id:i,count:a},{},(function(t,i){if(!i||t)return n&&n(t);e.dispatch("GET_LIVE_COVERAGE_POSTS_SUCCESS",{instanceId:r,liveCoverage:{event:i.event.result,posts:i.posts.result,deletedPosts:(i.deletes||{}).result,pinnedPosts:(i.pinned_posts||{}).result}}),n&&n()}))};a.displayName="getLiveCoveragePosts",t["default"]=a,e.exports=t["default"]},3579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(86),o=(r=i)&&r.__esModule?r:{"default":r};var a=function(e,t,n){var r=t.instanceId||(0,o["default"])(t,"componentProps.id",null),i=t,a="GET_MORE_LIVE_COVERAGE_POSTS_SUCCESS";"UP"===t.direction&&(a="GET_NEW_LIVE_COVERAGE_POSTS_SUCCESS"),i.instanceId=r,e.service.read("LiveCoverageService.event.more",i,{},(function(i,o){if(!o||i)return"UP"===t.direction&&(e.dispatch("GET_NEW_LIVE_COVERAGE_POSTS_FAILURE",i),e.beacon("info","liveCoverage",{code:"serviceFailure",msg:i})),n&&n(i);e.dispatch(a,{instanceId:r,liveCoverage:{event:o.event.result,posts:o.posts.result,deletedPosts:(o.deletes||{}).result,pinnedPosts:(o.pinned_posts||{}).result}}),"UP"===t.direction&&e.beacon("info","liveCoverage",{code:"serviceSuccess"}),n&&n()}))};a.displayName="getMoreLiveCoveragePosts",t["default"]=a,e.exports=t["default"]},3580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=v(n(4)),o=v(n(2)),a=v(n(1084)),s=v(n(86)),l=n(2267),u=v(n(2268)),c=v(n(2830)),f=v(n(2831)),d=v(n(2832)),p=n(1448);function v(e){return e&&e.__esModule?e:{"default":e}}var h=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"renderGraphiqContent",value:function(e,t){var n=this.props,r=n.config,i=n.config.graphiqMarkup,a=(0,l.parseGraphiq)(e,i);return i&&a?a.map((function(e){return o["default"].createElement(p.Graphiq,{config:r,content:e,key:t,postId:t})})):null}},{key:"renderTwitterContent",value:function(e){var t=(0,s["default"])(e,"media",null);if(!t||!t.twitter_post)return null;var n=(0,l.shouldUseTweetWidget)(t),r=[].concat((0,s["default"])(e,"media.twitter_post",[])),i=this.props.config,a=void 0;return r.length>0&&(a=r.map((function(t){return n?o["default"].createElement(f["default"],{key:(0,s["default"])(t,"id",null),isEmbed:!0,markup:t.source_url?'<a href="'+t.source_url+'">'+(t.text&&t.text.length?t.text:"twitter")+"</a>":e.source}):o["default"].createElement(c["default"],{tweet:t,mode:"EMBED",key:(0,s["default"])(t,"id",null),postId:(0,s["default"])(e,"post_id",null),postTime:1e3*(0,s["default"])(e,"publish_time",null),config:i})}))),a}},{key:"renderInstagramPosts",value:function(e){var t=[].concat((0,s["default"])(e,"media.instagram_post",[]));return t.length?t.map((function(e){return o["default"].createElement(d["default"],{key:e.id,id:e.id,isEmbed:!0,sourceURL:e.source_url,text:e.text})})):null}},{key:"render",value:function(){var e=this.props,t=e.isPinned,n=e.post,r=e.postId,i=e.config.isSummaryView,u=(0,s["default"])(n,"media",null);if(!n||!r||!u)return null;var c=(0,s["default"])(n,"content",null);return n.isGraphiq=(0,l.isGraphiq)(c),o["default"].createElement("div",{className:"lc-html-post"},this.renderAttribution(n,t),o["default"].createElement("div",{className:(0,a["default"])({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!i,"Pb(10px)":i})},this.renderContent(c,r,!0),o["default"].createElement("div",{className:"Pb(10px) Ov(h) Pos(r)"},n.isGraphiq?this.renderGraphiqContent(c,r):null,this.renderTwitterContent(n),this.renderInstagramPosts(n))))}}]),t}(u["default"]);h.propTypes={config:i["default"].object.isRequired,postId:i["default"].string.isRequired,post:i["default"].object.isRequired},t["default"]=h,e.exports=t["default"]},3581:function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{"default":r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=n.social,i=r===undefined?"":r,o=n.newWindow,a=o===undefined||o,l=n.className,u=l===undefined?"":l;if(s(this,e),this._text=t,!t)return!1;if(this._cfg={newWindow:a,className:u},this.convertLinks(),i){var c=e.getSocialMeta(i);c&&this.convertSocialLinks(c)}}return i(e,[{key:"getAttrs",value:function(){var e=this._cfg,t=e.className,n=[];return e.newWindow&&n.push('target="_blank" rel="noopener noreferrer"'),t&&n.push('class="'+t+'"'),n.length?" "+n.join(" "):""}}],[{key:"getSocialMeta",value:function(e){return{twitter:{base:"https://twitter.com/",hashPath:"hashtag/"}}[e]}}]),i(e,[{key:"convertLinks",value:function(){var e=this.getAttrs();this._text=this._text.replace(new RegExp(a["default"].URLPATTERN,"gim"),'<a href="$&"'+e+">$&</a>").replace(new RegExp(a["default"].PSEUDOURLPATTERN,"gim"),'$1<a href="http://$2"'+e+">$2</a>")}},{key:"convertSocialLinks",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.base,n=t===undefined?"https://twitter.com/":t,r=e.hashPath,i=r===undefined?"hashtag/":r,o=this.getAttrs();this._text=this._text.replace(new RegExp(a["default"].MENTIONS,"gi"),(function(e,t,r,i){return t?e:'<a href="'+n+i+'" title="Follow '+i+'"'+o+">@"+i+"</a>"})).replace(new RegExp(a["default"].HASHTAGS,"gi"),(function(e,t,r,a){return t?e:'<a href="'+n+i+a+'" title="Search tag: '+a+'"'+o+">#"+a+"</a>"}))}},{key:"getText",value:function(){return this._text}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";e.exports=Object.freeze({URLPATTERN:"\\b(?:https?|ftp)://[a-z0-9-+&@#/%?=~_|!:,.;]*[a-z0-9-+&@#/%=~_|]",PSEUDOURLPATTERN:"(^|[^/])(www\\.[a-z0-9-+&@#/%?=~_|!:,.;]*[a-z0-9-+&@#/%=~_|])",MENTIONS:"(://|>)?(@([_a-z0-9-]+))",HASHTAGS:"(://[^ <]*|>)?(#([_a-z0-9-]+))"})}])},e.exports=r()},3582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(f(n(4)),f(n(2))),o=n(321),a=f(n(1989)),s=f(n(1990)),l=f(n(1991)),u=n(322),c=n(2524);function f(e){return e&&e.__esModule?e:{"default":e}}var d=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.tweetId,n=e.config;return!t||!n||n&&n.isSummaryView?null:i["default"].createElement("div",{"data-tweet_id":t,className:"twitter-actions"},i["default"].createElement(u.I13nAnchor,{className:"tweet-reply Cur(p) D(ib) Mend(5px) Fl(start)",href:n.twitter_intent_url_prefix+n.twitter_reply_url_suffix+t,rel:"nofollow",target:"_blank",i13nModel:(0,c.getI13nModel)("twitter-action-click",{g:this.props.postId,subsec:"Reply"})},i["default"].createElement(o.Icon,{asset:a["default"],width:32,height:32,color:"#14171a"})),i["default"].createElement(u.I13nAnchor,{className:"tweet-retweet Cur(p) D(ib)) Mend(5px) Fl(start)",href:n.twitter_intent_url_prefix+n.twitter_retweet_url_suffix+t,rel:"nofollow",target:"_blank",i13nModel:(0,c.getI13nModel)("twitter-action-click",{g:this.props.postId,subsec:"Retweet"})},i["default"].createElement(o.Icon,{asset:s["default"],width:32,height:32,color:"#14171a"})),i["default"].createElement(u.I13nAnchor,{className:"tweet-favorite Cur(p) D(ib) Mend(5px) Fl(start)",href:n.twitter_intent_url_prefix+n.twitter_favorite_url_suffix+t,rel:"nofollow",target:"_blank",i13nModel:(0,c.getI13nModel)("twitter-action-click",{g:this.props.postId,subsec:"Favorite"})},i["default"].createElement(o.Icon,{asset:l["default"],width:32,height:32,color:"#14171a"})))}}]),t}(i["default"].Component);t["default"]=d,e.exports=t["default"]},3583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(4)),o=c(n(2)),a=c(n(86)),s=c(n(2268)),l=c(n(1084)),u=n(2267);function c(e){return e&&e.__esModule?e:{"default":e}}var f=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"render",value:function(){var e=this,t=e.props,n=t.isPinned,r=t.post,i=t.postId,s=t.config.isSummaryView;if(!r||!i)return null;var c=(0,a["default"])(r,"content",null),f=(0,a["default"])(r,"media.thumbnail",null),d=void 0;return d=Array.isArray(f)?f.map((function(t){return e.renderImg((0,u.getOrignalResolution)(t))})):e.renderImg((0,u.getOrignalResolution)((0,a["default"])(r,"media.thumbnail"))),o["default"].createElement("div",{className:"lc-img-post"},e.renderAttribution(r,n),o["default"].createElement("div",{className:(0,l["default"])({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!s,"Pb(10px)":s})},e.renderContent(c,i),d))}}]),t}(s["default"]);f.propTypes={config:i["default"].object.isRequired,postId:i["default"].string.isRequired,post:i["default"].object.isRequired},t["default"]=f,e.exports=t["default"]},3584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(4)),o=u(n(2)),a=u(n(86)),s=u(n(2268)),l=u(n(1084));function u(e){return e&&e.__esModule?e:{"default":e}}var c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.postId!==this.props.postId}},{key:"render",value:function(){var e=this.props,t=e.isPinned,n=e.post,r=e.postId,i=e.config.isSummaryView;if(!n||!r)return null;var s=(0,a["default"])(n,"content",null);return o["default"].createElement("div",{className:"lc-text-post"},this.renderAttribution(n,t),o["default"].createElement("div",{className:(0,l["default"])({"Bdbw(1px) Bdbc($c-fuji-grey-d) Bdbs(d) Pb(20px)":!i,"Pb(10px)":i})},this.renderContent(s,r)))}}]),t}(s["default"]);c.propTypes={config:i["default"].object.isRequired,postId:i["default"].string.isRequired,post:i["default"].object.isRequired},t["default"]=c,e.exports=t["default"]},3585:function(e,t,n){if(void 0===r)var r={};r.FinanceArrowUp={name:"FinanceArrowUp",height:512,width:512,path:"M255.97 0L74 181.97l136.563.06v329.283l90.906.062V181.97h136.435L255.97 0z"},e.exports&&(e.exports=r.FinanceArrowUp)},3586:function(e,t,n){if(void 0===r)var r={};r["bookmark-fill"]={name:"bookmark-fill",height:24,width:24,path:"M19 22.007V8H5v14.007c0 .782.87 1.256 1.536.838L12 19.408l5.465 3.437c.666.418 1.536-.056 1.536-.838zM18 1H6c-.553 0-1 .444-1 .992V6h14V1.992C19 1.444 18.553 1 18 1z"},e.exports&&(e.exports=r["bookmark-fill"])}}]);